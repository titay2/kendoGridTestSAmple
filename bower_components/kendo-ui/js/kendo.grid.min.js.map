{"version":3,"sources":["kendo.grid.js"],"names":["f","define","$","normalizeText","text","String","replace","REPLACE_REGEX","SPACE","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","attrEquals","attrName","attrValue","attr","groupCells","count","Array","stringifyAttributes","attributes","result","STRING","cursor","context","add","css","reorder","selector","source","dest","before","idx","sourceIndex","eq","appendTo","elements","lockedContent","content","filter","find","attachCustomCommandEvent","container","commands","command","commandName","isArray","isPlainObject","click","name","on","CLICK","NS","proxy","normalizeColumns","columns","encoded","hide","column","hidden","uid","field","isVisible","addHiddenStyle","footerAttributes","headerAttributes","guid","id","columnParent","parents","columnParents","inserted","splice","setColumnVisibility","visible","method","removeHiddenStyle","isCellVisible","display","visibleColumns","grep","toJQuery","toArray","updateCellRowSpan","cell","sourceLockedColumnsCount","lockedColumnDepth","depth","lockedColumns","nonLockedColumnDepth","nonLockedColumns","rowSpan","moveCellsBetweenContainers","sources","target","leafs","destination","groups","rows","sourcesDepth","targetDepth","children","insertAfter","last","addRowSpanValue","moveCells","updateCellIndex","thead","offset","position","allColumns","cells","leafColumns","el","hasClass","columnPosition","row","temp","max","sourcePosition","columnVisiblePosition","ths","t","append","concat","cellCounts","findParentColumnWithChildren","index","rtl","locked","findReorderTarget","parent","parentColumns","inArray","flatColumnsInDomOrder","flatColumns","targetParentContainerIndex","targetIndex","hiddenLeafColumnsCount","counter","columnsWidth","cols","colWidth","indexOf","parseInt","removeRowSpanValue","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","rowIndex","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","leafDataCells","indexAttr","a","b","indexA","indexB","parentColumnsCells","parentCellsWithChildren","prevCells","parentCell","closest","headerRows","level","prevAll","colSpan","Math","getAttribute","childColumnsCells","child","colSpanAttr","next","appendContent","tbody","table","html","empty","placeholder","tmp","tbodySupportsInnerHtml","innerHTML","firstChild","replaceChild","normalizeCols","hasDetails","colgroup","format","is","prepend","browser","msie","version","setTimeout","normalizeHeaderCells","len","lastIndex","th","insertBefore","convertToObject","array","item","formatGroupValue","columnValues","isForeignKey","groupValue","htmlEncode","setCellVisibility","state","pad","nonDataCellsRegExp","test","className","hideColumnCells","columnIndex","groupRows","data","hasSubgroups","items","groupFooters","aggregates","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","syncTableHeight","table1","table2","lockedHeigth","tableHeigth","diff","filterRowRegExp","adjustRowHeight","row1","row2","offsetHeight1","offsetHeight2","getCommand","focusTable","direct","scrollLeft","focusElement","one","e","preventDefault","focus","isColumnEditable","model","selectable","editable","isInputElement","element","tableClick","currentTarget","isHeader","lockedTable","headerTable","lockedHeader","isInput","currentTable","support","touch","roleSelector","_setCurrent","navigatable","isIE8","_activeElement","contains","isInEdit","groupRowBuilder","colspan","ARIALABEL","COLLAPSE","groupRowLockedContentBuilder","ui","DataSource","ObservableObject","tbodyInnerHtml","activeElement","Widget","outerWidth","_outerWidth","outerHeight","_outerHeight","keys","prototype","isFunction","isEmptyObject","math","PROGRESS","ERROR","DATA_CELL","SELECTION_CELL_SELECTOR","NAVROW","NAVCELL","ITEMROW","FIRSTITEMROW","LASTITEMROW","FIRSTNAVITEM","HEADERCELLS","EDIT","BEFOREEDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","FILTERMENUOPEN","COLUMNMENUOPEN","CELLCLOSE","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","ITEM_CHANGE","PAGE","PAGING","SCROLL","SYNC","FOCUSED","FOCUSABLE","SELECTED","CHECKBOX","CHECKBOXINPUT","NORECORDSCLASS","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","NAVIGATE","HEIGHT","TABINDEX","FUNCTION","BOTTOM","CONTAINER_FOR","FIELD","INPUT","INCELL","INLINE","UNIQUE_ID","DELETECONFIRM","NORECORDS","CONFIRMDELETE","CANCELDELETE","EXPAND","formatRegExp","templateHashRegExp","whitespaceRegExp","RegExp","COMMANDBUTTONTMPL","SELECTCOLUMNTMPL","SELECTCOLUMNHEADERTMPL","isRtl","isIE7","isIE11","VirtualScrollable","that","fn","call","_refreshHandler","refresh","setDataSource","dataSource","wrap","unbind","bind","useRanges","itemHeight","noop","prefetch","maxScrollHeight","events","destroy","wrapper","verticalScrollbar","off","drag","scrollbar","overflow","first","_wheelScroll","_wrapper","kineticScrollNeeded","UserEvents","global","allowSelection","start","sender","capture","move","scrollTop","y","delta","x","_scroll","overflow-y","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","rowHeight","skip","_rangeStart","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","floor","lastItemOffset","ceil","lastItemIndex","_preventScroll","_scrollTop","_scrolling","_fetch","trigger","_scrollingTimeout","clearTimeout","_page","take","scrollToTop","_scrollTo","scrollToBottom","_scrollWrapperToTop","_scrollWrapperToBottom","_scrollWrapperOnColumnResize","initialScrollTop","scrollWidth","clientWidth","_wrapperScrolled","_isScrolledToBottom","_isWrapperScrolledToBottom","_isScrolledToTop","itemIndex","rangeStart","_isElementVisible","_isElementVisibleInWrapper","halfHeight","top","abs","pageSize","scrollIntoView","containerHeight","containerScroll","elementOffset","elementHeight","scrollingUp","currentSkip","fetching","prefetchAt","webkitCorrection","webkit","min","total","_fetching","callback","_timeout","inRange","progress","range","repaintScrollbar","shouldScrollWrapper","maxHeight","wrapperElement","wasScrolledToBottom","addScrollBarHeight","totalHeight","action","cancel","page","defaultCommands","create","iconClass","save","edit","update","canceledit","excel","pdf","Grid","DataBoundWidget","_events","_element","_aria","_columns","_dataSource","_tbody","_pageable","_thead","_groupable","_toolbar","_setContentHeight","_templates","_navigatable","_selectable","_clipboard","_details","_editable","_attachCustomCommandsEvent","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","addClass","_resizeHandler","resize","notify","scrollable","virtual","groupable","virtualScrollable","toolbar","filterable","sortable","allowCopy","pageable","persistSelection","rowTemplate","altRowTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","messages","cancelDelete","confirmation","confirmDelete","expandCollapseColumnHeader","_angularItems","_destroyColumnAttachments","_navigatableTables","pager","kendoGroupable","clearArea","_selectedIds","copyHandler","updateClipBoardState","clearAreaHandler","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyVirtualScrollable","_destroyEditable","_progressHandler","_errorHandler","_removeLockedContainers","pane","minScreenResizeHandler","_draggableInstance","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","scrollables","footer","lockedFooter","_groupableClickHandler","_groupRows","_setContentWidthHandler","getOptions","initialData","_data","group","aggregate","transport","$angular","setOptions","mobileWrapper","currentOptions","_isMobile","after","removeClass","_setEvents","_items","tr","dataItems","n","resizeHandle","angular","each","filterMenu","_cellId","_hasDetails","_createResizeHandle","left","headerWrap","ieCorrection","firefoxCorrection","indicatorWidth","mozilla","show","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","button","buttons","which","_resizeHandleDocumentClick","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","hold","_resizable","columnStart","columnWidth","columnMinWidth","gridWidth","isLocked","col","isMobile","mobileOS","Resizable","handle","hint","header","contentTable","location","minResizableWidth","constrain","totalWidth","rtlMultiplier","currentWidth","_footerWidth","_scrollVirtualWrapperOnColumnResize","resizeend","newWidth","oldWidth","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_draggable","kendoDraggable","autoScroll","dragstart","not","dragend","title","paddingLeft","paddingRight","lineHeight","paddingTop","paddingBottom","_reorderable","kendoReorderable","draggable","dragOverContainers","lockable","inSameContainer","change","oldIndex","newIndex","reorderColumn","_reorderHeader","sourceLockedColumns","targetLockedColumns","destPosition","_reorderContent","footerCol","lockedRows","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","headerCol","prev","_hasFilterRow","leafIndex","autoFitColumn","minWidth","contentDiv","footerTable","j","tables","oldColumnWidth","newColumnWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","lockChanged","sourceColumns","destColumn","_updateColumnCellIndex","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unlockColumn","cellIndex","td","lockedColumnOffset","_modelForContainer","_editMode","getByUid","mode","multiple","handler","_editContainer","end","closeCell","_scrollVirtualWrapper","isLockedCell","has","blur","editCell","timer","editRow","_isVirtualInlineEditable","stopPropagation","removeRow","_confirmation","_attachModelChange","_shouldClearEditableState","_clearEditableState","kendoEditable","fields","editor","values","skipFocus","_isVirtualIncellEditable","_editableState","_relatedRow","_adjustLockedHorizontalScrollBar","touchScroller","_adjustRowsHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","close","_actionSheet","purge","navigate","_modelChangeHandler","_modelChange","isCancel","type","_displayCell","ns","dataItem","storage","settings","Template","templateSettings","tmpl","template","_cellTmpl","_removeRow","modelId","cancelRow","schema","sync","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","currentIndex","updateText","cancelText","updateIconClass","cancelIconClass","tempCommand","unescape","_createButton","kendoWindow","modal","userTriggered","clearContainer","_openPopUpEditor","_editAnimation","center","open","Editable","isScrolledToBottom","cancelChanges","_isVirtualEditable","_restoreVirtualView","_displayRow","valid","deferred","Deferred","reject","promise","resolve","related","newRow","nextRow","angularElements","angularData","isSelected","isAlt","replaceWith","_checkBoxSelection","select","_showMessage","actionSheet","view","ActionSheet","cancelTemplate","popup","_actionSheetPopupOptions","confirm","_virtualPageToTop","saveChanges","addRow","createAt","createAtBottom","toLowerCase","virtualEditable","serverPaging","totalPages","_removeCurrent","_virtualAddRow","insert","_editModel","_firstEditableColumnIndex","_virtualAddRowAtBottom","_virtualAddRowAtTop","at","_virtualPageToBottom","_virtualPage","currentRangeStart","initialItemHeight","scrolledItemsCount","newScrollbarTop","_toolbarTmpl","prependTo","saveAsExcel","saveAsPDF","attributeClassMatch","Error","split","match","_hasFooters","groupRow","collapseGroup","expandGroup","_isLocked","_attachGroupable","draggables","enabled","Groupable","groupContainer","draggableElements","allowDrag","endless","_endlessPageSize","_continuousItems","lockedItems","nonLockedItems","apply","slice","multi","notString","Selectable","parseOptions","aria","_persistSelectedRows","useAllItems","relatedTarget","continuousItems","keyCode","SPACEBAR","shiftKey","clear","_lastActive","LEFT","RIGHT","UP","DOWN","selectRange","_firstSelectee","grid","stopImmediatePropagation","copySelection","areaClipBoard","val","getTSV","Event","metaKey","getSelection","selection","createRange","opacity","cellsOffset","lockedCols","inLockedArea","rowsOffset","selected","delimeter","onlyVisible","cellText","any","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","minScreenWidth","hideColumn","showColumn","_relatedCell","clearSelection","_deselectCheckRows","selectableoptions","prop","_toggleHeaderCheckState","checked","allRows","dataSourceOptions","selectedViewIds","selectedKeyNames","property","ids","_updateCurrentAttr","headerId","removeAttr","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","preventTrigger","_lastCellIndex","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","bottomDistance","offsetLeft","dataTables","headerTables","_openHeaderMenu","_tableFocus","_tableBlur","_tableKeyDown","altKey","_setTabIndex","handled","requestInProgress","canHandle","isDefaultPrevented","_moveUp","_moveDown","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","HOME","_handleHome","END","_handleEnd","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","collapseRow","_moveColumn","_prevHorizontalCell","_tabNext","_horizontalContainer","expandRow","_nextHorizontalCell","nextAll","_prevVerticalCell","_verticalContainer","_nextVerticalCell","isLeft","ctrl","rowContainer","isInLockedTable","isInBody","isInCell","_handleEditing","active","_toggleCurrent","link","focusable","originalIndex","_currentDataIndex","lockedColumnsCount","tmpIndex","currentRowCells","hiddenColumns","up","step","right","back","switchRow","isEdited","isIE","oldIE","editContainer","opera","triggerHandler","_initMobile","Pane","documentElement","align","effect","_scrollable","originalPageSize","hasVirtualScroll","_createVirtualScrollable","_scrollLeft","_endlessFetchInProgress","_skipRerenderItemsCount","movable","_averageRowHeight","_restoreEditableState","scroll","_focusEditable","_onVirtualPaging","_cacheEditableState","_isVirtualPopupEditable","editableState","editedModel","inlineMode","incellMode","_getByUid","editedField","_canFocusEditable","widget","widgetInstance","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","isNaN","parseFloat","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","isGridHeightSet","scrollableHeight","initialHeight","newHeight","currentRowHeight","itemsCount","_rowHeight","_sum","_measures","_requestStart","_error","_progress","relatedRow","selectableRow","childCells","originalCells","Pager","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","_columnMenu","menu","menuOptions","hasMultiColumnHeaders","initCallback","openCallback","closeCallback","sortHandler","filterHandler","compare","forceUnique","checkSource","owner","filtering","kendoColumnMenu","_headerCells","_filterable","columnFilterable","filterInit","filterOpen","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","suggestDataSource","operators","customDataSource","cellOptions","_updateHeader","delay","inputWidth","suggestionOperator","minLength","dataTextField","operator","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","initialColumns","_checkboxClick","_headerCheckboxClick","checkBox","parentGrid","getKendoGrid","isSelecting","_tmpl","alt","skipGroupCells","paramName","fieldAttr","dirtyCellTemplate","expr","_dirtyCellTemplate","dirtyField","charAt","_headerCellText","headerTemplate","_dirtyIndicatorTemplate","stringify","useWithBlock","columnLeafs","columnsLocked","_detailTmpl","_footerTmpl","g","_noRecordsTmpl","defaultTemplate","scrollableNoGridHeightStyles","templateName","rowClass","scope","fieldsMap","_emptyAggregates","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","detailRow","expanding","masterRow","ariaLabelText","ariaExpandText","toggleClass","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","trFilter","hasFilterRow","filterCellOffset","filterCells","leafColumnsCount","filtercellCells","filterRow","existingFilterRow","syncHeight","hasLockedColumns","hasTHead","_prepareColumns","_updateCols","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_updateLockedCols","_autoColumns","toJSON","_rowsHtml","templates","_groupRowHtml","groupHeaderBuilder","skipColspan","footerData","groupHeaderTemplate","footerDefaults","_groupAggregatesDefaultObject","groupItems","headerData","toHide","groupToCollapse","showFooter","footerCount","relatedGroup","_groupToCollapse","footersVisibility","groupsCount","pop","_firstDataItem","grouped","headerCellIndex","_setParentsVisibility","predicate","p","originalColumn","columnLeafIndex","_resize","force","_isActiveInTable","contentScrollLeft","isCurrentInHeader","_progressTimeOut","_renderContent","_renderLockedContent","_togglePagerVisibility","_restoreCurrent","contentResized","resetTouchEvents","_muteAngularRebind","_restoreSelection","selectedRows","dataItemKey","cmd","_cleanupDetailItems","_angularGroupItems","_angularGroupFooterItems","endlessAppend","alwaysVisible","rows2","containers","containersLength","heights","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","startingPage","draw","cont","_destructive","pageNumber","pageNum","drawing","drawDOM","clone","always","then","fail","err","renderPage","origBody","_initPDFProgress","_drawPDF","exportPage","doc","_drawPDFShadow","avoidLinks","done","args","paperSize","Group","pb","loading","kendoProgressBar","chunkCount","plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;CAwBC,SAAUA,EAAGC,QACVA,OAAO,qBAAsB,cAAeD,IAC9C,YACG,SAAUE,GAqDP,QAASC,GAAcC,GACnB,OAAcA,EAAPC,IAAaC,QAAQC,EAAeC,GAE/C,QAASC,GAAUC,GAAnB,GAEaC,GADLC,IACJ,KAASD,IAAOD,GACZE,EAAMC,KAAKF,EAAMD,EAAOC,GAE5B,OAAOC,GAAME,OAAOC,KAAK,IAE7B,QAASC,GAAQC,GAAjB,GAEaC,GADLC,EAAO,UACX,KAASD,EAAI,EAAGA,EAAID,EAAIG,SAAUF,EAC9BC,IAASA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IAAMA,GAAQ,IACzEA,GAAQF,EAAII,WAAWH,EAE3B,OAAOC,KAAS,EAEpB,QAASG,KACL,OACIC,MAAO,EACPC,OAAQ,EACRC,SAAU,GA0DlB,QAASC,GAAYtB,EAAMuB,EAAOC,GAC9B,MAAOC,GAAYC,QAAQC,QAAQ3B,EAAMuB,EAAOC,GAtIvD,GAEOI,GAiDAzB,EACAC,EA0BAyB,EACAC,EAKAL,CAnFJM,QAAOC,MAAMC,KAAOF,OAAOC,MAAMC,SAC7BL,EAAWI,MAAME,MAAMC,QACvBC,KAAM,SAAUC,GACZC,KAAKC,MAAQF,EACbC,KAAKE,QAAU,EACfF,KAAKG,SAETC,IAAK,SAAUnC,EAAKoC,GAAf,GACGC,GAAMN,KAAKG,KACXI,GACAtC,IAAKA,EACLoC,MAAOA,EAEXC,GAAIrC,GAAOsC,EACNP,KAAKQ,OAGNR,KAAKS,MAAMC,MAAQH,EACnBA,EAAMI,MAAQX,KAAKS,MACnBT,KAAKS,MAAQF,GAJbP,KAAKQ,MAAQR,KAAKS,MAAQF,EAM1BP,KAAKE,SAAWF,KAAKC,OACrBK,EAAIN,KAAKQ,MAAMvC,KAAO,KACtB+B,KAAKQ,MAAQR,KAAKQ,MAAME,MACxBV,KAAKQ,MAAMG,MAAQ,MAEnBX,KAAKE,WAGbU,IAAK,SAAU3C,GACX,GAAIsC,GAAQP,KAAKG,KAAKlC,EACtB,IAAIsC,EAeA,MAdIA,KAAUP,KAAKQ,OAASD,IAAUP,KAAKS,QACvCT,KAAKQ,MAAQD,EAAMG,MACnBV,KAAKQ,MAAMG,MAAQ,MAEnBJ,IAAUP,KAAKS,QACXF,EAAMI,QACNJ,EAAMI,MAAMD,MAAQH,EAAMG,MAC1BH,EAAMG,MAAMC,MAAQJ,EAAMI,OAE9BJ,EAAMI,MAAQX,KAAKS,MACnBF,EAAMG,MAAQ,KACdV,KAAKS,MAAMC,MAAQH,EACnBP,KAAKS,MAAQF,GAEVA,EAAMF,SAIrBxC,EAAgB,eAChBC,EAAQ,IA0BRyB,GAAoBsB,mBAAoB,GAEpB,mBAAbC,YACPtB,EAAoBsB,SAASC,cAAc,OAC3CvB,EAAkBP,MAAM+B,QAAU,wQAElC7B,EAAcO,MAAME,MAAMC,QAC1BC,KAAM,SAAUmB,GACZjB,KAAKkB,OAAS,GAAI5B,GAAS,KAC3BU,KAAKiB,QAAUzD,EAAEqC,UAAWN,EAAiB0B,IAEjD5B,QAAS,SAAU3B,EAAMuB,EAAOgC,GAAvB,GAODE,GACAC,EACAC,EAIAtB,EACAb,EACAoC,EACKrD,EACDoC,EAKJkB,CAlBJ,IAHgB,SAAZN,IACAA,OAECvD,EACD,MAAOkB,IAKX,IAHIuC,EAAWpD,EAAUkB,GACrBmC,EAAW9C,EAAQZ,EAAOyD,GAC1BE,EAAerB,KAAKkB,OAAON,IAAIQ,GAE/B,MAAOC,EAEPtB,GAAOnB,IACPM,EAAa+B,EAAQO,KAAOhC,EAC5B8B,EAAiBtB,KAAKyB,kBAAkBC,WAAU,EACtD,KAASzD,IAAOgB,GACRoB,EAAQpB,EAAMhB,GACG,SAAVoC,IACPnB,EAAWD,MAAMhB,GAAOoC,EAgBhC,OAbIkB,GAAUN,EAAQxD,iBAAkB,EAAQA,EAAcC,GAAeA,EAAPC,GACtEuB,EAAWyC,YAAcJ,EACzBrC,EAAW0C,YAAYN,GACvBR,SAASe,KAAKD,YAAY1C,GACtBqC,EAAQ7C,SACRqB,EAAKlB,MAAQK,EAAW4C,YAAc9B,KAAKiB,QAAQJ,mBACnDd,EAAKjB,OAASI,EAAW6C,aACzBhC,EAAKhB,SAAWuC,EAAeU,UAAYhC,KAAKiB,QAAQJ,oBAExDd,EAAKlB,MAAQ,GAAKkB,EAAKjB,OAAS,GAChCkB,KAAKkB,OAAOd,IAAIgB,EAAUrB,GAE9Bb,EAAW+C,WAAWC,YAAYhD,GAC3Ba,GAEX0B,gBAAiB,WACb,GAAIU,GAASrB,SAASC,cAAc,MAEpC,OADAoB,GAAOlD,MAAM+B,QAAU,0DAA4DhB,KAAKiB,QAAQJ,mBAAqB,eAAiBb,KAAKiB,QAAQJ,mBAAqB,uBACjKsB,KAGfhD,EAAYC,QAAU,GAAID,GAI1BO,MAAM0C,WAAW1C,MAAMC,MACnBL,SAAUA,EACVH,YAAaA,EACbH,YAAaA,EACbjB,UAAWA,EACXO,QAASA,EACTb,cAAeA,KAErBgC,OAAOC,MAAM2C,SACC,kBAAV9E,SAAwBA,OAAO+E,IAAM/E,OAAS,SAAUgF,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUlF,EAAGC,QACVA,OAAO,cACH,aACA,qBACA,iBACA,eACA,mBACA,mBACA,kBACA,cACA,mBACA,iBACA,oBACA,kBACA,2BACA,oBACA,cACA,cACA,oBACA,aACDD,IACL,WA6yNE,MA7sNC,UAAUE,EAAGkF,GA6TV,QAASC,GAAWC,EAAUC,GAC1B,MAAO,IAAMnD,GAAMoD,KAAKF,GAAY,IAAMC,EAAY,IAE1D,QAASE,GAAWC,GAChB,MAAWC,OAAMD,EAAQ,GAAG3E,KAAK,wCAErC,QAAS6E,GAAoBC,GACzB,GAAIL,GAAMM,EAAS,GACnB,IAAID,EAAY,CACZ,SAAWA,KAAeE,GACtB,MAAOF,EAEX,KAAKL,IAAQK,GACgB,KAArBA,EAAWL,KACXM,GAAUN,EAAO,KAAOK,EAAWL,GAAQ,KAIvD,MAAOM,GAiDX,QAASE,GAAOC,EAASlD,GACrB7C,EAAE,oCAAqC+F,GAASC,IAAI1C,SAASe,MAAM4B,IAAI,SAAUpD,GAErF,QAASqD,GAAQC,EAAUC,EAAQC,EAAMC,EAAQd,GAAjD,GAIae,GAHLC,EAAcJ,CAGlB,KAFAA,EAASpG,IACTwF,EAAQA,GAAS,EACRe,EAAM,EAAGA,EAAMf,EAAOe,IAC3BH,EAASA,EAAOJ,IAAIG,EAASM,GAAGD,EAAcD,GAE/B,iBAARF,GACPD,EAAOE,EAAS,eAAiB,eAAeH,EAASM,GAAGJ,IAE5DD,EAAOM,SAASL,GAGxB,QAASM,GAASC,EAAeC,EAASC,GACtC,MAAO9G,GAAE4G,GAAeZ,IAAIa,GAASE,KAAKD,GAE9C,QAASE,GAAyBjB,EAASkB,EAAWC,GAClD,GAAIX,GAAKrF,EAAQiG,EAASC,CAE1B,KADAF,EAAYG,GAAQH,GAAyBA,GAAZA,GAC5BX,EAAM,EAAGrF,EAASgG,EAAShG,OAAQqF,EAAMrF,EAAQqF,IAClDY,EAAUD,EAASX,GACfe,GAAcH,IAAYA,EAAQI,QAClCH,EAAcD,EAAQK,MAAQL,EAAQjH,KACtC+G,EAAUQ,GAAGC,GAAQC,GAAI,aAAeP,GAAe,IAAIhH,QAAQ,MAAO,KAAOgH,YAAaA,GAAeQ,GAAMT,EAAQI,MAAOxB,KAI9I,QAAS8B,GAAiBC,EAASC,EAASC,GACxC,MAAOlF,IAAIgF,EAAS,SAAUG,GAAV,GAEZC,GAUAC,CAEJ,OAbAF,SAAgBA,KAAWpC,IAAWuC,MAAOH,GAAWA,EAEnDI,EAAUJ,KAAWD,IACtBC,EAAOtC,WAAa2C,EAAeL,EAAOtC,YAC1CsC,EAAOM,iBAAmBD,EAAeL,EAAOM,kBAChDN,EAAOO,iBAAmBF,EAAeL,EAAOO,kBAChDN,GAAS,GAETD,EAAOH,UACPG,EAAOH,QAAUD,EAAiBI,EAAOH,QAASC,EAASG,IAE3DC,EAAMjG,GAAMuG,OAChBR,EAAOO,iBAAmBnG,IAASqG,GAAIP,GAAOF,EAAOO,kBAC9CnG,IACH0F,QAASA,EACTG,OAAQA,GACTD,KAGX,QAASU,GAAaV,EAAQH,GAC1B,GAAIc,KAEJ,OADAC,GAAcZ,EAAQH,EAASc,GACxBA,EAAQA,EAAQ1H,OAAS,GAEpC,QAAS2H,GAAcZ,EAAQH,EAASc,GAAxC,GAEarC,GAIGuC,CAJZ,KADAF,EAAUA,MACDrC,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAAO,CAC3C,GAAI0B,IAAWH,EAAQvB,GACnB,OAAO,CACJ,IAAIuB,EAAQvB,GAAKuB,QAAS,CAG7B,GAFIgB,EAAWF,EAAQ1H,OACvB0H,EAAQjI,KAAKmH,EAAQvB,IAChBsC,EAAcZ,EAAQH,EAAQvB,GAAKuB,QAASc,GAG7C,OAAO,CAFPA,GAAQG,OAAOD,EAAUF,EAAQ1H,OAAS4H,IAMtD,OAAO,EAEX,QAASE,GAAoBf,EAAQgB,GACjC,GAAIC,GAASD,EAAUE,EAAoBb,CAC3CL,GAAOC,QAAUe,EACjBhB,EAAOtC,WAAauD,EAAOjB,EAAOtC,YAClCsC,EAAOM,iBAAmBW,EAAOjB,EAAOM,kBACxCN,EAAOO,iBAAmBU,EAAOjB,EAAOO,kBAE5C,QAASY,KACL,MAA8B,SAAvB5G,KAAKf,MAAM4H,QAEtB,QAAShB,GAAUJ,GACf,MAAOqB,IAAgBrB,IAAS/G,OAAS,EAE7C,QAASoI,GAAexB,GACpB,MAAOyB,IAAKzB,EAAS,SAAUG,GAC3B,GAAIrC,IAAUqC,EAAOC,MAIrB,OAHItC,IAAUqC,EAAOH,UACjBlC,EAAS0D,EAAerB,EAAOH,SAAS5G,OAAS,GAE9C0E,IAGf,QAAS4D,GAAS7C,GACd,MAAO3G,GAAE2G,GAAU7D,IAAI,WACnB,MAAON,MAAKiH,YAGpB,QAASC,GAAkBC,EAAM7B,EAAS8B,GAA1C,GACQC,GAAoBC,EAAMC,EAAcjC,IACxCkC,EAAuBF,EAAMG,EAAiBnC,IAC9CoC,EAAUP,EAAKO,OAGXP,GAAKO,QAFTN,EACIC,EAAoBG,EACLE,GAAWL,EAAoBG,IAAyB,EAExDE,GAAWF,EAAuBH,GAGjDA,EAAoBG,EACLE,GAAWL,EAAoBG,GAE/BE,GAAWF,EAAuBH,IAAsB,EAInF,QAASM,GAA2BC,EAASC,EAAQC,EAAOxC,EAASb,EAAWsD,EAAaC,GAA7F,GAIYjF,GACAkF,EAJJC,EAAeZ,EAAMM,GACrBO,EAAcb,GAAOO,GACrBK,GAAeC,IACXpF,EAAiBE,MAAM+E,EAAS,GAAG3J,KAAK,6DACxC4J,EAAOF,EAAYK,SAAS,uBAChC5K,EAAMyF,MAAMiF,EAAeC,EAAc,GAAG9J,KAAK,OAAS0E,EAAa,UAAUsF,YAAYJ,EAAKK,SAEtGC,EAAgBR,EAAaG,EAAeC,GAC5CK,EAAUV,EAAOxC,EAASb,EAAWsD,GAEzC,QAASU,GAAgBC,EAAOpD,EAASqD,GAAzC,GAEQC,GACAzB,EACA0B,EAEAC,EACAb,EACA3D,EAIKP,EAASrF,CAAlB,KAXAiK,EAASA,GAAU,EAGfE,EAAavD,EACjBA,EAAUyD,EAAYzD,GAClBwD,KACAb,EAAOS,EAAMnE,KAAK,0BAClBD,EAAS,WACT,GAAI0E,GAAKxL,EAAEwC,KACX,QAAQgJ,EAAGC,SAAS,kBAAoBD,EAAGC,SAAS,qBAE/ClF,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACrD6E,EAAWM,EAAe5D,EAAQvB,GAAM8E,GACnCC,EAAMF,EAASO,OAChBL,EAAMF,EAASO,KAAOlB,EAAKhE,GAAG2E,EAASO,KAAK5E,KAAK,aAAaD,OAAOA,IAEzE6C,EAAO2B,EAAMF,EAASO,KAAKlF,GAAG2E,EAASzB,MACvCA,EAAKrE,KAAKpD,GAAMoD,KAAK,SAAU6F,EAAS5E,EAE5C,OAAOuB,GAAQ5G,OAEnB,QAAS4I,GAAMhC,GAAf,GAGavB,GAEGqF,EAJRhG,EAAS,EACTiG,EAAM,CACV,KAAStF,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAChCuB,EAAQvB,GAAKuB,UACT8D,EAAO9B,EAAMhC,EAAQvB,GAAKuB,SAC1B8D,EAAOC,IACPA,EAAMD,GAIlB,OAAOhG,GAASiG,EAEpB,QAASb,GAAUV,EAAOxC,EAASb,EAAWsD,GAA9C,GAKQhE,GAKAqE,EATAkB,EAAiBC,EAAsBzB,EAAM,GAAIxC,GACjDkE,EAAM/E,EAAUF,KAAK,6BAA+B+E,EAAeH,IAAM,iBACzEM,EAAIjM,IACJwG,EAAcsF,EAAenC,IAEjC,KAAKpD,EAAM,EAAGA,EAAM+D,EAAMpJ,OAAQqF,IAC9B0F,EAAIA,EAAEjG,IAAIgG,EAAIvF,GAAGD,EAAcD,GAInC,KAFAgE,EAAYxD,KAAK,0BAA0BN,GAAGqF,EAAeH,KAAKO,OAAOD,GACrErB,KACCrE,EAAM,EAAGA,EAAM+D,EAAMpJ,OAAQqF,IAC1B+D,EAAM/D,GAAKuB,UACX8C,EAAWA,EAASuB,OAAO7B,EAAM/D,GAAKuB,SAG1C8C,GAAS1J,QACT8J,EAAUJ,EAAU9C,EAASb,EAAWsD,GAGhD,QAASmB,GAAezD,EAAQH,EAAS6D,EAAKS,GAA9C,GACQxG,GACAW,CAIJ,KAHAoF,EAAMA,GAAO,EACbS,EAAaA,MACbA,EAAWT,GAAOS,EAAWT,IAAQ,EAChCpF,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAAO,CACvC,GAAIuB,EAAQvB,IAAQ0B,EAAQ,CACxBrC,GACI+D,KAAMyC,EAAWT,GACjBA,IAAKA,EAET,OACG,GAAI7D,EAAQvB,GAAKuB,UACpBlC,EAAS8F,EAAezD,EAAQH,EAAQvB,GAAKuB,QAAS6D,EAAM,EAAGS,IAE3D,KAGRA,GAAWT,KAEf,MAAO/F,GAEX,QAASyG,GAA6BvE,EAASwE,EAAOlG,EAAQmG,GAA9D,GACQlC,GACAmC,EAASpG,EAAOoG,MACpB,GACInC,GAASvC,EAAQwE,GACjBA,GAASC,EAAM,WACVlC,GAAUiC,MAAcA,EAAQxE,EAAQ5G,QAAUmJ,GAAUjE,IAAWiE,EAAOvC,SAAWuC,EAAOmC,QAAUA,EACnH,OAAOnC,GAEX,QAASoC,GAAkB3E,EAASuC,EAAQjE,EAAQE,GAApD,GAKYoG,GACAC,EAMAL,EAQA9F,CAnBR,OAAI6D,GAAOvC,SACPuC,EAASA,EAAOvC,QACTuC,EAAO/D,EAAS,EAAI+D,EAAOnJ,OAAS,KAEvCwL,EAAS/D,EAAa0B,EAAQvC,GAG9B6E,EADAD,EACgBA,EAAO5E,QAEPA,EAEhBwE,EAAQM,GAAQvC,EAAQsC,GACd,IAAVL,GAAehG,EACfgG,IACOA,GAASK,EAAczL,OAAS,GAAMoF,GAEtCgG,EAAQ,GAAe,IAAVA,IAAgBhG,KACpCgG,GAAShG,KAAc,GAFvBgG,IAIA9F,EAAcoG,GAAQxG,EAAQuG,GAClCtC,EAASgC,EAA6BM,EAAeL,EAAOlG,EAAQI,EAAc8F,GAC9EjC,GAAUA,GAAUjE,GAAUiE,EAAOvC,QAC9B2E,EAAkB3E,EAASuC,EAAQjE,EAAQE,GAGnD,MAEX,QAASyF,GAAsB9D,EAAQH,EAAS6D,EAAKS,GAArD,GACQxG,GACAW,CAIJ,KAHAoF,EAAMA,GAAO,EACbS,EAAaA,MACbA,EAAWT,GAAOS,EAAWT,IAAQ,EAChCpF,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAAO,CACvC,GAAIuB,EAAQvB,IAAQ0B,EAAQ,CACxBrC,GACI+D,KAAMyC,EAAWT,GACjBA,IAAKA,EAET,OACG,GAAI7D,EAAQvB,GAAKuB,UACpBlC,EAASmG,EAAsB9D,EAAQH,EAAQvB,GAAKuB,QAAS6D,EAAM,EAAGS,IAElE,KAGHtE,GAAQvB,GAAK2B,QACdkE,EAAWT,KAGnB,MAAO/F,GAEX,QAASiH,GAAsB/E,GAC3B,GAAIlC,GAASkH,EAAY/C,EAAcjC,GACvC,OAAOlC,GAAOuG,OAAOW,EAAY7C,EAAiBnC,KAEtD,QAASiF,GAA2BD,EAAahF,EAAStB,EAAawG,GAAvE,GACQ/E,GAAS6E,EAAYtG,GACrB6D,EAASyC,EAAYE,GACrBN,EAAS/D,EAAaV,EAAQH,EAElC,OADAA,GAAU4E,EAASA,EAAO5E,QAAUA,EAC7B8E,GAAQvC,EAAQvC,GAE3B,QAASgF,GAAYhF,GAArB,GAGavB,GAFLX,KACAgF,IACJ,KAASrE,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IACpCX,EAAOjF,KAAKmH,EAAQvB,IAChBuB,EAAQvB,GAAKuB,UACb8C,EAAWA,EAASuB,OAAOrE,EAAQvB,GAAKuB,SAMhD,OAHI8C,GAAS1J,SACT0E,EAASA,EAAOuG,OAAOW,EAAYlC,KAEhChF,EAEX,QAASqH,GAAuBnF,GAAhC,GAEQG,GACK1B,EAFL2G,EAAU,CAEd,KAAS3G,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IACpC0B,EAASH,EAAQvB,GACb0B,EAAOH,QACPoF,GAAWD,EAAuBhF,EAAOH,SAClCG,EAAOC,QACdgF,GAGR,OAAOA,GAEX,QAASC,GAAaC,GAAtB,GACQC,GACK9G,EAASrF,EADJG,EAAQ,CACtB,KAASkF,EAAM,EAAGrF,EAASkM,EAAKlM,OAAQqF,EAAMrF,EAAQqF,IAClD8G,EAAWD,EAAK7G,GAAK9E,MAAMJ,MACvBgM,GAAYA,EAASC,QAAQ,WAC7BjM,GAASkM,SAASF,EAAU,IAGpC,OAAOhM,GAEX,QAASmM,GAAmBvG,EAAWzB,GAAvC,GAEQ0E,GACK3D,EAFL+E,EAAQrE,EAAUF,KAAK,gEAE3B,KAASR,EAAM,EAAGA,EAAM+E,EAAMpK,OAAQqF,IAClC2D,EAAUoB,EAAM/E,GAAK2D,QACjBA,EAAU,IACVoB,EAAM/E,GAAK2D,QAAUA,EAAU1E,GAAS,GAIpD,QAASuF,GAAgB9D,EAAWzB,GAApC,GAEae,GADL+E,EAAQrE,EAAUF,KAAK,gEAC3B,KAASR,EAAM,EAAGA,EAAM+E,EAAMpK,OAAQqF,IAClC+E,EAAM/E,GAAK2D,SAAW1E,EAG9B,QAASiI,GAAgBxG,GAAzB,GAMaV,GALLkE,EAAOxD,EAAUF,KAAK,yBACtB2G,EAAiBjD,EAAK3D,OAAO,WAC7B,OAAQ9G,EAAEwC,MAAMoI,WAAW1J,SAC5ByM,SAASzM,OACRoK,EAAQb,EAAK1D,KAAK,0CACtB,KAASR,EAAM,EAAGA,EAAM+E,EAAMpK,OAAQqF,IAC9B+E,EAAM/E,GAAK2D,QAAU,IACrBoB,EAAM/E,GAAK2D,SAAWwD,EAG9B,OAAOjD,GAAKvJ,OAASwM,EAEzB,QAASE,GAAoB9F,EAASwD,EAAOb,EAAMoD,EAAU1C,GACzD,GAAI5E,GAAKoF,EAAKzK,EAAQ0J,IACtB,KAAKrE,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjDoF,EAAMlB,EAAKoD,OACXlC,EAAIhL,KAAK2K,EAAM7E,GAAG0E,EAAS5E,IAC3BkE,EAAKoD,GAAYlC,EACb7D,EAAQvB,GAAKuB,UACb8C,EAAWA,EAASuB,OAAOrE,EAAQvB,GAAKuB,SAG5C8C,GAAS1J,QACT0M,EAAoBhD,EAAUU,EAAOb,EAAMoD,EAAW,EAAG1C,EAASrD,EAAQ5G,QAGlF,QAAS6I,GAAcjC,GACnB,MAAOyB,IAAKzB,EAAS,SAAUG,GAC3B,MAAOA,GAAOuE,SAGtB,QAASvC,GAAiBnC,GACtB,MAAOyB,IAAKzB,EAAS,SAAUG,GAC3B,OAAQA,EAAOuE,SAGvB,QAASsB,GAAwBhG,GAC7B,MAAOyB,IAAKzB,EAAS,SAAUG,GAC3B,OAAQA,EAAOuE,QAAUnE,EAAUJ,KAG3C,QAAS8F,GAAqBjG,GAC1B,MAAOyB,IAAKzB,EAAS,SAAUG,GAC3B,MAAOA,GAAOuE,QAAUnE,EAAUJ,KAG1C,QAAS+F,GAAmBlG,GAA5B,GAEavB,GADLX,IACJ,KAASW,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAChCuB,EAAQvB,GAAK2B,SAGbJ,EAAQvB,GAAKuB,QACblC,EAASA,EAAOuG,OAAO6B,EAAmBlG,EAAQvB,GAAKuB,UAEvDlC,EAAOjF,KAAKmH,EAAQvB,IAG5B,OAAOX,GAEX,QAAS2F,GAAYzD,GAArB,GAEavB,GADLX,IACJ,KAASW,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAC/BuB,EAAQvB,GAAKuB,QAIlBlC,EAASA,EAAOuG,OAAOZ,EAAYzD,EAAQvB,GAAKuB,UAH5ClC,EAAOjF,KAAKmH,EAAQvB,GAK5B,OAAOX,GAEX,QAASqI,GAAchH,GAAvB,GAaQiH,GAZAzD,EAAOxD,EAAUF,KAAK,0BACtBD,EAAS,WACT,GAAI0E,GAAKxL,EAAEwC,KACX,QAAQgJ,EAAGC,SAAS,kBAAoBD,EAAGC,SAAS,qBAEpDH,EAAQtL,GAuBZ,OAtBIyK,GAAKvJ,OAAS,IACdoK,EAAQb,EAAK1D,KAAK,MAAMD,OAAOA,GAAQA,OAAO,WAC1C,MAAOtE,MAAK0H,QAAU,KAG9BoB,EAAQA,EAAMtF,IAAIyE,EAAKK,OAAO/D,KAAK,MAAMD,OAAOA,IAC5CoH,EAAYhM,GAAMoD,KAAK,SAC3BgG,EAAM1K,KAAK,SAAUuN,EAAGC,GAAb,GAGHC,GACAC,CASJ,OAZAH,GAAInO,EAAEmO,GACNC,EAAIpO,EAAEoO,GACFC,EAASF,EAAE7I,KAAK4I,GAChBI,EAASF,EAAE9I,KAAK4I,GAChBG,IAAWnJ,IACXmJ,EAASrO,EAAEmO,GAAG7B,SAEdgC,IAAWpJ,IACXoJ,EAAStO,EAAEoO,GAAG9B,SAElB+B,EAASd,SAASc,EAAQ,IAC1BC,EAASf,SAASe,EAAQ,IACnBD,EAASC,EAAS,EAAID,EAASC,KAAc,IAEjDhD,EAEX,QAASiD,GAAmB5E,GAA5B,GAOY+C,GACA8B,EAGArD,EACAmB,EACAmC,EAGKlI,EAMDmI,EArBRzH,EAAY0C,EAAKgF,QAAQ,SACzB/I,EAAS5F,IAAIgG,IAAI2D,GACjBgC,EAAMhC,EAAKgF,QAAQ,MACnBC,EAAa3H,EAAUF,KAAK,yBAC5B8H,EAAQD,EAAWtC,MAAMX,EAC7B,IAAIkD,EAAQ,EAAG,CAUX,IATInC,EAASkC,EAAWnI,GAAGoI,EAAQ,GAC/BL,EAA0B9B,EAAO3F,KAAK,2CAA2CD,OAAO,WACxF,OAAQ9G,EAAEwC,MAAM8C,KAAK,aAErB6F,EAAS,EACTmB,EAAQX,EAAI5E,KAAK,2CAA2CuF,MAAM3C,GAClE8E,EAAY9E,EAAKmF,QAAQ,yCAAyChI,OAAO,WACzE,MAAOtE,MAAKuM,QAAU,IAEjBxI,EAAM,EAAGA,EAAMkI,EAAUvN,OAAQqF,IACtC4E,GAAUsD,EAAUlI,GAAKwI,SAAW,CAIxC,KAFAzC,GAAS0C,KAAKnD,IAAIV,EAAS,EAAG,GAC9BA,EAAS,EACJ5E,EAAM,EAAGA,EAAMiI,EAAwBtN,OAAQqF,IAOhD,GANImI,EAAaF,EAAwB/H,GAAGF,GAExC4E,GADAuD,EAAWpJ,KAAK,gBACNoJ,EAAW,GAAGO,aAAa,gBAE3B,EAEV3C,GAAS/F,GAAO+F,EAAQnB,EAAQ,CAChCvF,EAAS2I,EAAmBG,GAAY1I,IAAIJ,EAC5C,QAIZ,MAAOA,GAEX,QAASsJ,GAAkBvF,GAA3B,GAQYwF,GACAV,EACAlI,EAIA4E,EAIAG,EACAyD,EAKIlM,EAvBRoE,EAAY0C,EAAKgF,QAAQ,SACzB/I,EAAS5F,IAAIgG,IAAI2D,GACjBgC,EAAMhC,EAAKgF,QAAQ,MACnBC,EAAa3H,EAAUF,KAAK,yBAC5B8H,EAAQD,EAAWtC,MAAMX,GAAOhC,EAAK,GAAGO,QACxCkF,EAAclN,GAAMoD,KAAK,UAC7B,IAAIuJ,GAASD,EAAW1N,OAAS,EAAG,CAQhC,IAPIiO,EAAQxD,EAAI0D,OACZZ,EAAY9E,EAAKmF,QAAQ,yCAE7BL,EAAYA,EAAU3H,OAAO,WACzB,OAAQtE,KAAK0H,SAA4B,IAAjB1H,KAAK0H,UAE7BiB,EAAS,EACR5E,EAAM,EAAGA,EAAMkI,EAAUvN,OAAQqF,IAClC4E,GAAUoC,SAASkB,EAAUhI,GAAGF,GAAKjB,KAAK8J,GAAc,KAAO,CAKnE,KAHI9D,EAAQ6D,EAAMpI,KAAK,2CACnBgI,EAAUxB,SAAS5D,EAAKrE,KAAK8J,GAAc,KAAO,EACtD7I,EAAM,EACCA,EAAMwI,GACTI,EAAQ7D,EAAM7E,GAAGF,EAAM4E,GACvBvF,EAASA,EAAOI,IAAIkJ,EAAkBC,IAClCtM,EAAQ0K,SAAS4B,EAAM7J,KAAK8J,GAAc,IAC1CvM,EAAQ,IACRkM,GAAWlM,EAAQ,GAEvB0D,IAGR,MAAOX,GAEX,QAAS0J,GAAcC,EAAOC,EAAOC,EAAMC,GACvC,GAAIC,GAAaC,EAAML,CAavB,OAZIG,IACAH,EAAMG,QAENG,GACAN,EAAM,GAAGO,UAAYL,GAErBE,EAAcrM,SAASC,cAAc,OACrCoM,EAAYG,UAAY,iBAAmBL,EAAO,mBAClDF,EAAQI,EAAYI,WAAWA,WAC/BP,EAAM,GAAGQ,aAAaT,EAAOK,EAAI,IACjCL,EAAQvP,EAAEuP,IAEPA,EAEX,QAASjH,GAAehD,GACpBA,EAAOA,KACP,IAAI7D,GAAQ6D,EAAK7D,KASjB,OARKA,IAGDA,EAAQA,EAAMrB,QAAQ,+BAAgC,WAClDqB,IAAU6D,EAAK7D,QACfA,EAAQA,EAAMrB,QAAQ,SAAU,qBAJpCqB,EAAQ,eAOLY,MAAWiD,GAAQ7D,MAAOA,IAErC,QAAS0H,GAAkB7D,GACvBA,EAAOA,KACP,IAAI7D,GAAQ6D,EAAK7D,KAIjB,OAHIA,KACA6D,EAAK7D,MAAQA,EAAMrB,QAAQ,+BAAgC,KAExDkF,EAEX,QAAS2K,GAAcT,EAAOlG,EAAgB4G,EAAY1F,GACtD,GAAwCnJ,GAApC8O,EAAWX,EAAMzI,KAAK,aAAqBqG,EAAOtK,GAAIwG,EAAgB,SAAUrB,GAE5E,MADA5G,GAAQ4G,EAAO5G,MACXA,GAAiC,IAAxBkM,SAASlM,EAAO,IAClBa,GAAMkO,OAAO,iCAAmC/O,KAAUwE,GAASxE,EAAQA,EAAQ,MAEvF,aAEX6O,GAAcC,EAASpJ,KAAK,oBAAoB7F,SAChDkM,EAAKrE,OAAO,EAAG,EAAG,mCAElBoH,EAASjP,QACTiP,EAASxC,SAEbwC,EAAWnQ,EAAMyF,MAAM+E,EAAS,GAAG3J,KAAK,6BAA+BuM,EAAKvM,KAAK,KAC5EsP,EAASE,GAAG,cACbF,EAAWnQ,EAAE,eAAekM,OAAOiE,IAEvCX,EAAMc,QAAQH,GACVI,GAAQC,MAA2B,GAAnBD,GAAQE,UACxBjB,EAAMvJ,IAAI,UAAW,gBACrBhE,OAAOyO,WAAW,WACdlB,EAAMvJ,IAAI,UAAW,KACtB,IAGX,QAAS0K,GAAqB1J,EAAWa,GAAzC,GAEQvB,GAAKqK,EADLC,EAAY,EAEZC,EAAK7J,EAAUF,KAAK,wBACxB,KAAKR,EAAM,EAAGqK,EAAM9I,EAAQ5G,OAAQqF,EAAMqK,EAAKrK,IACvCuB,EAAQvB,GAAKiG,SACbsE,EAAGrK,GAAGF,GAAKwK,aAAaD,EAAGrK,GAAGoK,IAC9BC,EAAK7J,EAAUF,KAAK,yBACpB8J,KAIZ,QAASG,GAAgBC,GACrB,GAAiBC,GAAM3K,EAAKrF,EAAxB0E,IACJ,KAAKW,EAAM,EAAGrF,EAAS+P,EAAM/P,OAAQqF,EAAMrF,EAAQqF,IAC/C2K,EAAOD,EAAM1K,GACbX,EAAOsL,EAAKrO,OAASqO,EAAKhR,IAE9B,OAAO0F,GAEX,QAASuL,GAAiBtO,EAAOuN,EAAQgB,EAAcrJ,GACnD,GAAIsJ,GAAeD,GAAgBA,EAAalQ,QAAUoG,GAAc8J,EAAa,KAAO,SAAWA,GAAa,GAAIE,EAAaD,EAAeL,EAAgBI,GAAcvO,GAASA,CAE3L,OADAyO,GAA2B,MAAdA,EAAqBA,EAAa,GACxClB,EAASlO,GAAMkO,OAAOA,EAAQkB,GAAcvJ,KAAY,EAAQuJ,EAAapP,GAAMqP,WAAWD,GAEzG,QAASE,GAAkBlG,EAAOgB,EAAOrD,GAErC,IADA,GAAawI,GAATC,EAAM,EAAU/H,EAAO2B,EAAMoG,GAC1B/H,GAAM,CAET,GADA8H,IAAQxI,GAAwC,SAAvBU,EAAKlI,MAAM4H,QAChCoI,IAAUE,GAAmBC,KAAKjI,EAAKkI,cAAgBvF,EAAQ,EAAG,CAClE3C,EAAKlI,MAAM4H,QAAUJ,EAAU,GAAK,MACpC,OAEJU,EAAO2B,IAAQoG,IAGvB,QAASI,GAAgBrH,EAAMsH,GAE3B,IADA,GAAmCpI,GAAMgC,EAArCpF,EAAM,EAAGrF,EAASuJ,EAAKvJ,OACpBqF,EAAMrF,EAAQqF,GAAO,EACxBoF,EAAMlB,EAAKhE,GAAGF,GACVoF,EAAI0E,GAAG,kCACP1G,EAAOgC,EAAIf,SAAS,4CAA4CE,OAChEnB,EAAKrE,KAAK,UAAWiI,SAAS5D,EAAKrE,KAAK,WAAY,IAAM,KAEtDqG,EAAIF,SAAS,qBAAuB9B,EAAOgC,EAAIf,SAAS,qBAAqB,MAC7EjB,EAAO3J,EAAE2J,GACTA,EAAKrE,KAAK,UAAWiI,SAAS5D,EAAKrE,KAAK,WAAY,IAAM,GAC1DqE,EAAK5C,KAAK,OAAON,GAAGsL,GAAapE,SACjChC,EAAMhC,EAAK5C,KAAK,aAEpByK,EAAkB7F,EAAI,GAAGL,MAAOyG,GAAa,IAIzD,QAASC,GAAUC,GAAnB,GAEQf,GACK3K,EAFLX,IAEJ,KAASW,EAAM,EAAGA,EAAM0L,EAAK/Q,SACzBgQ,EAAOe,EAAK1L,GACN,SAAW2K,IAAQ,SAAWA,IAAQ,SAAWA,IAFtB3K,IAKjCX,EAAOjF,KAAKuQ,GACRA,EAAKgB,eACLtM,EAASA,EAAOuG,OAAO6F,EAAUd,EAAKiB,QAG9C,OAAOvM,GAEX,QAASwM,IAAaH,GAAtB,GAEQf,GACK3K,EAFLX,IAEJ,KAASW,EAAM,EAAGA,EAAM0L,EAAK/Q,SACzBgQ,EAAOe,EAAK1L,GACN,SAAW2K,IAAQ,SAAWA,IAAQ,SAAWA,IAFtB3K,IAK7B2K,EAAKgB,eACLtM,EAASA,EAAOuG,OAAOiG,GAAalB,EAAKiB,SAE7CvM,EAAOjF,KAAKuQ,EAAKmB,WAErB,OAAOzM,GAEX,QAAS0M,IAAgB7H,EAAMsH,GAE3B,IADA,GAAmCpI,GAAMgC,EAAK7D,EAA1CvB,EAAM,EAAGrF,EAASuJ,EAAKvJ,OACpBqF,EAAMrF,EAAQqF,GAAO,EACxBoF,EAAMlB,EAAKhE,GAAGF,GACVoF,EAAI0E,GAAG,kCACP1G,EAAOgC,EAAIf,SAAS,4CAA4CE,OAChEnB,EAAKrE,KAAK,UAAWiI,SAAS5D,EAAKrE,KAAK,WAAY,IAAM,KAEtDqG,EAAIF,SAAS,qBAAuB9B,EAAOgC,EAAIf,SAAS,qBAAqB,MAC7EjB,EAAO3J,EAAE2J,GACTA,EAAKrE,KAAK,UAAWiI,SAAS5D,EAAKrE,KAAK,WAAY,IAAM,GAC1D2K,EAActG,EAAK5C,KAAK,eAAgBuC,EAAexB,IAAU,EAAO,GACxE6D,EAAMhC,EAAK5C,KAAK,aAEpByK,EAAkB7F,EAAI,GAAGL,MAAOyG,GAAa,IAIzD,QAASQ,IAAcC,EAAOC,EAAUC,GACpCA,EAAMA,GAAO,CACb,IAAIxB,GAAM3K,EAAKrF,CACf,KAAKqF,EAAM,EAAGrF,EAASsR,EAAMtR,OAAQqF,EAAMrF,EAAQqF,IAC/C2K,EAAOsB,EAAM/L,GAAGF,GAAKqE,WAAWE,OAChCoG,EAAK5L,KAAK,UAAWiI,SAAS2D,EAAK5L,KAAK,WAAY,IAAMoN,GAC1DxB,EAAOuB,EAAShM,GAAGF,GAAKqE,WAAWE,OACnCoG,EAAK5L,KAAK,UAAWiI,SAAS2D,EAAK5L,KAAK,WAAY,IAAMoN,GAGlE,QAASC,IAAWnD,GAApB,GACQjJ,GAAKrF,EAAQG,EAAQ,EACrB+L,EAAOoC,EAAMzI,KAAK,gBACtB,KAAKR,EAAM,EAAGrF,EAASkM,EAAKlM,OAAQqF,EAAMrF,EAAQqF,GAAO,EACrDlF,GAASkM,SAASH,EAAK7G,GAAK9E,MAAMJ,MAAO,GAE7C,OAAOA,GAkiLX,QAASuR,IAAgBC,EAAQC,GAAjC,GAIYC,GACAC,EACArH,EACAsH,CANRJ,GAASA,EAAO,GAChBC,EAASA,EAAO,GACZD,EAAOpI,KAAKvJ,SAAW4R,EAAOrI,KAAKvJ,SAC/B6R,EAAeF,EAAOtO,aACtByO,EAAcF,EAAOvO,aAGrBwO,EAAeC,GACfrH,EAAMmH,EAAOrI,KAAKqI,EAAOrI,KAAKvJ,OAAS,GACnCgS,GAAgBtB,KAAKjG,EAAIkG,aACzBlG,EAAMmH,EAAOrI,KAAKqI,EAAOrI,KAAKvJ,OAAS,IAE3C+R,EAAOF,EAAeC,IAEtBrH,EAAMkH,EAAOpI,KAAKoI,EAAOpI,KAAKvJ,OAAS,GACnCgS,GAAgBtB,KAAKjG,EAAIkG,aACzBlG,EAAMkH,EAAOpI,KAAKoI,EAAOpI,KAAKvJ,OAAS,IAE3C+R,EAAOD,EAAcD,GAEzBpH,EAAIlK,MAAMH,OAASqK,EAAIpH,aAAe0O,EAAO,MAGrD,QAASE,IAAgBC,EAAMC,GAA/B,GACQ/R,GACAgS,EAAgBF,EAAK7O,aACrBgP,EAAgBF,EAAK9O,YACrB+O,GAAgBC,EAChBjS,EAASgS,EAAgB,KAClBA,EAAgBC,IACvBjS,EAASiS,EAAgB,MAEzBjS,IACA8R,EAAK3R,MAAMH,OAAS+R,EAAK5R,MAAMH,OAASA,GAGhD,QAASkS,IAAWtM,EAAUM,GAC1B,GAAIjB,GAAKrF,EAAQiG,CACjB,UAAWD,KAAarB,IAAUqB,IAAaM,EAC3C,MAAON,EAEX,IAAII,GAAcJ,IAAaA,EAASM,OAASA,EAC7C,MAAON,EAEX,IAAIG,GAAQH,GACR,IAAKX,EAAM,EAAGrF,EAASgG,EAAShG,OAAQqF,EAAMrF,EAAQqF,IAElD,GADAY,EAAUD,EAASX,SACRY,KAAYtB,IAAUsB,IAAYK,GAAQL,EAAQK,OAASA,EAClE,MAAOL,EAInB,OAAO,MAEX,QAASsM,IAAWjE,EAAOkE,GACvB,GAAIA,KAAW,EAAM,CACjBlE,EAAQxP,EAAEwP,EACV,IAAImE,GAAanE,EAAM9C,SAASiH,YAChCzR,IAAM0R,aAAapE,GACnBA,EAAM9C,SAASiH,WAAWA,OAE1B3T,GAAEwP,GAAOqE,IAAI,UAAW,SAAUC,GAC9BA,EAAEC,mBACHC,QAGX,QAASC,IAAiBhM,EAAQiM,GAC9B,SAAKjM,EAAOG,OAASH,EAAOkM,gBAGxBD,EAAME,WAAaF,EAAME,SAASnM,EAAOG,WAGzCH,EAAOmM,WAAanM,EAAOmM,SAASF,KAK5C,QAASG,IAAeC,GACpB,MAAOtU,GAAEsU,GAASjE,GAAG,0MAEzB,QAASkE,IAAWT,GAChB,GAAIU,GAAgBxU,EAAE8T,EAAEU,eAAgBC,EAAWD,EAAcnE,GAAG,MAAOb,EAAQhN,KAAKgN,MAAMxJ,IAAIxD,KAAKkS,aAAcC,EAAcnS,KAAK0I,MAAMwB,SAAS1G,IAAIhG,EAAE,SAAUwC,KAAKoS,eAAgBC,EAAUR,GAAeP,EAAEzJ,QAASA,EAASrK,EAAE8T,EAAEzJ,QAASyK,EAAeN,EAAc7F,QAAQ,SAAS,EACpS,KAAIzM,GAAM6S,QAAQC,MAGlB,MAAIH,IAAWL,EAAczN,KAAK7E,GAAM+S,aAAa,eAAe/T,QAChEsB,KAAK0S,YAAYV,GACjB,IAEAM,IAAiBtF,EAAM,IAAMsF,IAAiBtF,EAAM,IAAMsF,IAAiBH,EAAY,IAAMG,IAAiBH,EAAY,IAG1HtK,EAAOgG,GAAG,kCAGV7N,KAAKiB,QAAQ0R,aACb3S,KAAK0S,YAAYV,IAEjBC,GAAaI,GACbnE,WAAW,WACD0E,IAASpV,EAAEkC,GAAMmT,kBAAkB5J,SAAS,aACzC4I,GAAenS,GAAMmT,mBAAsBrV,EAAEsV,SAASR,EAAc5S,GAAMmT,mBAC3E5B,GAAWqB,GAAc,KAKrCL,GACAX,EAAEC,kBAnBN,GAsBJ,QAASwB,IAAS5L,GACd,MAAOA,KAASA,EAAK8B,SAAS,gBAAkB9B,EAAK+C,SAASjB,SAAS,oBAE3E,QAAS+J,IAAgBC,EAAS5G,EAAO3O,GACrC,MAAO,yCAA2CqF,EAAWsJ,GAAS,gBAAkB4G,EAAU,mGAA+GC,GAAY,KAAOC,GAAW,SAAWzV,EAAO,iBAErQ,QAAS0V,IAA6BH,GAClC,MAAO,sDAA6DA,EAAU,iEAxsNrF,GACOvT,IAAQD,OAAOC,MAAO2T,GAAK3T,GAAM2T,GAAIC,GAAa5T,GAAM+P,KAAK6D,WAAYC,GAAmB7T,GAAM+P,KAAK8D,iBAAkBlG,GAAyB3N,GAAM6S,QAAQiB,eAAgBC,GAAgB/T,GAAMmT,eAAgBa,GAASL,GAAGK,OAAQC,GAAajU,GAAMkU,YAAaC,GAAcnU,GAAMoU,aAAcC,GAAOrU,GAAMqU,KAAMjP,GAAgBtH,EAAEsH,cAAejF,GAASrC,EAAEqC,OAAQS,GAAM9C,EAAE8C,IAAKyG,GAAOvJ,EAAEuJ,KAAMlC,GAAUrH,EAAEqH,QAASuF,GAAU5M,EAAE4M,QAASjM,GAAO8E,MAAM+Q,UAAU7V,KAAMiH,GAAQ5H,EAAE4H,MAAO6O,GAAavU,GAAMuU,WAAYC,GAAgB1W,EAAE0W,cAAepB,GAAWtV,EAAEsV,SAAUqB,GAAO3H,KAAM4H,GAAW,WAAYC,GAAQ,QAASC,GAAY,qDAAsDC,GAA0B,uHAAwHC,GAAS,qCAAsCC,GAAU,qDAAsDC,GAAU,kGAAmGC,GAAeD,GAAU,SAAUE,GAAcF,GAAU,QAASG,GAAeL,GAAS,UAAYC,GAAU,SAAUK,GAAc,wDAAyD3P,GAAK,aAAc4P,GAAO,OAAQC,GAAa,aAAcC,GAAO,OAAQC,GAAS,SAAUC,GAAa,aAAcC,GAAiB,iBAAkBC,GAAiB,iBAAkBC,GAAiB,iBAAkBC,GAAiB,iBAAkBC,GAAY,YAAaC,GAAS,SAAUC,GAAa,aAAcC,GAAa,aAAcC,GAAc,cAAeC,GAAY,YAAaC,GAAe,eAAgBC,GAAiB,iBAAkBC,GAAc,aAAcC,GAAO,OAAQC,GAAS,SAAUC,GAAS,SAAUC,GAAO,OAAQC,GAAU,kBAAmBC,GAAY,kBAAmBC,GAAW,mBAAoBC,GAAW,aAAcC,GAAgB,+BAAmCD,GAAUE,GAAiB,mBAAoBC,GAAe,eAAgBC,GAAgB,gBAAiBC,GAAa,aAAcC,GAAe,eAAgBC,GAAW,WAAY7R,GAAQ,QAAS8R,GAAS,SAAUC,GAAW,WAAYC,GAAW,WAAY7T,GAAS,SAAU8T,GAAS,SAAUC,GAAgB,gBAAiBC,GAAQ,QAASC,GAAQ,QAASC,GAAS,SAAUC,GAAS,SAAUC,GAAY,MAAOC,GAAgB,+CAAgDC,GAAY,wBAAyBC,GAAgB,SAAUC,GAAe,SAAU1E,GAAW,WAAY2E,GAAS,SAAU5E,GAAY,aAAc6E,GAAe,YAAaC,GAAqB,MAAOC,GAAmB,sBAAuB9I,GAAyB+I,OAAO,MAAQD,GAAmB,oCAAgDA,GAAmB,OAAQvH,GAAsBwH,OAAO,MAAQD,GAAmB,mBAA+BA,GAAmB,OAAQE,GAAoB,uQAA4RC,GAAmB,qDAA4D5B,GAAW,iMAAuM6B,GAAyB,qDAA4D7B,GAAW,0MAAgN8B,IAAQ,EAAOvK,GAAUrO,GAAM6S,QAAQxE,QAASwK,GAAQxK,GAAQC,MAA2B,GAAnBD,GAAQE,QAAc2E,GAAQ7E,GAAQC,MAA2B,GAAnBD,GAAQE,QACt7HuK,GAASzK,GAAQC,MAA4B,KAApBD,GAAQE,QACjCwK,GAAoB/E,GAAO7T,QAC3BC,KAAM,SAAUgS,EAAS7Q,GACrB,GAAIyX,GAAO1Y,IACX0T,IAAOiF,GAAG7Y,KAAK8Y,KAAKF,EAAM5G,EAAS7Q,GACnCyX,EAAKG,gBAAkBzT,GAAMsT,EAAKI,QAASJ,GAC3CA,EAAKK,cAAc9X,EAAQ+X,YAC3BN,EAAKO,QAETF,cAAe,SAAUC,GACrB,GAAIN,GAAO1Y,IACP0Y,GAAKM,YACLN,EAAKM,WAAWE,OAAOzD,GAAQiD,EAAKG,iBAExCH,EAAKM,WAAaA,EAClBN,EAAKM,WAAWG,KAAK1D,GAAQiD,EAAKG,iBAClCH,EAAKM,WAAW/X,QAAQmY,WAAY,GAExCnY,SACI+D,KAAM,oBACNqU,WAAY7b,EAAE8b,KACdC,UAAU,EACVC,gBAAiB,MAErBC,QACIvD,GACAD,GACAE,IAEJuD,QAAS,WACL,GAAIhB,GAAO1Y,IACX0T,IAAOiF,GAAGe,QAAQd,KAAKF,GACvBA,EAAKM,WAAWE,OAAOzD,GAAQiD,EAAKG,iBACpCH,EAAKiB,QAAQnW,IAAIkV,EAAKkB,mBAAmBC,IAAI1U,IACzCuT,EAAKoB,OACLpB,EAAKoB,KAAKJ,UACVhB,EAAKoB,KAAO,MAEhBpB,EAAKiB,QAAUjB,EAAK5G,QAAU4G,EAAKkB,kBAAoB,KACvDlB,EAAKG,gBAAkB,MAE3BI,KAAM,WACF,GAAoFU,GAAhFjB,EAAO1Y,KAAM+Z,EAAYra,GAAM6S,QAAQwH,YAAc,EAAGjI,EAAU4G,EAAK5G,OAC3EA,GAAQrO,KACJ5E,MAAO,OACPmb,SAAU,WACXvW,IAAI6U,GAAQ,eAAiB,gBAAiByB,GACjDrB,EAAKrU,QAAUyN,EAAQ1J,WAAW6R,QAClCN,EAAUjB,EAAKiB,QAAUjB,EAAKrU,QAAQ4U,KAAK,4CAA4C/O,SAASiP,KAAK,iBAAmBhU,GAAK,cAAgBA,GAAIC,GAAMsT,EAAKwB,aAAcxB,IAC1KA,EAAKyB,WACDza,GAAM6S,QAAQ6H,sBACd1B,EAAKoB,KAAO,GAAIpa,IAAM2a,WAAW3B,EAAKiB,SAClCW,QAAQ,EACRC,gBAAgB,EAChBC,MAAO,SAAUlJ,GACbA,EAAEmJ,OAAOC,WAEbC,KAAM,SAAUrJ,GACZoH,EAAKkB,kBAAkBgB,UAAUlC,EAAKkB,kBAAkBgB,YAActJ,EAAEuJ,EAAEC,OAC1EnB,EAAQxI,WAAWwI,EAAQxI,aAAeG,EAAEyJ,EAAED,OAC9CxJ,EAAEC,qBAIdmH,EAAKkB,kBAAoBpc,EAAE,oDAAoDiG,KAAM5E,MAAOkb,IAAa7V,SAAS4N,GAASqH,KAAK,SAAWhU,GAAIC,GAAMsT,EAAKsC,QAAStC,KAEvKyB,SAAU,WACN,GAAIzB,GAAO1Y,IACPwY,MACAE,EAAKiB,QAAQlW,KAAMwX,aAAc9E,KACjCuC,EAAK5G,QAAQrO,IAAI6U,GAAQ,eAAiB,gBAAiB,KAGnE4B,aAAc,SAAU5I,GACpB,IAAIA,EAAE4J,QAAN,CAGA,GAAInB,GAAY/Z,KAAK4Z,kBAAmBgB,EAAYb,EAAUa,YAAaE,EAAQpb,GAAMyb,YAAY7J,IACjGwJ,GAAWA,EAAQ,GAAmB,IAAdF,GAAsBE,EAAQ,GAAKF,EAAYb,EAAU,GAAGqB,cAAgBrB,EAAU,GAAGsB,eACjH/J,EAAEC,iBACFvR,KAAK4Z,kBAAkBgB,UAAUA,GAAaE,MAGtDE,QAAS,SAAU1J,GACf,GAAIoH,GAAO1Y,KAAMsb,GAAgB5C,EAAKzX,QAAQsY,SAAUqB,EAAYtJ,EAAEU,cAAc4I,UAAW5B,EAAaN,EAAKM,WAAYuC,EAAY7C,EAAKW,WAAYmC,EAAOxC,EAAWwC,QAAU,EAAGhB,EAAQ9B,EAAK+C,aAAeD,EAAM1c,EAAS4Z,EAAK5G,QAAQ4J,cAAeC,KAAmBjD,EAAKkD,eAAiBlD,EAAKkD,cAAgBhB,GAAYiB,EAAiB1H,GAAK9K,IAAI8K,GAAK2H,MAAMlB,EAAYW,GAAY,GAAIQ,EAAiBJ,EAAgBxH,GAAK6H,KAAKld,EAASyc,GAAapH,GAAK2H,MAAMhd,EAASyc,GAAYU,EAAgB9H,GAAK9K,IAAIwS,EAAiBE,EAAgB,EACtiB,OAAIrD,GAAKwD,gBACLxD,EAAKwD,gBAAiB,EACtB,IAEJxD,EAAKyD,WAAavB,EAAYJ,EAAQe,EACtC7C,EAAKkD,cAAgBhB,EACrBlC,EAAK0D,WAAad,EACb5C,EAAK2D,OAAOR,EAAgBI,EAAeN,KAC5CjD,EAAKiB,QAAQ,GAAGiB,UAAYlC,EAAKyD,YAErCzD,EAAK4D,QAAQnG,IACTmF,IACI5C,EAAK6D,mBACLC,aAAa9D,EAAK6D,mBAEtB7D,EAAK6D,kBAAoBrO,WAAW,WAChCwK,EAAK0D,YAAa,EAClB1D,EAAK+D,MAAM/D,EAAK+C,YAAa/C,EAAKM,WAAW0D,SAC9C,MAdPhE,IAiBJiE,YAAa,WACT3c,KAAK4c,UAAU,IAEnBC,eAAgB,WACZ,GAAI9C,GAAY/Z,KAAK4Z,iBACrB5Z,MAAK4c,UAAU7C,EAAU,GAAGsB,aAAetB,EAAUjb,WAEzDge,oBAAqB,WACjB9c,KAAK2Z,QAAQiB,UAAU,IAE3BmC,uBAAwB,WACpB/c,KAAK2Z,QAAQiB,UAAU5a,KAAK2Z,QAAQ,GAAG0B,eAE3C2B,6BAA8B,WAAA,GACtBtE,GAAO1Y,KACP2Z,EAAU3Z,KAAK2Z,QACfsD,EAAmBtD,EAAQiB,WAC3BjB,GAAQ,GAAGuD,YAAcvD,EAAQ,GAAGwD,YAC/BzE,EAAK0E,mBAAoB1E,EAAK2E,wBAC/B1D,EAAQiB,UAAUqC,EAAmBvd,GAAM6S,QAAQwH,aACnDrB,EAAKyD,WAAaxC,EAAQiB,YAC1BlC,EAAK0E,kBAAmB,GAErB1E,EAAK0E,mBACP1E,EAAK4E,+BACN3D,EAAQiB,UAAUqC,EAAmBvd,GAAM6S,QAAQwH,aACnDrB,EAAKyD,WAAaxC,EAAQiB,aAE9BlC,EAAK0E,kBAAmB,IAGhCR,UAAW,SAAUhC,GAAV,GACHlC,GAAO1Y,KACP+Z,EAAYrB,EAAKkB,iBACjBG,GAAUa,cAAgBA,IAC1BlC,EAAKwD,gBAAiB,GAE1BxD,EAAKiB,QAAQiB,UAAUA,GACvBlC,EAAKyD,WAAazD,EAAKiB,QAAQiB,YAC/Bb,EAAUa,UAAUA,GACpBlC,EAAKkD,cAAgB7B,EAAUa,aAEnC2C,iBAAkB,WACd,MAA8C,KAAvCvd,KAAK4Z,kBAAkBgB,aAElCyC,oBAAqB,WAAA,GACbtD,GAAY/Z,KAAK4Z,kBACjBgB,EAAYb,EAAUa,WAC1B,OAAOA,GAAY,GAAKA,GAAa7P,SAASgP,EAAU,GAAGsB,aAAetB,EAAUjb,SAAU,KAElGwe,2BAA4B,WACxB,GAAI3D,GAAU3Z,KAAK2Z,OACnB,OAAOA,GAAQiB,aAAe7P,SAAS4O,EAAQ,GAAG0B,aAAe1B,EAAQ7a,SAAU,KAEvF0e,UAAW,SAAUnS,GACjB,GAAIoS,GAAazd,KAAKyb,aAAezb,KAAKgZ,WAAWwC,QAAU,CAC/D,OAAOiC,GAAapS,GAExBqS,kBAAmB,SAAU5L,GACzB,MAAO9R,MAAK2d,2BAA2B7L,IAE3C6L,2BAA4B,SAAU7L,GAAV,GAGpB9P,GACA4b,EAHAlF,EAAO1Y,KACP2Z,EAAUjB,EAAKiB,OAInB,OADA7H,GAAUtU,EAAEsU,MACRA,EAAQ,IAAMgB,GAAS6G,EAAQ,GAAI7H,EAAQ,MAC3C9P,EAAY+I,SAAS+G,EAAQlJ,WAAWiV,IAAK,IAC7CD,EAAa9L,EAAQ+B,cAAgB,GAChC7R,GAAa,GAAKmS,GAAK2J,IAAI9b,IAAc4b,IAAe5b,EAAY4b,GAAcjE,EAAQ7a,YAMvG8J,SAAU,SAAUkB,GAAV,GAGF1G,GAFAqa,EAAazd,KAAKyb,aAAezb,KAAKgZ,WAAWwC,QAAU,EAC3DuC,EAAW/d,KAAKgZ,WAAW+E,UAO/B,OAJI3a,GADA0G,EAAQ2T,EACC3T,EAAQ2T,EAAa,EAErBA,EAAa3T,EAAQ,EAE3B1G,EAAS2a,EAAWA,EAAW3a,GAE1C4a,eAAgB,SAAU7U,GAAV,GACR1E,GAAYzE,KAAK2Z,QAAQ,GACzBsE,EAAkBxZ,EAAU2W,aAC5B8C,EAAmBle,KAAKqd,sBAAiE5Y,EAAUmW,UAAnD5a,KAAKmc,YAAc1X,EAAUmW,UAC7EuD,EAAgBhV,EAAI,GAAGnH,UACvBoc,EAAgBjV,EAAI,GAAGpH,YACvBmc,GAAkBC,EAClBne,KAAK4Z,kBAAkB,GAAGgB,WAAaqD,EAAkB,EAClDE,EAAgBC,GAAiBF,EAAkBD,IAC1Dje,KAAK4Z,kBAAkB,GAAGgB,WAAaqD,EAAkB,IAGjE5B,OAAQ,SAAUR,EAAgBI,EAAeoC,GAAzC,GACA3F,GAAO1Y,KAAMgZ,EAAaN,EAAKM,WAAYK,EAAaX,EAAKW,WAAYqD,EAAO1D,EAAW0D,OAAQe,EAAa/E,EAAK+C,aAAezC,EAAWwC,QAAU,EAAG8C,EAAcnK,GAAK2H,MAAMD,EAAiBa,GAAQA,EAAM6B,GAAW,EAAOC,EAAa,IACnPzE,EAAYrB,EAAKkB,kBACjB6E,EAAmB1Q,GAAQ2Q,OAAS,EAAI,CAuB5C,OAtBI7C,GAAiB4B,GACjBc,GAAW,EACXd,EAAatJ,GAAK9K,IAAI,EAAG4S,EAAgBS,GACzChE,EAAKyD,WAAapC,EAAUa,YAAc6C,EAAapE,EACvDX,EAAK+D,MAAMgB,EAAYf,IAChBT,GAAiBwB,EAAaf,IAAS2B,GAC9CE,GAAW,EACXd,EAAatJ,GAAKwK,IAAI9C,EAAgB7C,EAAW4F,QAAUlC,GAEvDhE,EAAKyD,WADLpC,EAAUa,aAAeb,EAAU,GAAGsB,aAAetB,EAAUjb,SAAW2f,EACxD/F,EAAKiB,QAAQ,GAAG0B,aAAe3C,EAAKiB,QAAQ7a,SAE5Cua,EAEtBX,EAAK+D,MAAMgB,EAAYf,KACfhE,EAAKmG,WAAanG,EAAKzX,QAAQsY,WACnCsC,EAAiByC,EAAc5B,EAAOA,EAAO8B,GAAc3C,EAAiBa,GAC5E1D,EAAWO,SAAS+E,EAAc5B,EAAMA,EAAMlf,EAAE8b,MAEhD2C,EAAgBqC,EAAc5B,EAAO8B,GACrCxF,EAAWO,SAAS+E,EAAc5B,EAAMA,EAAMlf,EAAE8b,OAGjDiF,GAEXA,SAAU,WACN,MAAOve,MAAK6e,WAEhBpC,MAAO,SAAUjB,EAAMkB,EAAMoC,GACzB,GAAIpG,GAAO1Y,KAAMsb,GAAgB5C,EAAKzX,QAAQsY,SAAUP,EAAaN,EAAKM,UAC1E8F,GAAW7K,GAAW6K,GAAYA,EAAWthB,EAAE8b,KAC3CZ,EAAK4D,QAAQpG,IACTsF,KAAMA,EACNkB,KAAMA,MAIdF,aAAa9D,EAAKqG,UAClBrG,EAAKmG,WAAY,EACjBnG,EAAK+C,YAAcD,EACfxC,EAAWgG,QAAQxD,EAAMkB,IACzBhd,GAAM2T,GAAG4L,SAASzhB,EAAEkb,EAAKiB,SAASzP,UAAU,GAC5C8O,EAAWkG,MAAM1D,EAAMkB,EAAM,WACzBhd,GAAM2T,GAAG4L,SAASzhB,EAAEkb,EAAKiB,SAASzP,UAAU,GAC5C4U,IACApG,EAAK4D,QAAQrG,QAGZqF,GACD5b,GAAM2T,GAAG4L,SAASvG,EAAKiB,QAAQzP,UAAU,GAE7CwO,EAAKqG,SAAW7Q,WAAW,WAClBwK,EAAK0D,aACFd,GACA5b,GAAM2T,GAAG4L,SAASvG,EAAKiB,QAAQzP,UAAU,GAE7C8O,EAAWkG,MAAM1D,EAAMkB,EAAM,WACzBhd,GAAM2T,GAAG4L,SAASvG,EAAKiB,QAAQzP,UAAU,GACzC4U,IACApG,EAAK4D,QAAQrG,QAGtB,QAGXkJ,iBAAkB,SAAUC,GAAV,GACqNrb,GAA/N2U,EAAO1Y,KAAMiN,EAAO,GAAIoS,EAAY3G,EAAKzX,QAAQuY,gBAAiBR,EAAaN,EAAKM,WAAYe,EAAara,GAAM6S,QAAQ6H,oBAAkD,EAA5B1a,GAAM6S,QAAQwH,YAAiBuF,EAAiB5G,EAAKiB,QAAQ,GAC9M4F,EAAsB7G,EAAK2E,sBADyMhE,EAE3NX,EAAKW,WAAaX,EAAKzX,QAAQoY,cAAgB,EACxDmG,EAAqBF,EAAepC,YAAcoC,EAAexd,YAAciY,EAAY,EAHuH0F,EAIxMzG,EAAW4F,QAAUvF,EAAamG,CAChD,KAAKzb,EAAM,EAAGA,EAAMoQ,GAAK2H,MAAM2D,EAAcJ,GAAYtb,IACrDkJ,GAAQ,gCAAkCoS,EAAY,YAEtDI,GAAcJ,IACdpS,GAAQ,gCAAkCwS,EAAcJ,EAAY,cAExE3G,EAAKkB,kBAAkB3M,KAAKA,GACxBsS,IAAwB7G,EAAK2E,uBAC7B3E,EAAKmE,iBAEsB,IAApBnE,EAAKyD,YAAgCiD,IAC5CE,EAAe1E,UAAYlC,EAAKyD,WAChCzD,EAAKsE,iCAGblE,QAAS,SAAUxH,GAAV,GACDoH,GAAO1Y,KAAMgZ,EAAaN,EAAKM,WAAYyE,EAAa/E,EAAK+C,YAC7DiE,GAAUpO,OAASoO,OACnBN,EAAsB1G,EAAK2E,wBAA0BqC,GAAUA,IAAW1J,IAAe0J,IAAWxK,IAAUwK,IAAWtJ,EAC7H1W,IAAM2T,GAAG4L,SAASvG,EAAKiB,QAAQzP,UAAU,GACzCsS,aAAa9D,EAAKqG,UAClBrG,EAAKyG,iBAAiBC,GAClB1G,EAAKoB,MACLpB,EAAKoB,KAAK6F,SAEY,IAAflC,GAA+B/E,EAAKmG,cACtCa,GAAUA,IAAWtJ,IAAQsJ,IAAW1J,MACzC0C,EAAK+C,YAAczC,EAAWwC,QAER,IAAtBxC,EAAW4G,QAAkBF,IAAUA,IAAWtJ,IAAQsJ,IAAW1J,MACrE0C,EAAKkB,kBAAkB,GAAGgB,UAAY,IAG9ClC,EAAKmG,WAAY,KAuBrBgB,IACAC,QACIpiB,KAAM,iBACN2R,UAAW,aACX0Q,UAAW,mBAEfJ,QACIjiB,KAAM,iBACN2R,UAAW,wBACX0Q,UAAW,qBAEfC,MACItiB,KAAM,eACN2R,UAAW,sBACX0Q,UAAW,oBAEfrG,SACIhc,KAAM,SACN2R,UAAW,gBACX0Q,UAAW,oBAEfE,MACIviB,KAAM,OACN2R,UAAW,cACX0Q,UAAW,mBAEfG,QACIxiB,KAAM,SACN2R,UAAW,0BACX0Q,UAAW,oBAEfI,YACIziB,KAAM,SACN2R,UAAW,gBACX0Q,UAAW,qBAEfK,OACI1iB,KAAM,kBACN2R,UAAW,eACX0Q,UAAW,yBAEfM,KACI3iB,KAAM,gBACN2R,UAAW,aACX0Q,UAAW,wBAmrBfO,GAAO5gB,GAAM2T,GAAGkN,gBAAgB1gB,QAChCC,KAAM,SAAUgS,EAAS7Q,EAASwY,GAC9B,GAAIf,GAAO1Y,IACXiB,GAAU4D,GAAQ5D,IAAa+X,WAAY/X,GAAYA,EACvDyS,GAAOiF,GAAG7Y,KAAK8Y,KAAKF,EAAM5G,EAAS7Q,GAC/BwY,IACAf,EAAK8H,QAAU/G,GAEnBnB,GAAQ5Y,GAAM6S,QAAQ+F,MAAMxG,GAC5B4G,EAAK+H,WACL/H,EAAKgI,QACLhI,EAAKiI,SAASnjB,EAAEqC,QAAO,KAAU6Y,EAAKzX,QAAQqE,UAC9CoT,EAAKkI,cACLlI,EAAKmI,SACLnI,EAAKoI,YACLpI,EAAKqI,SACLrI,EAAKsI,aACLtI,EAAKuI,WACLvI,EAAKwI,oBACLxI,EAAKyI,aACLzI,EAAK0I,eACL1I,EAAK2I,cACL3I,EAAK4I,aACL5I,EAAK6I,WACL7I,EAAK8I,YACL9I,EAAK+I,6BACL/I,EAAKgJ,oBACDhJ,EAAKzX,QAAQ0gB,SACbjJ,EAAKM,WAAW4I,SAEhBlJ,EAAKmJ,OAASnJ,EAAKoJ,UAAY,EAC/BpJ,EAAKqJ,WAELrJ,EAAKtU,gBACLsU,EAAKiB,QAAQqI,SAAS,wBACtBtJ,EAAKuJ,eAAiB,WAClBvJ,EAAKwJ,UAET1kB,EAAEiC,QAAQwF,GAAG,SAAWE,GAAIuT,EAAKuJ,iBAErCviB,GAAMyiB,OAAOzJ,IAEjBe,QACIhE,GACA,cACA,SACAI,GACAC,GACAC,GACAZ,GACAC,GACAE,GACAD,GACAE,GACAR,GACAC,GACAC,GACAC,GACAU,GACAJ,GACAmB,GACAC,GACAjB,GACAD,GACAmB,GACAC,GACAC,GACA,OACA,OACA,SACA,QACA,cACA,iBAEJgC,cAAe,SAAUC,GAAV,GACPN,GAAO1Y,KACPoiB,EAAa1J,EAAKzX,QAAQmhB,UAC9B1J,GAAKzX,QAAQ+X,WAAaA,EAC1BN,EAAKkI,cACLlI,EAAKoI,YACLpI,EAAKqI,SACDqB,IACIA,EAAWC,QACX3J,EAAKrU,QAAQE,KAAK,+BAA+B4M,WAAW,GAE5DuH,EAAKrU,QAAQ8M,WAAW,IAG5BuH,EAAKzX,QAAQqhB,WACb5J,EAAKsI,aAELtI,EAAK6J,mBACL7J,EAAK6J,kBAAkBxJ,cAAcL,EAAKzX,QAAQ+X,YAElDN,EAAKzX,QAAQ0R,aACb+F,EAAK0I,eAEL1I,EAAKzX,QAAQ0Q,YACb+G,EAAK2I,cAEL3I,EAAKzX,QAAQ0gB,UACb3I,EAAW4I,SAGnB3gB,SACI+D,KAAM,OACNM,WACAkd,QAAS,KACTb,UAAU,EACVc,YAAY,EACZL,YAAY,EACZM,UAAU,EACV/Q,YAAY,EACZgR,WAAW,EACXhQ,aAAa,EACbiQ,UAAU,EACVC,kBAAkB,EAClBjR,UAAU,EACV0Q,WAAW,EACXQ,YAAa,GACbC,eAAgB,GAChBC,WAAW,EACXhK,cACAla,OAAQ,KACRmkB,WAAW,EACXC,aAAa,EACbC,YAAY,EACZC,eAAgB,KAChBC,wBAAyB,EACzBC,OAAQ,GACRC,UACI3R,UACI4R,aAAc3L,GACd4L,aAAc/L,GACdgM,cAAe9L,IAEnBlT,UACIob,OAAQD,GAAgBC,OAAOpiB,KAC/BiiB,OAAQE,GAAgBF,OAAOjiB,KAC/BsiB,KAAMH,GAAgBG,KAAKtiB,KAC3Bgc,QAASmG,GAAgBnG,QAAQhc,KACjCuiB,KAAMJ,GAAgBI,KAAKviB,KAC3BwiB,OAAQL,GAAgBK,OAAOxiB,KAC/ByiB,WAAYN,GAAgBM,WAAWziB,KACvC0iB,MAAOP,GAAgBO,MAAM1iB,KAC7B2iB,IAAKR,GAAgBQ,IAAI3iB,MAE7BslB,UAAWrL,GACXgM,2BAA4B,KAGpCjK,QAAS,WACL,GAAiB5H,GAAb4G,EAAO1Y,IACX0Y,GAAKkL,cAAc,WACnBlL,EAAKmL,4BACLnQ,GAAOiF,GAAGe,QAAQd,KAAKF,GACvB1Y,KAAK8jB,mBAAqB,KACtBpL,EAAKuJ,gBACLzkB,EAAEiC,QAAQoa,IAAI,SAAW1U,GAAIuT,EAAKuJ,gBAElCvJ,EAAKqL,OAASrL,EAAKqL,MAAMjS,SACzB4G,EAAKqL,MAAMrK,UAEfhB,EAAKqL,MAAQ,KACTrL,EAAK4J,WAAa5J,EAAK4J,UAAUxQ,SACjC4G,EAAK4J,UAAUxQ,QAAQkS,eAAe,WAE1CtL,EAAK4J,UAAY,KACb5J,EAAKzX,QAAQiiB,aACbxK,EAAKiB,QAAQlK,KAAK,oBAAoBiK,UAEtChB,EAAK/G,YAAc+G,EAAK/G,WAAWG,UACnC4G,EAAK/G,WAAW+H,UAChBhB,EAAKuL,YACDvL,EAAKzX,QAAQ4hB,oBAAqB,IAClCnK,EAAKwL,aAAe,MAEpBxL,EAAKyL,cACLzL,EAAKiB,QAAQE,IAAI,UAAWnB,EAAKyL,aACjCzL,EAAKQ,OAAOR,EAAKyL,cAEjBzL,EAAK0L,uBACL1L,EAAKQ,OAAOR,EAAK0L,sBACjB1L,EAAK0L,qBAAuB,MAE5B1L,EAAK2L,kBACL3L,EAAKiB,QAAQE,IAAI,QAASnB,EAAK2L,mBAGvC3L,EAAK/G,WAAa,KACd+G,EAAKuK,YACLvK,EAAKuK,UAAUvJ,UACXhB,EAAK4L,oBACD5L,EAAK6L,mCACL/mB,EAAEsD,UAAU+Y,IAAI,QAASnB,EAAK6L,mCAElC7L,EAAK4L,kBAAkB5K,UACvBhB,EAAK4L,kBAAoB,MAE7B5L,EAAKuK,UAAY,MAErBvK,EAAK8L,4BACL9L,EAAK+L,mBACD/L,EAAKM,aACLN,EAAKM,WAAWE,OAAOzD,GAAQiD,EAAKG,iBAAiBK,OAAO9E,GAAUsE,EAAKgM,kBAAkBxL,OAAO7E,GAAOqE,EAAKiM,eAChHjM,EAAKG,gBAAkBH,EAAKgM,iBAAmBhM,EAAKiM,cAAgB,MAExE7S,EAAU4G,EAAK5G,QAAQtO,IAAIkV,EAAKiB,SAASnW,IAAIkV,EAAK1L,OAAOxJ,IAAIkV,EAAKhQ,OAAOlF,IAAIkV,EAAKiB,QAAQpV,KAAK,qBAC3FmU,EAAKrU,UACLyN,EAAUA,EAAQtO,IAAIkV,EAAKrU,SAASb,IAAIkV,EAAKrU,QAAQE,KAAK,iCAE1DmU,EAAKtG,cACLsG,EAAKkM,0BAELlM,EAAKmM,MACLnM,EAAKmM,KAAKnL,UAEVhB,EAAKoM,wBACLtnB,EAAEiC,QAAQoa,IAAI,SAAUnB,EAAKoM,wBAE7BpM,EAAKqM,oBAAsBrM,EAAKqM,mBAAmBjT,SACnD4G,EAAKqM,mBAAmBrL,UAE5BhB,EAAKqM,mBAAqB,KAC1BjT,EAAQ+H,IAAI1U,IACZzF,GAAMga,QAAQhB,EAAKiB,SACnBjB,EAAKoK,YAAcpK,EAAKqK,eAAiBrK,EAAKsM,kBAAoBtM,EAAKuM,qBAAuBvM,EAAK0K,eAAiB1K,EAAKwM,eAAiBxM,EAAKyM,oBAAsBzM,EAAK0M,0BAA4B1M,EAAK2M,kBAAoB,KAC/N3M,EAAK4M,YAAc5M,EAAKhQ,MAAQgQ,EAAK3L,MAAQ2L,EAAK5G,QAAU4G,EAAK1L,MAAQ0L,EAAKrU,QAAUqU,EAAK6M,OAAS7M,EAAKiB,QAAUjB,EAAKxG,YAAcwG,EAAKtU,cAAgBsU,EAAKtG,aAAesG,EAAK8M,aAAe9M,EAAK+M,uBAAyB/M,EAAKgN,WAAahN,EAAKiN,wBAA0B,MAExRC,WAAY,WAAA,GAGJxiB,GAEA4V,EACA6M,EALA5kB,EAAUjB,KAAKiB,OAuBnB,OAtBAA,GAAQ+X,WAAa,KACjB5V,EAASvD,IAAO,KAAUG,KAAKiB,SACnCmC,EAAOkC,QAAU5F,GAAM0C,cAAepC,KAAKsF,SACvC0T,EAAahZ,KAAKgZ,WAClB6M,EAAc7M,EAAW/X,QAAQwO,MAAQuJ,EAAW8M,MACxD9M,EAAW/X,QAAQwO,KAAO,KAC1BrM,EAAO4V,WAAaxb,EAAEqC,QAAO,KAAUmZ,EAAW/X,SAClD+X,EAAW/X,QAAQwO,KAAOoW,EAC1BziB,EAAO4V,WAAWvJ,KAAOoW,EACzBziB,EAAO4V,WAAW4G,KAAO5G,EAAW4G,OACpCxc,EAAO4V,WAAW1U,OAAS0U,EAAW1U,SACtClB,EAAO4V,WAAW+E,SAAW/E,EAAW+E,WACxC3a,EAAO4V,WAAW5a,KAAO4a,EAAW5a,OACpCgF,EAAO4V,WAAW+M,MAAQ/M,EAAW+M,QACrC3iB,EAAO4V,WAAWgN,UAAYhN,EAAWgN,YACrC5iB,EAAO4V,WAAWiN,YAClB7iB,EAAO4V,WAAWiN,UAAUjN,WAAa,MAEzC5V,EAAOwf,UAAYxf,EAAOwf,SAAS7E,WACnC3a,EAAOwf,SAAS7E,SAAW/E,EAAW+E,YAE1C3a,EAAO8iB,SAAWxjB,EACXU,GAEX+iB,WAAY,SAAUllB,GAAV,GAMJ0Y,GACAF,EACA3H,EAIIsU,EAXJC,EAAiBrmB,KAAK4lB,YAC1BlmB,IAAM0C,WAAWikB,EAAgBplB,GAC5BA,EAAQ+X,aACTqN,EAAerN,WAAahZ,KAAKgZ,YAEjCW,EAAU3Z,KAAK2Z,QACfF,EAASzZ,KAAKwgB,QACd1O,EAAU9R,KAAK8R,QACnB9R,KAAK0Z,UACL1Z,KAAKiB,QAAU,KACXjB,KAAKsmB,YACDF,EAAgBzM,EAAQxN,QAAQzM,GAAM+S,aAAa,SAASvI,SAChEkc,EAAcG,MAAM5M,GACpByM,EAAcjb,SACdwO,EAAQ6M,YAAY,kBAEpB7M,EAAQ,KAAO7H,EAAQ,KACvB6H,EAAQ7V,OAAOgO,GACf6H,EAAQxO,UAEZ2G,EAAQ5E,QACRlN,KAAKF,KAAKgS,EAASuU,EAAgB5M,GACnCzZ,KAAKymB,WAAWJ,IAEpB1W,MAAO,WACH,MAAI3P,MAAKoE,cACEpE,KAAK0mB,OAAO1mB,KAAK+M,OAAOvJ,IAAIxD,KAAK0mB,OAAO1mB,KAAKkS,YAAY9J,SAAS,WAElEpI,KAAK0mB,OAAO1mB,KAAK+M,QAGhC2Z,OAAQ,SAAUjiB,GACd,MAAOA,GAAU2D,WAAW9D,OAAO,WAC/B,GAAIqiB,GAAKnpB,EAAEwC,KACX,QAAQ2mB,EAAG1d,SAAS,oBAAsB0d,EAAG1d,SAAS,kBAAoB0d,EAAG1d,SAAS,qBAG9F2d,UAAW,WAAA,GAGCC,GAAsBzZ,EACjB5O,EAHTooB,EAAYlnB,GAAM2T,GAAGkN,gBAAgB5H,GAAGiO,UAAUhO,KAAK5Y,KAC3D,IAAIA,KAAKoE,cAAe,CAEpB,IADIyiB,EAAID,EAAUloB,OAAQ0O,EAAUnK,MAAM,EAAI4jB,GACrCroB,EAAIqoB,IAAKroB,GAAK,GACnB4O,EAAI5O,GAAK4O,EAAI5O,EAAIqoB,GAAKD,EAAUpoB,EAEpCooB,GAAYxZ,EAEhB,MAAOwZ,IAEX/C,0BAA2B,WACvB,GAAInL,GAAO1Y,IACX0Y,GAAKoO,aAAe,KACfpO,EAAKhQ,QAGV1I,KAAK+mB,QAAQ,UAAW,WACpB,OAAS5iB,SAAUuU,EAAKhQ,MAAM9H,SAElC8X,EAAKhQ,MAAMlF,IAAIkV,EAAKtG,cAAc7N,KAAK,MAAMyiB,KAAK,WAC9C,GAAI1Y,GAAK9Q,EAAEwC,MAAOinB,EAAa3Y,EAAGmB,KAAK,mBAAoBiT,EAAWpU,EAAGmB,KAAK,qBAAsB0T,EAAa7U,EAAGmB,KAAK,kBACrHwX,IACAA,EAAWvN,UAEXgJ,GACAA,EAAShJ,UAETyJ,GACAA,EAAWzJ,cAIvB+H,2BAA4B,WACxB,GAA4D9c,GAASZ,EAAKrF,EAAtEga,EAAO1Y,KAAMsF,EAAUyD,EAAY2P,EAAKpT,YAC5C,KAAKvB,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjDY,EAAUW,EAAQvB,GAAKY,QACnBA,GACAH,EAAyBkU,EAAMA,EAAKiB,QAAShV,IAIzD+b,MAAO,WACH,GAAIxa,GAAKlG,KAAK8R,QAAQhP,KAAK,OAAS,MAChCoD,KACAlG,KAAKknB,QAAUhhB,EAAK,iBAG5Bua,SAAU,WACN,GAAI/H,GAAO1Y,KAAMgN,EAAQ0L,EAAK5G,OACzB9E,GAAMa,GAAG,WAENb,EADA0L,EAAKzX,QAAQmhB,WACL1J,EAAK5G,QAAQvN,KAAK,6BAElBmU,EAAK5G,QAAQ1J,SAAS,SAE7B4E,EAAMtO,SACPsO,EAAQxP,EAAE,aAAa0G,SAASwU,EAAK5G,WAGzCyG,IACAvL,EAAMlK,KAAK,cAAe,GAE9B4V,EAAK1L,MAAQA,EAAMlK,KAAK,OAAQ4V,EAAKyO,cAAgB,WAAa,QAClEzO,EAAKyB,YAETiN,oBAAqB,SAAU3iB,EAAW6J,GAArB,GAMb+Y,GAWIve,EACK/E,EAeDujB,EAAuEC,EAA2D9I,EAAyH+I,EAhCnQ9O,EAAO1Y,KACPynB,EAAiB/O,EAAKzX,QAAQoiB,wBAC9BjB,EAAa1J,EAAKzX,QAAQmhB,WAC1B0E,EAAepO,EAAKoO,aACpB9e,EAAShI,KAAK8hB,SAUlB,IARIgF,GAAgBpO,EAAKtU,eAAiB0iB,EAAarX,KAAK,MAAM,KAAOnB,EAAG,KACxEwY,EAAajN,IAAI1U,IAAIgG,SACrB2b,EAAe,MAEdA,IACDA,EAAepO,EAAKoO,aAAetpB,EAAE;AACrCiH,EAAUiF,OAAOod,IAEhBxO,GAgBD+O,EAAO/Y,EAAG1F,WAAWye,KACjBjF,IACIkF,EAAahZ,EAAGnC,QAAQ,8CAA+Cob,EAAexZ,GAAQC,KAAOsZ,EAAWnW,aAAe,EAAGsN,EAAmB1Q,GAAQ2Q,OAAS4I,EAAW,GAAGpK,YAAcoK,EAAW,GAAGxlB,YAAcwlB,EAAWnW,aAAe,EAAGqW,EAAoBzZ,GAAQ2Z,QAAUJ,EAAW,GAAGpK,YAAcoK,EAAW,GAAGxlB,aAAewlB,EAAW,GAAGpK,YAAcoK,EAAW,GAAGxlB,YAAcwlB,EAAWnW,cAAgB,EACjbkW,GAAQ5I,EAAmB+I,EAAoBD,OAnB3C,CAGR,IAFAF,EAAO/Y,EAAG,GAAGxM,YACTgH,EAAQ2C,EAAc6C,EAAGnC,QAAQ,UAAU7H,OAAO,YAC7CP,EAAM,EAAGA,EAAM+E,EAAMpK,QACtBoK,EAAM/E,IAAQuK,EAAG,GADavK,IAIlCsjB,GAAQve,EAAM/E,GAAKjC,WAEnBkG,GAAS,IACTqf,GAAQ1T,GAAWlP,EAAUF,KAAK,wBAA0ByD,GAE5D0Q,EAAKyO,gBACLE,GAAQ1T,GAAWlP,EAAUF,KAAK,6BAS1CuiB,EAAarjB,KACToa,IAAKvP,EAAG1F,WAAWiV,IACnBwJ,KAAMA,EAAOI,EACb3oB,OAAQ+U,GAAYvF,GACpBzP,MAAwB,EAAjB4oB,IACRhY,KAAK,KAAMnB,GAAIqZ,OAClBb,EAAajN,IAAI,WAAa1U,IAAIF,GAAG,WAAaE,GAAI,WAClDuT,EAAKkP,mBAAmBtZ,EAAGmB,KAAK,aAGxCoY,4BAA6B,WACzB,GAAInP,GAAO1Y,KAAM8nB,EAAapP,EAAKtG,aAAesG,EAAKtG,aAAa7N,KAAK,eAAiB/G,GAC1Fkb,GAAKhQ,MAAMlF,IAAIskB,GAAY7iB,GAAG,YAAcE,GAAI,KAAM,SAAUmM,GAAV,GAC9CyW,GAA8B,IAAdzW,EAAE0W,QAA0B1W,EAAE0W,QAAU1W,EAAE2W,OAAS3W,EAAEyW,OACrEzZ,EAAK9Q,EAAEwC,KACPsO,GAAGrF,SAAS,iBAAmBqF,EAAGrF,SAAS,qBAGzB,IAAX8e,GAAqC,IAAXA,GAGrCrP,EAAK0O,oBAAoB9Y,EAAGnC,QAAQ,OAAQmC,MAGpD4Z,2BAA4B,SAAU5W,GAC9B9T,EAAE8T,EAAEzJ,QAAQsE,QAAQ,oBAAoBzN,SAG5ClB,EAAEsD,UAAU+Y,IAAIvI,GAChBtR,KAAKmoB,sBAETA,kBAAmB,WACXnoB,KAAK8mB,eACL9mB,KAAK8mB,aAAarX,KAAK,MAAM+W,YAAY,mBACrCxmB,KAAKoE,gBAAkBpE,KAAKsmB,WAC5BtmB,KAAK8mB,aAAajN,IAAI1U,IAAIgG,SAC1BnL,KAAK8mB,aAAe,MAEpB9mB,KAAK8mB,aAAathB,SAI9B4iB,iCAAkC,WAC9B,GAAI1P,GAAO1Y,KAAM8nB,EAAapP,EAAKtG,aAAesG,EAAKtG,aAAa7N,KAAK,eAAiB/G,GAC1Fkb,GAAK4L,kBAAoB,GAAI5kB,IAAM2a,WAAWyN,EAAWtkB,IAAIkV,EAAKhQ,QAC9DpE,OAAQ,+CACR+jB,UAAW,GACXC,KAAM,SAAUhX,GACZ,GAAIhD,GAAK9Q,EAAE8T,EAAEzJ,OACbyJ,GAAEC,iBACFjD,EAAG0T,SAAS,mBACZtJ,EAAK0O,oBAAoB9Y,EAAGnC,QAAQ,OAAQmC,GACvCoK,EAAK6L,oCACN7L,EAAK6L,kCAAoCnf,GAAMsT,EAAKwP,2BAA4BxP,IAEpFlb,EAAEsD,UAAUmE,GAAG,QAASyT,EAAK6L,uCAIzCgE,WAAY,WACR,GAAyC9jB,GAAW+jB,EAAaC,EAAaC,EAAgBC,EAA2GC,EAAUC,EAAKva,EAApNoK,EAAO1Y,KAAMiB,EAAUyX,EAAKzX,QAAyE6nB,EAAW9oB,KAAKsmB,UAAWvM,EAAara,GAAM6S,QAAQwW,SAAuC,EAA5BrpB,GAAM6S,QAAQwH,WACpL9Y,GAAQgiB,YACRxe,EAAYxD,EAAQmhB,WAAa1J,EAAKiB,QAAQpV,KAAK,6BAA+BmU,EAAKiB,QACnFmP,EACApQ,EAAK0P,iCAAiC3jB,GAEtCiU,EAAKmP,4BAA4BpjB,GAEjCiU,EAAKuK,WACLvK,EAAKuK,UAAUvJ,UAEnBhB,EAAKuK,UAAY,GAAI5P,IAAG2V,UAAUvkB,EAAUjB,IAAIkV,EAAKtG,eACjD6W,QAAWhoB,EAAQmhB,WAAa,GAAK,KAAO,mBAC5C8G,KAAM,SAAUD,GACZ,MAAOzrB,GAAE,2CAA2CiG,KAAM3E,OAAQ+U,GAAYoV,EAAOxZ,KAAK,OAASiJ,EAAK3L,MAAMjK,KAAK,mBAEvH0X,MAAO,SAAUlJ,GAAV,GAKC6X,GAA8Brf,EAE9Bsf,EAAyD7D,CAN7DjX,GAAK9Q,EAAE8T,EAAEU,eAAevC,KAAK,MACzBqZ,GACApQ,EAAKyP,oBAELgB,EAAS7a,EAAGnC,QAAQ,SAAUrC,EAAQtM,EAAE4M,QAAQkE,EAAG,GAAI7C,EAAc6C,EAAGnC,QAAQ,UAAU7H,OAAO,aACrGskB,EAAWO,EAAOjf,SAASjB,SAAS,wBAChCmgB,EAAeR,EAAWlQ,EAAKxG,YAAcwG,EAAK1L,MAAOuY,EAAS7M,EAAK6M,QAAU/nB,IACjFkb,EAAK6M,QAAU7M,EAAKtU,gBACpBmhB,EAAoB7M,EAAK6M,OAAOnd,SAAvBwgB,EAAgC,wBAAgD,wBAE7FtlB,EAAOoV,EAAKiB,QAAS,cAEjBkP,EADA5nB,EAAQmhB,WACF+G,EAAO5kB,KAAK,kDAAoDuF,EAAQ,KAAKtG,IAAI4lB,EAAahhB,SAAS,YAAY7D,KAAK,kDAAoDuF,EAAQ,MAAMtG,IAAI+hB,EAAOhhB,KAAK,YAAYA,KAAK,kDAAoDuF,EAAQ,MAEvRsf,EAAahhB,SAAS,YAAY7D,KAAK,kDAAoDuF,EAAQ,KAE7G0e,EAAclX,EAAEyJ,EAAEsO,SAClBZ,EAAc9U,GAAWrF,GACzBoa,EAAiB3f,EAAY2P,EAAKpT,SAASwE,GAAOwf,mBAAqB,GACvEX,EAAuBhV,GAAXiV,EAAsBQ,EAAahhB,SAAS,SAAuBsQ,EAAK3L,OAChFgB,GAAQ2Q,QACRhG,EAAKiB,QAAQqI,SAAS,2BAG9BE,OAAQ,SAAU5Q,GAAV,GAGIiU,GASA4D,EACAC,EACAG,EACAC,EACA3qB,EAfJ4qB,EAAgBnR,MAAa,EAAGoR,EAAejB,EAAcnX,EAAEyJ,EAAEsO,SAAWI,EAAgBjB,EAAciB,CAC1GxoB,GAAQmhB,YAEJwG,GAAYlQ,EAAK8M,aACjBD,EAAS7M,EAAK8M,aAAapd,SAAS,SAC7BsQ,EAAK6M,SACZA,EAAS7M,EAAK6M,OAAOhhB,KAAK,+BAEzBghB,GAAWA,EAAO,KACnBA,EAAS/nB,KAET2rB,EAAS7a,EAAGnC,QAAQ,SACpBid,EAAeR,EAAWlQ,EAAKxG,YAAcwG,EAAK1L,MAClDuc,GAAY,EACZC,EAAa9Q,EAAKiB,QAAQ9a,QAAUkb,EACpClb,EAAQ6qB,EACRd,GAAYD,EAAYF,EAAc5pB,EAAQ2qB,IAC9C3qB,EAAQ4pB,GAAee,EAAab,EAAwB,EAAZ5O,GAC5Clb,EAAQ,IACRA,EAAQ6qB,GAEZH,GAAY,GAEZ1qB,EAAQ,IAAMA,GAAS6pB,IACvBG,EAAIplB,IAAI,QAAS5E,GACb8pB,IAEI9pB,EADA0qB,EACQC,EAAyB,EAAZzP,EAEb4O,EAAYrX,EAAEyJ,EAAEsO,SAAWI,EAAgBjB,EAAciB,EAErEL,EAAa5lB,IAAI2lB,GAAQ3lB,IAAI+hB,GAAQ9hB,IAAI,QAAS5E,GAC7C+pB,IACDlQ,EAAKiR,aAAe9qB,KAIhC6Z,EAAKkR,uCACEF,EAAe,IAAMA,GAAgBhB,GAC5CG,EAAIplB,IAAI,QAASimB,IAGzBG,UAAW,WAAA,GACwBpkB,GAAQ0jB,EAO/Brf,EAPJggB,EAAWnW,GAAWrF,EAC1BhL,GAAOoV,EAAKiB,QAAS,IACjB5L,GAAQ2Q,QACRhG,EAAKiB,QAAQ6M,YAAY,0BAEzBiC,GAAeqB,IACfX,EAASzQ,EAAKtG,aAAesG,EAAKtG,aAAa7N,KAAK,wBAAwBf,IAAIkV,EAAKhQ,MAAMnE,KAAK,aAAe+J,EAAGpE,SAC9GJ,EAAQwE,EAAGxL,KAAKpD,GAAMoD,KAAK,UAC1BgH,IACDA,EAAQqf,EAAO5kB,KAAK,gDAAgDuF,MAAMwE,IAE9E7I,EAASsD,EAAY2P,EAAKpT,SAASwE,GACnCrE,EAAO5G,MAAQirB,EACfpR,EAAK4D,QAAQ3F,IACTlR,OAAQA,EACRskB,SAAUtB,EACVqB,SAAUA,IAEdpR,EAAKsR,8BACLtR,EAAKuR,2BACLvR,EAAKwR,2BAETxR,EAAKyP,oBACL7Z,EAAK,UAKrB6b,WAAY,WAAA,GAMAhB,GALJzQ,EAAO1Y,IACP0Y,GAAKzX,QAAQiiB,cACTxK,EAAKqM,oBACLrM,EAAKqM,mBAAmBrL,UAExByP,EAASzQ,EAAKiB,QAAQvR,SAAS,kBACnCsQ,EAAKqM,mBAAqBrM,EAAKiB,QAAQyQ,gBACnCrE,MAAOrmB,GAAMuG,OACbokB,YAAY,EACZ/lB,OAAQoU,EAAKrU,QAAU,wBAA0ByQ,GAAc,8BAAgCA,GAC/FwV,UAAW,WACPnB,EAAO/gB,SAAS,uBAAuB8Q,OAAO,SAAW/T,GAAK,aAAagU,KAAK,SAAWhU,GAAK,YAAa,SAAUmM,GAC/GoH,EAAK6J,kBACL7J,EAAKrU,QAAQE,KAAK,+BAA+B4M,WAAWnR,KAAKmR,YAEjEuH,EAAK4M,YAAYiF,IAAIjZ,EAAEU,eAAeb,WAAWnR,KAAKmR,eAIlEqZ,QAAS,WACLrB,EAAO/gB,SAAS,uBAAuB8Q,OAAO,SAAW/T,GAAK,cAElE2U,KAAM,WACFpB,EAAKyP,qBAETe,KAAM,SAAUrhB,GACZ,GAAI4iB,GAAQ5iB,EAAO/E,KAAKpD,GAAMoD,KAAK,SAInC,OAHI2nB,KACAA,EAAQ/qB,GAAMqP,WAAW0b,IAEtBjtB,EAAE,wCAAwCiG,KAC7C5E,MAAOgJ,EAAOhJ,QACd6rB,YAAa7iB,EAAOpE,IAAI,eACxBknB,aAAc9iB,EAAOpE,IAAI,gBACzBmnB,WAAY/iB,EAAO/I,SAAW,KAC9B+rB,WAAYhjB,EAAOpE,IAAI,cACvBqnB,cAAejjB,EAAOpE,IAAI,mBAC3BwJ,KAAKwd,GAAS5iB,EAAO/E,KAAKpD,GAAMoD,KAAK,WAAa+E,EAAOnK,QAAQoQ,QAAQ,uDAEjF2B,KAAK,oBAGhBsb,aAAc,WACV,GAAIrS,GAAO1Y,IACP0Y,GAAKzX,QAAQiiB,cACTxK,EAAKiB,QAAQlK,KAAK,qBAClBiJ,EAAKiB,QAAQlK,KAAK,oBAAoBiK,UAE1ChB,EAAKiB,QAAQqR,kBACTC,UAAWvS,EAAKqM,mBAChBmG,mBAAoB,SAAUlnB,EAAawG,GACvC,GAAIlF,GAAU+E,EAAsBqO,EAAKpT,QACzC,OAAOA,GAAQtB,GAAamnB,YAAa,GAAS5gB,EAA2BjF,EAASoT,EAAKpT,QAAStB,EAAawG,OAErH4gB,gBAAiB,SAAU9Z,GACvB,MAAO9T,GAAE8T,EAAE1N,QAAQsG,SAAS,KAAO1M,EAAE8T,EAAEzJ,QAAQqC,SAAS,IAAMK,EAA2BF,EAAsBqO,EAAKpT,SAAUoT,EAAKpT,QAASgM,EAAEtN,YAAasN,EAAE9G,iBAEjK6gB,OAAQ,SAAU/Z,GAAV,GACAhM,GAAU+E,EAAsBqO,EAAKpT,SACrCG,EAASH,EAAQgM,EAAEga,UACnBC,EAAWhhB,EAA2BjF,EAASoT,EAAKpT,QAASgM,EAAEga,SAAUha,EAAEia,SAC/E7S,GAAK4D,QAAQ1F,IACT2U,SAAUA,EACVD,SAAUlhB,GAAQ3E,EAAQH,GAC1BG,OAAQA,IAEZiT,EAAK8S,cAAcD,EAAU9lB,EAAuB,WAAf6L,EAAE1I,eAKvD6iB,eAAgB,SAAU7jB,EAASC,EAAQ/D,GAA3B,GAKHC,GAKLyF,EACAkiB,EACAC,EAXAjT,EAAO1Y,KACPsJ,EAAiBJ,EAAetB,EAAQ,GAAI8Q,EAAKpT,SACjDsmB,EAAe1iB,EAAerB,EAAQ6Q,EAAKpT,SAC3CwC,IACJ,KAAS/D,EAAM,EAAGA,EAAM6D,EAAQlJ,OAAQqF,IAChC6D,EAAQ7D,GAAKuB,UACbwC,EAAQA,EAAM6B,OAAO/B,EAAQ7D,GAAKuB,SAGtCkE,GAAMrF,EAASuU,EAAKtG,aAAcsG,EAAKhQ,MAAO,SAAWY,EAAeH,IAAM,sDAC9EuiB,EAAsBnkB,EAAcK,GAASlJ,OAC7CitB,EAAsBpkB,GAAeM,IAASnJ,OAC9CoJ,EAAMpJ,QACFgtB,EAAsB,GAA6B,IAAxBC,EAC3BhkB,EAA2BC,EAASC,EAAQC,EAAO4Q,EAAKpT,QAASoT,EAAKtG,aAAa7N,KAAK,SAAUmU,EAAKhQ,MAAO1I,KAAK8hB,WACpF,IAAxB4J,GAA6BC,EAAsB,GAC1DhkB,EAA2BC,EAASC,EAAQC,EAAO4Q,EAAKpT,QAASoT,EAAKhQ,MAAOgQ,EAAKtG,aAAa7N,KAAK,SAAUvE,KAAK8hB,YAEnHja,EAAOvC,SAAWgE,EAAenC,KAAOykB,EAAazkB,KAAO,GAAKykB,EAAazkB,KAAOmC,EAAenC,KAAO,KAC3GU,EAASoC,EAAkByO,EAAKpT,QAASuC,EAAQD,EAAQ,GAAI9D,GACzD+D,GACA6Q,EAAK+S,eAAe3jB,EAAOD,EAAQ/D,KAGpC4nB,IAAwBC,GAC/BzkB,EAAkBsC,EAAIF,EAAenC,MAAOuR,EAAKpT,QAASomB,GAE9DhoB,EAAQ8F,EAAKF,EAAenC,KAAMykB,EAAazkB,KAAMrD,EAAQ8D,EAAQlJ,SAEzEmtB,gBAAiB,SAAUjkB,EAASG,EAAajE,GAAhC,GAYEgoB,GAwBX7jB,EAWKlE,EAASrF,EA9Cdga,EAAO1Y,KACP+rB,EAAavuB,IACboG,EAASgE,EAAQ,GACjBokB,EAAiBllB,EAAec,GAChC5D,EAAcoG,GAAQxG,EAAQmF,EAAY2P,EAAKpT,UAC/C2mB,EAAY7hB,GAAQrC,EAAagB,EAAY2P,EAAKpT,UAClD4mB,EAAiB9hB,GAAQxG,EAAQ4H,EAAmBkN,EAAKpT,UACzD6mB,EAAU/hB,GAAQrC,EAAayD,EAAmBkN,EAAKpT,UACvD8mB,EAAc7kB,EAAcmR,EAAKpT,SAAS5G,OAC1CkqB,IAAa7gB,EAAYiC,OACzBub,EAAS7M,EAAK6M,QAAU7M,EAAKiB,QAAQpV,KAAK,kBAC1C8nB,EACQP,EAAYK,CAkCxB,KAjCIpkB,EAAYrC,SACRkjB,GACAuD,EAAUzT,EAAKxG,YAAY3N,KAAK,YAChC8nB,EAAY3T,EAAKtG,aAAa7N,KAAK,YACnCunB,EAAYtuB,EAAEkb,EAAK8M,cAAcjhB,KAAK,qBAEtC4nB,EAAUzT,EAAK3L,MAAMuf,OACrBD,EAAY3T,EAAKhQ,MAAM4jB,OACvBR,EAAYvG,EAAOhhB,KAAK,uBAAuBA,KAAK,qBAGxDmU,EAAK6T,iBACL7oB,EAAQgV,EAAKiB,QAAQpV,KAAK,yDAA0DP,EAAaioB,EAAWnoB,EAAQ8D,EAAQlJ,QAEhIgF,EAAQS,EAASuU,EAAKtG,aAAcsG,EAAKhQ,MAAM4jB,OAAQ,0CAA2CJ,EAAgBG,EAAWvoB,EAAQkoB,EAAettB,QAChJga,EAAKzX,QAAQmhB,YACb1e,EAAQS,EAASuU,EAAKxG,YAAawG,EAAK3L,MAAMuf,OAAQ,0CAA2CJ,EAAgBC,EAASroB,EAAQkoB,EAAettB,QAEjJ6mB,GAAUA,EAAO7mB,SACjBgF,EAAQS,EAASuU,EAAK8M,aAAcD,EAAOhhB,KAAK,uBAAwB,0DAA2D2nB,EAAgBJ,EAAWhoB,EAAQkoB,EAAettB,QACrLgF,EAAQ6hB,EAAOhhB,KAAK,8DAA+DP,EAAaioB,EAAWnoB,EAAQ8D,EAAQlJ,SAE3HuJ,EAAOyQ,EAAK3L,MAAM3E,SAAS,uCAC3BsQ,EAAKxG,cACDka,EAAcH,EACVG,GAAepoB,GACf+L,GAAc2I,EAAKxG,YAAY3N,KAAK,4BAA6BmU,EAAK1L,MAAMzI,KAAK,4BAA6BqD,EAAQlJ,QAEnH0tB,EAAcpoB,GACrB+L,GAAc2I,EAAK1L,MAAMzI,KAAK,4BAA6BmU,EAAKxG,YAAY3N,KAAK,4BAA6BqD,EAAQlJ,QAE1HqtB,EAAarT,EAAKxG,YAAY3N,KAAK,iDAE9BR,EAAM,EAAGrF,EAASuJ,EAAKvJ,OAAQqF,EAAMrF,EAAQqF,GAAO,EACzDL,EAAQS,EAAS4nB,EAAWhoB,GAAMkE,EAAKlE,GAAM,4CAA6CC,EAAaioB,EAAWnoB,EAAQ8D,EAAQlJ,SAG1IkpB,mBAAoB,SAAU4E,GAC1BxsB,KAAKysB,cAAc1jB,EAAY/I,KAAKsF,SAASknB,KAEjDC,cAAe,SAAUhnB,GAAV,GACsDqE,GAAOwE,EAAI6D,EAAayW,EAAsIC,EAAK6D,EAAUC,EAAYxb,EAwBtPiY,EAAyD7D,EAIzDqH,EAIKC,EAkBLC,EACAC,EAMAC,EAOIpiB,EAAgCC,EAAU2e,EACrCzlB,EAASrF,EAjElBga,EAAO1Y,KAAMiB,EAAUyX,EAAKzX,QAASqE,EAAUoT,EAAKpT,QAA2C2nB,EAAgBvU,EAAKtG,aAAe3G,EAAciN,EAAKtG,aAAa7N,KAAK,iBAAiBD,OAAOsC,GAAelI,OAAS,EAA0CwuB,EAAyB,8CAA+CC,EAAiC,sDAY/W,IAVI1nB,EADiB,gBAAVA,GACEH,EAAQG,GACVX,GAAcW,GACZsB,GAAKuD,EAAYhF,GAAU,SAAUoJ,GAC1C,MAAOA,KAASjJ,IACjB,GAEMsB,GAAKuD,EAAYhF,GAAU,SAAUoJ,GAC1C,MAAOA,GAAK9I,QAAUH,IACvB,GAEFA,GAAWI,EAAUJ,GAA1B,CAoBA,IAjBAinB,EAAWjnB,EAAO6jB,kBAClBxf,EAAQM,GAAQ3E,EAAQsD,EAAYzD,IACpCsjB,EAAWnjB,EAAOuE,OAEdmI,EADAyW,EACclQ,EAAKtG,aAAahK,SAAS,SAE3BsQ,EAAKhQ,MAAMwB,SAE7BoE,EAAK6D,EAAY5N,KAAK,gBAAmBuF,EAAQ,MAC7Csf,EAAeR,EAAWlQ,EAAKxG,YAAcwG,EAAK1L,MAAOuY,EAAS7M,EAAK6M,QAAU/nB,IACjFkb,EAAK6M,QAAU7M,EAAKtU,gBACpBmhB,EAAoB7M,EAAK6M,OAAOnd,SAAvBwgB,EAAgC,wBAAgD,wBAEzFgE,EAAcrH,EAAOhhB,KAAK,SAAS0V,QACnCvB,EAAKtG,eAAiBwW,IACtB9e,GAASmjB,GAEJJ,EAAI,EAAGA,EAAIvnB,EAAQ5G,QACpB4G,EAAQunB,KAAOpnB,EADaonB,IAIxBvnB,EAAQunB,GAAGnnB,QACXoE,GA0BZ,IAtBI7I,EAAQmhB,YACRyG,EAAM1W,EAAY5N,KAAK2oB,GAAwBjpB,GAAG6F,GAAOtG,IAAI4lB,EAAahhB,SAAS,YAAY7D,KAAK2oB,GAAwBjpB,GAAG6F,IAAQtG,IAAIopB,EAAYroB,KAAK,YAAYA,KAAK2oB,GAAwBjpB,GAAG6F,IACnM8e,IACD+D,EAAavD,EAAalf,SAC1BiH,EAAawb,EAAWxb,eAG5B0X,EAAMO,EAAahhB,SAAS,YAAY7D,KAAK2oB,GAAwBjpB,GAAG6F,GAExEgjB,EAAS3a,EAAY3O,IAAI4lB,GAAc5lB,IAAIopB,GAC3CG,EAAiBpZ,GAAWrF,GAChCua,EAAIhqB,MAAM,IACViuB,EAAOrpB,IAAI,eAAgB,SAC3BolB,EAAIhqB,MAAM,QACViuB,EAAO9K,SAAS,iBAChB8K,EAAOrpB,IAAI,eAAgB,IACvBupB,EAAiBxgB,KAAKwP,KAAKxP,KAAKnD,IAAIsK,GAAWrF,GAAKqF,GAAWyV,EAAa7kB,KAAK,2BAA2BN,GAAG,GAAGmE,SAAS+kB,GAAgClpB,GAAG6F,IAAS6J,GAAWiZ,EAAYroB,KAAK,MAAMN,GAAG,GAAGmE,SAAS+kB,GAAgClpB,GAAG6F,MAAY,EACvQ4iB,GAAYA,EAAWM,IACvBA,EAAiBN,GAErB7D,EAAIhqB,MAAMmuB,GACVvnB,EAAO5G,MAAQmuB,EACX/rB,EAAQmhB,WAAY,CAEpB,IADIxX,EAAOuH,EAAY5N,KAAK,OAAkBilB,EAAa,EAClDzlB,EAAM,EAAGrF,EAASkM,EAAKlM,OAAQqF,EAAMrF,EAAQqF,GAAO,EAEzD,GADA8G,EAAWD,EAAK7G,GAAK9E,MAAMJ,MACvBgM,GAAYA,EAASC,QAAQ,SAC7B0e,GAAcze,SAASF,EAAU,QAC9B,CAAA,IAAID,EAAK3G,GAAGF,GAAKkF,SAAS,eAE1B,CACHugB,EAAa,CACb,OAHAA,GAAcze,SAASH,EAAK3G,GAAGF,GAAKlF,QAAS,IAMjD2qB,GACAsD,EAAO9F,KAAK,WACRhnB,KAAKf,MAAMJ,MAAQ2qB,EAAa,OAIxCzb,GAAQC,MAA2B,GAAnBD,GAAQE,UACxB6e,EAAOrpB,IAAI,UAAW,gBACtByK,WAAW,WACP4e,EAAOrpB,IAAI,UAAW,UACvB,IAEPqpB,EAAOtG,YAAY,iBACfrV,GACAwb,EAAWxb,WAAWA,GAE1BuH,EAAK4D,QAAQ3F,IACTlR,OAAQA,EACRskB,SAAUgD,EACVjD,SAAUkD,IAEdtU,EAAKsR,8BACLtR,EAAKuR,2BACLvR,EAAKwR,4BAETsB,cAAe,SAAUS,EAAWxmB,EAAQ3B,GAA7B,GAC8KspB,GAcrLC,EAdA3U,EAAO1Y,KAAMkK,EAAS/D,EAAaV,EAAQiT,EAAKpT,SAAUA,EAAU4E,EAASA,EAAO5E,QAAUoT,EAAKpT,QAAStB,EAAcoG,GAAQ3E,EAAQH,GAAUgoB,EAAahoB,EAAQ2mB,GAAyBrD,IAAa0E,EAAWtjB,OAAQoiB,EAAc7kB,EAAcmR,EAAKpT,SAAS5G,MAC5QsF,KAAgBioB,KAGfxmB,EAAOuE,QAAU4e,GAAqD,GAAzCnhB,EAAiBiR,EAAKpT,SAAS5G,QAG7D+G,EAAOuE,SAAW4e,GAA2B,GAAfwD,IAGlC1T,EAAKyP,oBACDrkB,IAAWpB,IACXoB,EAASmoB,EAAYjoB,GAErBqpB,GAAiB5nB,GACrBiT,EAAK+S,eAAe4B,EAAeC,EAAYxpB,GAC3C4U,EAAKtG,eACLnH,EAAgByN,EAAKhQ,OACrBuC,EAAgByN,EAAKtG,eAErBkb,EAAWhoB,UACXgoB,EAAavkB,EAAYukB,EAAWhoB,SACpCgoB,EAAaA,EAAWxpB,EAAS,EAAIwpB,EAAW5uB,OAAS,IAEzD+G,EAAOH,UACP+nB,EAAgBtkB,EAAYtD,EAAOH,UAEvCoT,EAAKmT,gBAAgBwB,EAAeC,EAAYxpB,GAChDspB,IAAgB3nB,EAAOuE,OACvBojB,EAAcA,GAAexE,EAC7BnjB,EAAOuE,OAAS4e,EAChBtjB,EAAQiB,OAAOzC,EAASmoB,EAAYA,EAAY,EAAG,EAAGxmB,GACtDH,EAAQiB,OAAOvC,EAAcioB,EAAYjoB,EAAcA,EAAc,EAAG,GACxE0U,EAAKyI,aACLzI,EAAK6U,yBACL7U,EAAK8U,qBACL9U,EAAKsR,8BACLtR,EAAKwR,0BACLxR,EAAKuR,2BACLvR,EAAK+U,0BACAL,IAGDxE,EACAlQ,EAAK4D,QAAQzF,IAAcpR,OAAQA,IAEnCiT,EAAK4D,QAAQxF,IAAgBrR,OAAQA,QAG7C8nB,uBAAwB,WAAA,GAChBpE,GACAxgB,EAAS,CACT3I,MAAKoS,eACL+W,EAASnpB,KAAKoS,aAAa7N,KAAK,SAChCoE,EAASF,EAAgB0gB,EAAQ5hB,EAAcvH,KAAKsF,WAExDmD,EAAgBzI,KAAK0I,MAAOjB,EAAiBzH,KAAKsF,SAAUqD,IAEhE+kB,WAAY,SAAUjoB,GAAV,GAYJqE,GAXAxE,EAAUtF,KAAKsF,OAEfG,GADiB,gBAAVA,GACEH,EAAQG,GAERsB,GAAKzB,EAAS,SAAUoJ,GAC7B,MAAOA,GAAK9I,QAAUH,IACvB,IAEFA,GAAUA,EAAOuE,QAAUvE,EAAOC,SAGnCoE,EAAQvC,EAAcjC,GAAS5G,OAAS,EAC5CsB,KAAKwrB,cAAc1hB,EAAOrE,GAAQ,KAEtCkoB,aAAc,SAAUloB,GAAV,GAYNqE,GAXAxE,EAAUtF,KAAKsF,OAEfG,GADiB,gBAAVA,GACEH,EAAQG,GAERsB,GAAKzB,EAAS,SAAUoJ,GAC7B,MAAOA,GAAK9I,QAAUH,IACvB,GAEFA,GAAWA,EAAOuE,SAAUvE,EAAOC,SAGpCoE,EAAQvC,EAAcjC,GAAS5G,OACnCsB,KAAKwrB,cAAc1hB,EAAOrE,GAAQ,KAEtCmoB,UAAW,SAAUC,GACjB,GAAIC,GAAqB,CAIzB,OAHI9tB,MAAKkS,cAAgB1U,EAAEsV,SAAS9S,KAAKkS,YAAY,GAAI2b,EAAG,MACxDC,EAAqB/kB,EAAYxB,EAAcvH,KAAKsF,UAAU5G,QAE3DlB,EAAEqwB,GAAI3jB,SAAS9B,SAAS,2CAA2C0B,MAAM+jB,GAAMC,GAE1FC,mBAAoB,SAAUtpB,GAC1BA,EAAYjH,EAAEiH,GACTA,EAAUoJ,GAAG,OAA8B,UAArB7N,KAAKguB,cAC5BvpB,EAAYA,EAAU0H,QAAQ,MAElC,IAAIjG,GAAKzB,EAAU3B,KAAKpD,GAAMoD,KAAK,OACnC,OAAO9C,MAAKgZ,WAAWiV,SAAS/nB,IAEpCsb,UAAW,WAAA,GAaC0M,GAZJxV,EAAO1Y,KAAM2R,EAAa+G,EAAK/G,YAAc+G,EAAK/G,WAAW1Q,QAAQktB,SAAUvc,EAAW8G,EAAKzX,QAAQ2Q,SAAUwc,EAAU,WACvH,GAAIvmB,GAAS4L,KAAiBtM,EAAOuR,EAAK2V,gBACtClnB,GAAS3J,EAAEsV,SAAS3L,EAAK,GAAIU,IAAWV,EAAK,KAAOU,GAAWrK,EAAEqK,GAAQsE,QAAQ,0BAA0BzN,SACvGga,EAAK9G,SAAS0c,MACd5V,EAAK6V,YAEL7V,EAAK8V,yBAIjB5c,KACA5R,KAAK2Z,QAAQqI,SAAS,cAClBkM,EAAOxV,EAAKsV,YACH,WAATE,GACAxV,EAAK1L,MAAMxJ,IAAIkV,EAAKxG,aAAajN,GAAGvF,GAAM6S,QAAQC,MAAQ,aAAerN,GAAK,YAAcA,GAAIqP,GAAS,IAAMC,GAAS,SAAUnD,GAC9H,GAAIzJ,GAASrK,EAAE8T,EAAEzJ,OACQ,YAArB6Q,EAAKsV,aAA4BnmB,EAAOoB,SAAS,qBAAuBpB,EAAOykB,OAAOxpB,KAAKpD,GAAMoD,KAAK,UACtGwO,EAAEC,mBAGNK,EAASsO,UAAW,GACpBxH,EAAKiB,QAAQ1U,GAAGC,GAAQC,GAAI,+BAAgC,SAAUmM,GAClE,GAAIuc,GAAKrwB,EAAEwC,MAAOyuB,EAAe/V,EAAKxG,aAAe2b,EAAG1hB,QAAQ,SAAS,KAAOuM,EAAKxG,YAAY,EAC7F2b,GAAG5kB,SAAS,qBAAuB4kB,EAAG5kB,SAAS,kBAAoB4kB,EAAG5kB,SAAS,iBAAmB4kB,EAAG5kB,SAAS,gBAAkB4kB,EAAGa,IAAI,mBAAmBhwB,QAAUmvB,EAAGa,IAAI,wBAAwBhwB,QAAUmvB,EAAG1hB,QAAQ,SAAS,KAAOuM,EAAK3L,MAAM,KAAO0hB,GAAgBjxB,EAAE8T,EAAEzJ,QAAQgG,GAAG,YAGzR6K,EAAK9G,SACD8G,EAAK9G,SAAS0c,OACV3c,GACAnU,EAAEiW,MAAiBkb,OAEvBjW,EAAK6V,YACL7V,EAAKkW,SAASf,IAEdnV,EAAK8V,wBAGT9V,EAAKkW,SAASf,MAEnB5oB,GAAG,UAAYE,GAAI,WACb3H,EAAEsV,SAAS9S,KAAMyT,QAClB+I,aAAa9D,EAAKmW,OAClBnW,EAAKmW,MAAQ,QAElB5pB,GAAG,WAAaE,GAAI,WACnBuT,EAAKmW,MAAQ3gB,WAAWkgB,EAAS,MAIrCxc,EAASsO,UAAW,IACpBxH,EAAKiB,QAAQ1U,GAAGC,GAAQC,GAAI,oEAAqE,SAAUmM,GACvGA,EAAEC,iBACFmH,EAAKoW,QAAQtxB,EAAEwC,MAAMmM,QAAQ,SAE7BuM,EAAKqW,4BACLrW,EAAKiB,QAAQ1U,GAAG,WAAaE,GAAI,+BAAgC,WACzDuT,EAAK9G,WAAa8G,EAAK9G,SAAS0c,OAChC5V,EAAK8V,2BAMrB5c,EAAS8H,WAAY,EACrBhB,EAAKiB,QAAQ1U,GAAGC,GAAQC,GAAI,qEAAsE,SAAUmM,GACxGA,EAAEC,iBACFD,EAAE0d,kBACFtW,EAAKuW,UAAUzxB,EAAEwC,MAAMmM,QAAQ,SAGnCuM,EAAKiB,QAAQ1U,GAAGC,GAAQC,GAAI,2EAA4E,SAAUmM,GAC9GA,EAAE0d,kBACGtW,EAAKwW,iBACN5d,EAAEC,qBAMtBqd,SAAU,SAAUznB,GAAV,GAEFuR,GAAajT,EAA0DiM,EA+BnEiV,CA7BR,IAHAxf,EAAO3J,EAAE2J,GACLuR,EAAO1Y,KAAMyF,EAASsD,EAAY2P,EAAKpT,SAASoT,EAAKkV,UAAUzmB,IAAQuK,EAAQgH,EAAKqV,mBAAmB5mB,GAC3GuR,EAAK6V,YACD7c,GAASD,GAAiBhM,EAAQiM,KAAWjM,EAAOd,QAAS,CAC7D,GAAI+T,EAAK4D,QAAQtH,IAActD,MAAOA,IAClC,MAEJgH,GAAKyW,mBAAmBzd,GACxBgH,EAAK2V,eAAiBlnB,EAClBuR,EAAK0W,2BACL1W,EAAK2W,sBAET3W,EAAK9G,SAAWzK,EAAK6a,SAAS,eAAesN,eACzCC,QACI3pB,MAAOH,EAAOG,MACdgI,OAAQnI,EAAOmI,OACf4hB,OAAQ/pB,EAAO+pB,OACfC,OAAQhqB,EAAOgqB,QAEnB/d,MAAOA,EACP7J,OAAQ6Q,EACR2S,OAAQ,SAAU/Z,GACVoH,EAAK4D,QAAQrH,IACTwa,OAAQne,EAAEme,OACVhrB,UAAW0C,EACXuK,MAAOA,KAEXJ,EAAEC,kBAGVme,aAAWhX,EAAKiX,6BAA8BjX,EAAKkX,kBACpDngB,KAAK,iBACJkX,EAAKxf,EAAK+C,SAAS8X,SAAS,mBAC5BtJ,EAAKtU,eACLuM,GAAgBgW,EAAG,GAAIjO,EAAKmX,YAAYlJ,GAAI3E,SAAS,mBAAmB,IAE5EtJ,EAAK4D,QAAQvH,IACTtQ,UAAW0C,EACXuK,MAAOA,MAInBoe,iCAAkC,WAAA,GAC1B9iB,GAAQhN,KAAKgN,MAAO3I,EAAU2I,EAAM9C,SACpC6P,EAAY/M,EAAM,GAAGlL,YAAcuC,EAAQ,GAAG8Y,YAAczd,GAAM6S,QAAQwH,YAAc,CAC5F/Z,MAAKoE,cAActF,OAAOuF,EAAQvF,SAAWib,IAEjDkQ,yBAA0B,WAClBjqB,KAAKkS,cACAlS,KAAK+vB,eACN/vB,KAAK8vB,mCAET9vB,KAAKgwB,kBAAkBhwB,KAAKgN,MAAOhN,KAAKkS,eAGhDgY,wBAAyB,WAAA,GAEbhY,GACAlF,CAFJhN,MAAKoS,eACDF,EAAclS,KAAKoS,aAAahK,SAAS,SACzC4E,EAAQhN,KAAK0I,MAAMwB,SACvBlK,KAAKgwB,kBAAkB9d,EAAalF,GACpCoD,GAAgB8B,EAAalF,KAGrCijB,wBAAyB,WACjBjwB,KAAKwlB,cAAgBxlB,KAAKulB,QAAUvlB,KAAKulB,OAAO7mB,QAChDsB,KAAKgwB,kBAAkBhwB,KAAKwlB,aAAapd,SAAS,SAAUpI,KAAKulB,OAAOhhB,KAAK,iCAGrFkgB,iBAAkB,WAAA,GACV/L,GAAO1Y,KACP0Z,EAAU,WACV,GAAIhB,EAAK9G,SAAU,CACf,GAAInN,GAAYiU,EAAKwX,SAAWxX,EAAKwX,SAASpe,QAAU4G,EAAK2V,cACzD5pB,KACAA,EAAUoV,IAAI3U,GAAQC,GAAI,kBAAmBuT,EAAKyX,yBAClD1rB,EAAUoV,IAAI3U,GAAQC,GAAI,kBAAmBuT,EAAK0X,0BAEtD1X,EAAK2X,qBACL3X,EAAK9G,SAAS8H,UACdhB,EAAK9G,SAAW,KAChB8G,EAAK2V,eAAiB,KACtB3V,EAAK4X,oBAGT5X,GAAK9G,WACoB,UAArB8G,EAAKsV,aAA4BtV,EAAK4N,UAGtC5M,IAFAhB,EAAK2V,eAAe5e,KAAK,eAAe0J,KAAK,aAAcO,GAAS6W,SAKxE7X,EAAK8X,eACL9X,EAAK8X,aAAa9W,UAClBhB,EAAK8X,aAAe,OAG5BF,iBAAkB,WACVtwB,KAAKkwB,WACLlwB,KAAKkwB,SAASO,QACdzwB,KAAKkwB,SAAW,KAChBlwB,KAAK6kB,KAAK6L,SAAS,MAG3BvB,mBAAoB,SAAUzd,GAC1B,GAAIgH,GAAO1Y,IACX0Y,GAAKiY,oBAAsB,SAAUrf,GACjCoH,EAAKkY,cACDhrB,MAAO0L,EAAE1L,MACT8L,MAAO1R,QAGf0R,EAAMyH,KAAK,SAAUT,EAAKiY,sBAE9BN,mBAAoB,WAChB,GAAI3X,GAAO1Y,KAAMyE,EAAYiU,EAAK2V,eAAgB3c,EAAQgH,EAAKqV,mBAAmBtpB,EAC9EiN,IACAA,EAAMwH,OAAOzD,GAAQiD,EAAKiY,sBAGlCpC,UAAW,SAAUsC,GACjB,GAA6CprB,GAAQkhB,EAAIjV,EAArDgH,EAAO1Y,KAAMmH,EAAOuR,EAAK2V,cACxBlnB,KAGLuK,EAAQgH,EAAKqV,mBAAmB5mB,GAC5B0pB,GAAYnY,EAAK4D,QAAQ,UACrB7X,UAAW0C,EACXuK,MAAOA,MAIfgH,EAAK4D,QAAQ9G,IACTsb,KAAMD,EAAW,SAAW,OAC5Bnf,MAAOA,EACPjN,UAAW0C,IAEfA,EAAKqf,YAAY,eACjB/gB,EAASsD,EAAY2P,EAAKpT,SAASoT,EAAKkV,UAAUzmB,IAClDwf,EAAKxf,EAAK+C,SAASsc,YAAY,mBAC3B9N,EAAKtU,eACLsU,EAAKmX,YAAYlJ,GAAIH,YAAY,mBAErC9N,EAAK+L,mBACL/L,EAAKqY,aAAa5pB,EAAM1B,EAAQiM,GAC5BgH,EAAK0W,2BACL1W,EAAK2W,sBAET3W,EAAK4D,QAAQ,cACT5N,KAAMiY,EACNlX,KAAMiC,EACNsf,GAAI3d,KAEJqF,EAAKtU,eACLuM,GAAgBgW,EAAGljB,IAAI,SAAU,IAAI,GAAIiV,EAAKmX,YAAYlJ,GAAIljB,IAAI,SAAU,IAAI,OAGxFstB,aAAc,SAAU5pB,EAAM1B,EAAQwrB,GAClC,GAAIvY,GAAO1Y,KAAMiP,GACTiiB,WACAluB,MAAO,GACRmuB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,kBAAmBC,EAAO5xB,GAAM6xB,SAAS7Y,EAAK8Y,UAAU/rB,EAAQwJ,GAAQkiB,EAC9HliB,GAAMjM,MAAQ,IACdsuB,EAAOlsB,GAAMksB,EAAMriB,EAAMiiB,UAE7B/pB,EAAK+F,QAAQD,KAAKqkB,EAAKL,IACvBvY,EAAKqO,QAAQ,UAAW,WACpB,OACI5iB,SAAUgD,EACVsI,OAASwhB,SAAUA,QAI/BhC,UAAW,SAAU9lB,GACZnJ,KAAKkvB,cAAc/lB,IAGxBnJ,KAAKyxB,WAAWtoB,IAEpBsoB,WAAY,SAAUtoB,GAClB,GAAiBuI,GAAOggB,EAASzzB,EAA7Bya,EAAO1Y,KAA2BkuB,EAAOxV,EAAKsV,WACrC,YAATE,GACAxV,EAAKiZ,YAETxoB,EAAM3L,EAAE2L,GACJuP,EAAKtU,gBACL+E,EAAMA,EAAI3F,IAAIkV,EAAKmX,YAAY1mB,KAEnCA,EAAMA,EAAI3D,OACVkM,EAAQgH,EAAKqV,mBAAmB5kB,GAC5BuI,IAAUgH,EAAK4D,QAAQpH,IACnB/L,IAAKA,EACLuI,MAAOA,KAEPgH,EAAKzX,QAAQ4hB,mBACb6O,EAAUhZ,EAAKM,WAAW/X,QAAQ2wB,OAAOlgB,MAAMxL,GAC/CjI,EAAMyT,EAAMggB,SACLhZ,GAAKwL,aAAajmB,IAE7Bya,EAAKM,WAAW7N,OAAOuG,GACV,WAATwc,GAA8B,UAATA,GACrBxV,EAAKM,WAAW6Y,QAEJ,WAAT3D,GACPxV,EAAK+L,oBAGbuJ,UAAW,WACP,GAAIE,GAAO,SAAUtc,EAAW5R,KAAKiB,QAAQ2Q,QAQ7C,OAPIA,MAAa,IAETsc,EADmB,gBAAZtc,GACAA,EAEAA,EAASsc,MAAQA,GAGzBA,GAEXY,QAAS,SAAU3lB,GAAV,GACDuI,GAQAwc,EACAzpB,EARAiU,EAAO1Y,IACPmJ,aAAeoK,IACf7B,EAAQvI,GAERA,EAAM3L,EAAE2L,GACRuI,EAAQgH,EAAKqV,mBAAmB5kB,IAEhC+kB,EAAOxV,EAAKsV,YAEhBtV,EAAKiZ,YACDjgB,IACAvI,EAAMuP,EAAK3L,MAAM3E,SAAS,IAAM1I,GAAMoD,KAAK,OAAS,IAAM4O,EAAM/L,IAAM,KACtE+S,EAAKyW,mBAAmBzd,GACX,UAATwc,EACAxV,EAAKoZ,mBAAmBpgB,GACR,WAATwc,EACPxV,EAAKqZ,oBAAoB5oB,EAAKuI,GACd,WAATwc,GACP1wB,EAAE2L,GAAKf,SAASkM,IAAW0S,KAAK,WAAA,GACxB7f,GAAO3J,EAAEwC,MACTyF,EAASsD,EAAY2P,EAAKpT,SAASoT,EAAKkV,UAAUzmB,GAEtD,IADAuK,EAAQgH,EAAKqV,mBAAmB5mB,GAC5BuK,KAAWA,EAAME,UAAYF,EAAME,SAASnM,EAAOG,SAAWH,EAAOG,QAAUH,EAAOkM,WAEtF,MADA+G,GAAKkW,SAASznB,IACP,IAInB1C,EAAYiU,EAAKwX,SAAWxX,EAAKwX,SAASpe,QAAU4G,EAAK2V,eACrD5pB,IACKzE,KAAKmwB,0BACNnwB,KAAKmwB,wBAA0B/qB,GAAMpF,KAAKgyB,iBAAkBhyB,OAEhEyE,EAAUQ,GAAGC,GAAQC,GAAI,kBAAmBnF,KAAKmwB,yBAC5CnwB,KAAKowB,0BACNpwB,KAAKowB,wBAA0BhrB,GAAMpF,KAAKiyB,iBAAkBjyB,OAEhEyE,EAAUQ,GAAGC,GAAQC,GAAI,kBAAmBnF,KAAKowB,4BAI7D6B,iBAAkB,SAAU3gB,GACxBA,EAAEC,iBACFD,EAAE0d,kBACFhvB,KAAKkyB,WAETF,iBAAkB,SAAU1gB,GAAV,GAaV6gB,GAZAzZ,EAAO1Y,KACP2S,EAAc+F,EAAKzX,QAAQ0R,YAC3BjB,EAAQgH,EAAK9G,SAAS3Q,QAAQyQ,MAC9BjN,EAAYiU,EAAKwX,SAAWxX,EAAKwX,SAASpe,QAAU4G,EAAK2V,cAC7D/c,GAAEC,iBACFD,EAAE0d,kBACEtW,EAAK4D,QAAQ,UACT7X,UAAWA,EACXiN,MAAOA,MAIXygB,EAAezZ,EAAK/I,QAAQ7F,MAAMtM,EAAEkb,EAAKtZ,WAAW8K,UACxDwO,EAAKiZ,YACDhf,IACA+F,EAAKhG,YAAYgG,EAAK/I,QAAQ1L,GAAGkuB,GAAc/pB,WAAW9D,OAAOmQ,IAASwF,SAC1EhJ,GAAWyH,EAAK1L,OAAO,MAG/B8kB,mBAAoB,SAAUpgB,GAAV,GAGZjM,GACAd,EAEAZ,EACArF,EACA4yB,EACAc,EACAC,EACAC,EACAC,EACAC,EAEA1vB,EAwCgBmM,EAiChBxK,EAvFAiU,EAAO1Y,KACPiN,EAAO,QAAUvN,GAAMoD,KAAK,OAAS,KAAO4O,EAAM/L,IAAM,8BAAgC+S,EAAK4N,UAAY,iBAAmB,IAAM,wCAGlIiJ,KASAjqB,EAAUyD,EAAY2P,EAAKpT,SAE3BsM,EAAW8G,EAAKzX,QAAQ2Q,SACxB2f,EAAW3f,EAAS2f,SACpBtwB,EAAU6D,GAAc8M,GAAYA,EAASnS,UAC7C0xB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,iBACvD,KAAI3Y,EAAK4D,QAAQtH,IAActD,MAAOA,IAAtC,CAIA,GADAzQ,EAAUA,MACNswB,EAKA,UAJWA,KAAaluB,KACpBkuB,EAAW9xB,OAAOgzB,SAASlB,IAE/BtkB,GAAQvN,GAAM6xB,SAASA,EAAUJ,GAAUzf,GACtC3N,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjD0B,EAASH,EAAQvB,GACb0B,EAAOd,UACP6tB,EAAcxhB,GAAWvL,EAAOd,QAAS,QACrC6tB,IACA7tB,EAAU6tB,QAKtB,KAAKzuB,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjD0B,EAASH,EAAQvB,GACb0B,EAAOkM,aAGNlM,EAAOd,QAqBDc,EAAOd,UACd6tB,EAAcxhB,GAAWvL,EAAOd,QAAS,QACrC6tB,IACA7tB,EAAU6tB,KAvBdvlB,GAAQ,yCAA2CxH,EAAOG,MAAQ,MAAQH,EAAOglB,OAAShlB,EAAOG,OAAS,IAAM,iBAC5G6L,GAAiBhM,EAAQiM,IACzB6d,EAAOpxB,MACHyH,MAAOH,EAAOG,MACdgI,OAAQnI,EAAOmI,OACf4hB,OAAQ/pB,EAAO+pB,OACfC,OAAQhqB,EAAOgqB,SAEnBxiB,GAAQ,QAAUvN,GAAMoD,KAAK,iBAAmB,KAAO2C,EAAOG,MAAQ,kCAElEqJ,GACAiiB,WACAluB,MAAO,GAEXsuB,EAAO5xB,GAAM6xB,SAAS7Y,EAAK8Y,UAAU/rB,EAAQwJ,GAAQkiB,GACjDliB,EAAMjM,MAAQ,IACdsuB,EAAOlsB,GAAMksB,EAAMriB,EAAMiiB,UAE7BjkB,GAAQ,6BAA+BqkB,EAAK5f,GAAS,WAUjE/M,IACIG,GAAcH,KACVG,GAAcH,EAAQjH,QACtB00B,EAAaztB,EAAQjH,KAAKwiB,OAC1BmS,EAAa1tB,EAAQjH,KAAKiiB,QAE1B7a,GAAcH,EAAQob,aACtBuS,EAAkB3tB,EAAQob,UAAUG,OACpCqS,EAAkB5tB,EAAQob,UAAUJ,QAEpChb,EAAQ7B,OACRA,EAAO6B,EAAQ7B,OAKtB4V,EAAK4N,WAwCNrZ,GAAQ,eACRyL,EAAKwX,SAAWxX,EAAKmM,KAAKnb,OAAO,aAAehK,GAAMsxB,GAAK,oBAAsBtxB,GAAMsxB,GAAK,oCAAsCtxB,GAAMsxB,GAAK,2DAAkEtxB,GAAMsxB,GAAK,kCAAoCtY,EAAKga,eAC/P1tB,KAAM,SACNtH,KAAM00B,EACNtvB,KAAMA,KACJ7B,EAAQwpB,OAAS,QAAU/R,EAAKga,eAClC1tB,KAAM,aACNtH,KAAM20B,EACNvvB,KAAMA,IACL,SAAWmK,EAAO,UACvBxI,EAAYiU,EAAK2V,eAAiB3V,EAAKwX,SAASpe,QAAQvN,KAAK,wBAjD7D0I,GAAQ,+CACRA,GAAQyL,EAAKga,eACT1tB,KAAM,SACNtH,KAAM00B,EACNtvB,KAAMA,EACNid,UAAWuS,IACV5Z,EAAKga,eACN1tB,KAAM,aACNtH,KAAM20B,EACNvvB,KAAMA,EACNid,UAAWwS,IAEftlB,GAAQ,qBACRxI,EAAYiU,EAAK2V,eAAiB7wB,EAAEyP,GAAM/I,SAASwU,EAAKiB,SAAS1V,GAAG,GAAG0uB,YAAY9yB,IAC/E+yB,OAAO,EACP3P,WAAW,EACXgI,WAAW,EACXR,MAAO,OACPhkB,SAAS,EACT8pB,MAAO,SAAUjf,GACb,GAAIA,EAAEuhB,cAAe,CAEjB,GADAvhB,EAAEmJ,OAAO3I,QAAQN,QACbkH,EAAK4D,QAAQ,UACT7X,UAAWA,EACXiN,MAAOA,IAGX,MADAJ,GAAEC,iBACF,CAEJ,IAAI4gB,GAAezZ,EAAK/I,QAAQ7F,MAAMtM,EAAEkb,EAAKtZ,WAAW8K,SACxDwO,GAAKiZ,YACDjZ,EAAKzX,QAAQ0R,cACb+F,EAAKhG,YAAYgG,EAAK/I,QAAQ1L,GAAGkuB,GAAc/pB,WAAW9D,OAAOmQ,IAASwF,SAC1EhJ,GAAWyH,EAAK1L,OAAO,OAIpC/L,KAcPyX,EAAK9G,SAAW8G,EAAK2V,eAAeiB,eAChCC,OAAQA,EACR7d,MAAOA,EACPohB,gBAAgB,EAChBjrB,OAAQ6Q,IACTjJ,KAAK,iBACJiJ,EAAK4N,WACL7hB,EAAUF,KAAK,0CAA0C2F,OAAO,iBAAiB8X,SAAS,WAAWsK,KAAK,iBAAiBtK,SAAS,WAAWjd,MAAM,WACjJvH,EAAEwC,MAAM6M,OAAOzE,SAAS,SAASrD,UAGzC2T,EAAKqa,mBACLra,EAAK4D,QAAQvH,IACTtQ,UAAWA,EACXiN,MAAOA,MAGfqhB,iBAAkB,WACT/yB,KAAKsmB,UAGNtmB,KAAK6kB,KAAK6L,SAAS1wB,KAAKkwB,SAAUlwB,KAAKgzB,gBAFvChzB,KAAKquB,eAAe5e,KAAK,eAAewjB,SAASC,QAKzDnB,oBAAqB,SAAU5oB,EAAKuI,GAAf,GAEbjM,GACA0B,EACAxC,EAHA+T,EAAO1Y,KAIPuvB,IACA7W,GAAK4D,QAAQtH,IAActD,MAAOA,MAGlCgH,EAAKtU,gBACL+E,EAAMA,EAAI3F,IAAIkV,EAAKmX,YAAY1mB,KAEnCA,EAAIf,SAAS,yCAAyC4e,KAAK,WAGvD,GAFA7f,EAAO3J,EAAEwC,MACTyF,EAASsD,EAAY2P,EAAKpT,SAASoT,EAAKkV,UAAUzmB,KAC7C1B,EAAOd,SAAW8M,GAAiBhM,EAAQiM,GAC5C6d,EAAOpxB,MACHyH,MAAOH,EAAOG,MACdgI,OAAQnI,EAAOmI,OACf4hB,OAAQ/pB,EAAO+pB,OACfC,OAAQhqB,EAAOgqB,SAEnBtoB,EAAKrE,KAAKpD,GAAMoD,KAAK,iBAAkB2C,EAAOG,OAC9CuB,EAAK+F,YACF,IAAIzH,EAAOd,UACdA,EAAUqM,GAAWvL,EAAOd,QAAS,SACxB,CACTwC,EAAK+F,OACL,IAAIklB,GAAYC,EAAYC,EAAiBC,EAAiBzvB,CAC1DgC,IAAcH,KACVG,GAAcH,EAAQjH,QACtB00B,EAAaztB,EAAQjH,KAAKwiB,OAC1BmS,EAAa1tB,EAAQjH,KAAKiiB,QAE1B7a,GAAcH,EAAQob,aACtBuS,EAAkB3tB,EAAQob,UAAUG,OACpCqS,EAAkB5tB,EAAQob,UAAUJ,QAEpChb,EAAQ7B,OACRA,EAAO6B,EAAQ7B,OAGvBtF,EAAEkb,EAAKga,eACH1tB,KAAM,SACNtH,KAAM00B,EACNtvB,KAAMA,EACNid,UAAWuS,IACV5Z,EAAKga,eACN1tB,KAAM,aACNtH,KAAM20B,EACNvvB,KAAMA,EACNid,UAAWwS,KACXruB,SAASiD,MAIzBuR,EAAK2V,eAAiBllB,EACtBuP,EAAK2V,eAAerM,SAAS,mBACzBtJ,EAAK0W,2BACL1W,EAAK2W,sBAET3W,EAAK9G,SAAW,GAAIlS,IAAM2T,GAAG8f,SAASza,EAAK2V,gBACvCxmB,OAAQ6Q,EACR6W,OAAQA,EACR7d,MAAOA,EACPge,aAAWhX,EAAKqW,4BAA8BrW,EAAKkX,gBAAkBlX,EAAKkX,eAAehqB,OACzFktB,gBAAgB,IAEhB3pB,EAAIzK,OAAS,IACbiS,GAAgBxH,EAAI,GAAIA,EAAI,IAC5BuP,EAAKsR,+BAETtR,EAAK4D,QAAQvH,IACTtQ,UAAW0E,EACXuI,MAAOA,MAGfigB,UAAW,SAAUxP,GAAV,GAC2CzQ,GAA9CgH,EAAO1Y,KAAMyE,EAAYiU,EAAK2V,eAC9B9L,EAAoB7J,EAAK6J,kBACzB6Q,EAAqB7Q,GAAqBA,EAAkBlF,qBAChE,IAAI5Y,EAAW,CAEX,GADAiN,EAAQgH,EAAKqV,mBAAmBtpB,IAC3BiN,GAASyQ,GAAUzJ,EAAK4D,QAAQ,UAC7B7X,UAAWA,EACXiN,MAAOA,IAEX,MAEJgH,GAAK+L,mBACL/L,EAAKM,WAAWqa,cAAc3hB,GAC1BgH,EAAK4a,sBAAwBF,GAC7B1a,EAAK6a,sBAET7a,EAAK2W,sBAED3W,EAAK8a,YADgB,UAArB9a,EAAKsV,YACYvpB,EAEAiU,EAAK3L,MAAMxI,KAAK,IAAM7E,GAAMoD,KAAK,OAAS,IAAM4O,EAAM/L,IAAM,QAIzFusB,QAAS,WAAA,GAKDuB,GAJA/a,EAAO1Y,KACPyE,EAAYzE,KAAKquB,eACjB3c,EAAQ1R,KAAK+tB,mBAAmBtpB,GAChCivB,EAAWl2B,EAAEm2B,UAEjB,OAAKlvB,IAAczE,KAAK4R,UAGxB6hB,EAAQ/a,EAAK9G,UAAY8G,EAAK9G,SAAS0c,OAClCmF,GAASzzB,KAAKsc,QAAQrH,IACnBxQ,UAAWA,EACXiN,MAAOA,KAEN+hB,GACD/a,EAAK8V,wBAEFkF,EAASE,SAASC,YAE7Bnb,EAAK2W,sBACErvB,KAAKgZ,WAAW6Y,SAbZ6B,EAASI,UAAUD,WAelCL,YAAa,SAAUrqB,GAAV,GAC8C4qB,GAASC,EAAQC,EA0BhEC,EACAC,EA3BJzb,EAAO1Y,KAAM0R,EAAQgH,EAAKqV,mBAAmB5kB,GAAgCirB,EAAajrB,EAAIF,SAAS,oBAAqBorB,EAAQlrB,EAAIF,SAAS,QACjJyI,KACIgH,EAAKtU,gBACL2vB,EAAUv2B,GAAG62B,EAAQ3b,EAAKuM,qBAAuBvM,EAAKsM,mBAAmBtT,IACzEgH,EAAKmX,YAAY1mB,EAAIb,QAAQgsB,YAAYP,IAE7Crb,EAAKqO,QAAQ,UAAW,WACpB,OAAS5iB,SAAUgF,EAAIvI,SAE3BozB,EAASx2B,GAAG62B,EAAQ3b,EAAKqK,eAAiBrK,EAAKoK,aAAapR,IACvDvI,EAAI0E,GAAG,aACRmmB,EAAOxuB,OAEX2D,EAAImrB,YAAYN,GAChBtb,EAAK4D,QAAQ,cACT5N,KAAMslB,EACNvkB,KAAMiC,EACNsf,GAAI3d,KAEJ0gB,GAAWA,EAAQr1B,QACnBga,EAAK4D,QAAQ,cACT5N,KAAMqlB,EACNtkB,KAAMiC,EACNsf,GAAI3d,KAGR6gB,EAAkBF,EAClBG,IAAiBlD,SAAUvf,IAC3BqiB,GAAWA,EAAQr1B,SACnBw1B,EAAkBF,EAAOxwB,IAAIuwB,GAC7BI,EAAYh2B,MAAO8yB,SAAUvf,KAEjCgH,EAAKqO,QAAQ,UAAW,WACpB,OACI5iB,SAAU+vB,EAAgBtzB,MAC1B6O,KAAM0kB,KAGVC,IAAe1b,EAAKzX,QAAQ0Q,YAAc+G,EAAK6b,qBAC/C7b,EAAK8b,OAAOR,EAAOxwB,IAAIuwB,IAEvBA,GACApjB,GAAgBqjB,EAAO,GAAID,EAAQ,IAEvCE,EAAUD,EAAOnnB,OACbonB,EAAQhrB,SAAS,iBAAmBgrB,EAAQpmB,GAAG,aAC/CmmB,EAAOzvB,KAAK,6BAA6BiiB,YAAY,cAAcxE,SAAS,kBAIxFyS,aAAc,SAAUlR,EAAUpa,GAApB,GAKNooB,GACAtkB,EACAynB,EANAhc,EAAO1Y,IACX,OAAK0Y,GAAK4N,WAGNiL,EAAW7xB,GAAM6xB,SAAS,qIAC1BtkB,EAAOzP,EAAE+zB,EAAShO,IAAWrf,SAASwU,EAAKic,KAAK7iB,SAChD4iB,EAAchc,EAAK8X,aAAe,GAAI9wB,IAAM4jB,OAAOjQ,GAAGuhB,YAAY3nB,GAClE0S,OAAQ4D,EAASC,aACjBqR,eAAgB,sFAChBtE,MAAO,WACHvwB,KAAK0Z,WAET/U,QAAS,SAAU2M,GACf,GAAI5C,GAAOlR,EAAE8T,EAAEU,eAAe9H,QACzBwE,GAAKzF,SAAS,0BACfyP,EAAK+Y,WAAWtoB,IAGxB2rB,MAAOpc,EAAKqc,2BAEhBL,EAAYxB,KAAK/pB,IACV,GAnBI1J,OAAOu1B,QAAQzR,EAASkH,QAqBvCyE,cAAe,SAAU/lB,GACrB,GAAIuP,GAAO1Y,KAAM4R,EAAW8G,EAAKzX,QAAQ2Q,SAAU6R,EAAe7R,KAAa,SAAeA,KAAavO,GAASqV,EAAKzX,QAAQsiB,SAAS3R,SAAS6R,aAAe7R,EAAS6R,YAI3K,OAHI3e,IAAc8M,UAAoBA,GAASsc,OAAS7qB,UAAiBogB,KAAiBvM,UAAmBuM,KAAiBpgB,IAAUogB,KAAiB,IACrJA,EAAe/K,EAAKzX,QAAQsiB,SAAS3R,SAAS6R,cAE9CA,KAAiB,GAAyB,MAAhBA,UACfA,KAAiBvM,KACxBuM,EAAeA,EAAa/K,EAAKqV,mBAAmB5kB,KAEjDuP,EAAK+b,cACR/Q,cAAe9R,EAAS8R,eAAiBhL,EAAKzX,QAAQsiB,SAAS3R,SAAS8R,cACxEF,aAAc5R,EAAS4R,cAAgB9K,EAAKzX,QAAQsiB,SAAS3R,SAAS4R,aACtEiH,MAAOhH,KAAiB,EAAO/K,EAAKzX,QAAQsiB,SAAS3R,SAAS6R,aAAeA,GAC9Eta,KAIXkqB,cAAe,WACX,GAAI3a,GAAO1Y,IACX0Y,GAAKM,WAAWqa,gBACZ3a,EAAK4a,sBACL5a,EAAKuc,kBAAkB,WACnBvc,EAAK6J,kBAAkB5F,iBAInCuY,YAAa,WAAA,GACLxc,GAAO1Y,KACPyzB,EAAQ/a,EAAK9G,UAAY8G,EAAK9G,SAAS0c,OACtCmF,GAAU/a,EAAK9G,UAAc8G,EAAK4D,QAAQ1G,IAEnC6d,GACR/a,EAAK8V,wBAFL9V,EAAKM,WAAW6Y,QAKxBsD,OAAQ,WAAA,GACarrB,GAEb4H,EAFAgH,EAAO1Y,KAAagZ,EAAaN,EAAKM,WAAYkV,EAAOxV,EAAKsV,YAAaoH,EAAW1c,EAAKzX,QAAQ2Q,SAASwjB,UAAY,GAAIrX,EAAW/E,EAAW+E,WAAY4W,EAAO3b,EAAW2b,WAChLU,EAAiBD,EAASE,gBAAkBne,GAE5Coe,EAAkB7c,EAAK4a,oBACvB5a,GAAK9G,UAAY8G,EAAK9G,SAAS0c,QAAU5V,EAAK9G,UAClC,UAARsc,GACAxV,EAAKiZ,YAET7nB,EAAQkP,EAAWlO,QAAQ6pB,EAAK,IAC5BU,IACAvrB,GAAS6qB,EAAKj2B,OACVqf,IAAa/E,EAAW/X,QAAQu0B,cAAgBzX,GAAY4W,EAAKj2B,SACjEoL,GAAS,IAGbA,EAAQ,IAEJA,EADAkP,EAAW4G,OAAS5G,EAAWyc,cACtBzc,EAAW4G,OAAS,GAAK7B,EAE1B,GAGZrF,EAAKzX,QAAQ0R,aAAuB,UAARub,GAC5BxV,EAAKgd,iBAELH,EACA7c,EAAKid,kBAELjkB,EAAQsH,EAAW4c,OAAO9rB,MAC1B4O,EAAKmd,WAAWnkB,KAGpBgH,EAAK8V,yBAGbqH,WAAY,SAAUnkB,GAAV,GAKAxL,GAAgB8G,EAA4D7D,EAA8DhC,EAJ9IuR,EAAO1Y,KACPo1B,EAAW1c,EAAKzX,QAAQ2Q,SAASwjB,UAAY,GAC7ClH,EAAOxV,EAAKsV,WACZtc,KACIxL,EAAKwL,EAAM/L,IAAKqH,EAAQ0L,EAAKtU,cAAgBsU,EAAKxG,YAAcwG,EAAK1L,MAAO7D,EAAM6D,EAAMzI,KAAK,MAAQ7E,GAAMoD,KAAK,OAAS,IAAMoD,EAAK,KAAMiB,EAAOgC,EAAIf,SAAS,2CAA2CnE,GAAGyU,EAAKod,0BAA0B3sB,IAClO,WAAT+kB,GAAqB/kB,EAAIzK,OACzBga,EAAKoW,QAAQ3lB,GACG,UAAT+kB,EACPxV,EAAKoW,QAAQpd,GACNvK,EAAKzI,QACZga,EAAKkW,SAASznB,GAEY,UAA1BiuB,EAASE,eAA6B5c,EAAKtU,gBAC3CsU,EAAKtU,cAAc,GAAGwW,UAAYlC,EAAKrU,QAAQ,GAAGuW,UAAYlC,EAAK1L,MAAM,GAAGjL,gBAIxF4zB,eAAgB,WAAA,GACRjd,GAAO1Y,KACPq1B,GAAkB3c,EAAKzX,QAAQ2Q,SAASwjB,UAAY,IAAIE,gBAAkBne,EAC9EuB,GAAK2W,sBACDgG,EACA3c,EAAKqd,yBAELrd,EAAKsd,uBAGbA,oBAAqB,WAAA,GAIbtkB,GAHAgH,EAAO1Y,KACPgZ,EAAaN,EAAKM,WAClBuJ,EAAoB7J,EAAK6J,iBAEH,KAAtBvJ,EAAW4G,QACXlO,EAAQsH,EAAW4c,OAAO,MAC1Bld,EAAKmd,WAAWnkB,GAChB6Q,EAAkB5F,eAElBjE,EAAKuc,kBAAkB,WACnBvjB,EAAQsH,EAAW4c,OAAO,MAC1Bld,EAAKmd,WAAWnkB,GAChB6Q,EAAkB5F,iBAI9BoZ,uBAAwB,WAAA,GAKhBrkB,GAJAgH,EAAO1Y,KACPgZ,EAAaN,EAAKM,WAClBuJ,EAAoB7J,EAAK6J,kBACzBzY,EAAQkP,EAAW4F,OAEnB5F,GAAWid,GAAGnsB,EAAQ,YAAcyJ,KACpC7B,EAAQsH,EAAW4c,OAAO9rB,MAC1B4O,EAAKwd,qBAAqB,WACtBxd,EAAKmd,WAAWnkB,GAChB6Q,EAAkB1F,oBAGtBnE,EAAKwd,qBAAqB,WACtBxkB,EAAQsH,EAAW4c,OAAO9rB,MAC1B4O,EAAKmd,WAAWnkB,GAChB6Q,EAAkB1F,oBAI9BoY,kBAAmB,SAAUnW,GACzB,GAAIpG,GAAO1Y,IACX0Y,GAAKyd,aAAa,EAAGzd,EAAKM,WAAW0D,OAAQ,WACzCoC,OAGRoX,qBAAsB,SAAUpX,GAAV,GACdpG,GAAO1Y,KACPgZ,EAAaN,EAAKM,WAClB0D,EAAO1D,EAAW0D,OAClBkC,EAAQ5F,EAAW4F,QACnBpD,EAAOoD,EAAQlC,EAAOkC,EAAQlC,EAAO,CACzChE,GAAKyd,aAAa3a,EAAMkB,EAAM,WAC1BoC,OAGRqX,aAAc,SAAU3a,EAAMkB,EAAMoC,GAChC,GAAIpG,GAAO1Y,IACP0Y,GAAK4a,uBACL5a,EAAK6J,kBAAkBrG,gBAAiB,EACxCxD,EAAK6J,kBAAkB9F,MAAMjB,EAAMkB,EAAMoC,KAGjDyU,oBAAqB,WAAA,GACb7a,GAAO1Y,KACPgZ,EAAaN,EAAKM,WAClBuJ,EAAoB7J,EAAK6J,kBACzBxI,EAAYwI,EAAkB3I,kBAC9BD,EAAU4I,EAAkB5I,QAC5B+C,EAAO1D,EAAW0D,OAClBkC,EAAQ5F,EAAW4F,QACnBnB,EAAazE,EAAWod,oBACxB5a,EAAOoD,GAASlC,EAAOvI,GAAKwK,IAAIlB,EAAYmB,EAAQlC,GAAQe,EAC5D4Y,EAAoB9T,EAAkBlJ,WACtCid,EAAqBvc,EAAUa,YAAcyb,CACjD3d,GAAKyd,aAAa3a,EAAMkB,EAAM,WAAA,GACtBrD,GAAakJ,EAAkBlJ,WAC/Bkd,EAAkBD,EAAqBjd,CACvCkJ,GAAkBlF,sBAClBkF,EAAkB1F,kBAGd0F,EAAkBrG,eADlBnC,EAAUa,cAAgB2b,EAK9Bxc,EAAUa,UAAU2b,GACpB5c,EAAQiB,UAAUb,EAAUa,YAAcY,EAAOnC,OAI7Dyc,0BAA2B,SAAUrxB,GACjC,GAAiBgB,GAA6C1B,EAAKrF,EAA/Dga,EAAO1Y,KAAcsF,EAAUyD,EAAY2P,EAAKpT,SAAuBoM,EAAQgH,EAAKqV,mBAAmBtpB,EAC3G,KAAKV,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IAEjD,GADA0B,EAASH,EAAQvB,GACb2N,KAAWA,EAAME,UAAYF,EAAME,SAASnM,EAAOG,UAAYH,EAAOd,SAAWc,EAAOG,OAASH,EAAOC,UAAW,EACnH,MAAO3B,EAGf,WAEJkd,SAAU,WACN,GAA2Gxc,GAAvGiU,EAAO1Y,KAAM2Z,EAAUjB,EAAKiB,QAAS6I,EAAU9J,EAAKzX,QAAQuhB,QAAS5Q,EAAW8G,EAAKzX,QAAQ2Q,QAC7F4Q,KACA/d,EAAYiU,EAAKiB,QAAQpV,KAAK,mBACzBE,EAAU/F,SACNuV,GAAWuO,KACZA,QAAiBA,KAAYnf,GAASmf,EAAU9J,EAAK8d,aAAahU,GAAS5kB,QAAQoa,GAAoB,OACvGwK,EAAUpd,GAAM1F,GAAM6xB,SAAS/O,GAAU9J,IAE7CjU,EAAYjH,EAAE,2CAA2CyP,KAAKuV,OAAaiU,UAAU9c,GACrFjB,EAAKqO,QAAQ,UAAW,WACpB,OAAS5iB,SAAUM,EAAU7D,UAGjCgR,GAAYA,EAASkO,UAAW,GAChCrb,EAAUQ,GAAGC,GAAQC,GAAI,cAAe,SAAUmM,GAC9CA,EAAEC,iBACFmH,EAAKyc,WACNlwB,GAAGC,GAAQC,GAAI,yBAA0B,SAAUmM,GAClDA,EAAEC,iBACFmH,EAAK2a,kBACNpuB,GAAGC,GAAQC,GAAI,uBAAwB,SAAUmM,GAChDA,EAAEC,iBACFmH,EAAKwc,gBAGbzwB,EAAUQ,GAAGC,GAAQC,GAAI,gBAAiB,SAAUmM,GAChDA,EAAEC,iBACFmH,EAAKge,gBAETjyB,EAAUQ,GAAGC,GAAQC,GAAI,cAAe,SAAUmM,GAC9CA,EAAEC,iBACFmH,EAAKie,gBAIjBH,aAAc,SAAU9xB,GACpB,GAAiBX,GAAKrF,EAAlBga,EAAO1Y,KAAmBiN,EAAO,EACrC,IAAIpI,GAAQH,GACR,IAAKX,EAAM,EAAGrF,EAASgG,EAAShG,OAAQqF,EAAMrF,EAAQqF,IAClDkJ,GAAQyL,EAAKga,cAAchuB,EAASX,GAG5C,OAAOkJ,IAEXylB,cAAe,SAAU/tB,GACrB,GAKkDiyB,GAL9CrF,EAAW5sB,EAAQ4sB,UAAYpZ,GAAmBvT,QAAqBD,KAAYtB,GAASsB,EAAUA,EAAQK,MAAQL,EAAQjH,KAAM2R,EAAYwQ,GAAgBjb,GAAeib,GAAgBjb,GAAayK,UAAY,WAAazK,GAAe,IAAIhH,QAAQ,MAAO,IAAKqD,GACxQoO,UAAWA,EACX3R,KAAMkH,EACN9B,KAAM,GACNid,UAAW,IACZwD,EAAWvjB,KAAKiB,QAAQsiB,SAAS7e,QACxC,MAAKE,GAAiBE,GAAcH,IAAYA,EAAQ4sB,UACpD,KAAUsF,OAAM,6CA6BpB,OA3BI/xB,IAAcH,IACdA,EAAU9E,IAAO,KAAU8E,GACvBA,EAAQ0K,WAAajF,GAAQnJ,EAAQoO,UAAW1K,EAAQ0K,UAAUynB,MAAM,MAAQ,EAChFnyB,EAAQ0K,WAAa,IAAMpO,EAAQoO,UAC5B1K,EAAQ0K,YAAc3M,IAC7BiC,EAAQ0K,UAAYpO,EAAQoO,WAEZ,SAAhBzK,IACAD,EAAU9E,IAAO,KAAU8E,GAC3BA,EAAQjH,KAAOoH,GAAcH,EAAQjH,MAAQiH,EAAQjH,KAAKuiB,KAAOtb,EAAQjH,KACzEiH,EAAQob,UAAYjb,GAAcH,EAAQob,WAAapb,EAAQob,UAAUE,KAAOtb,EAAQob,WAExFpb,EAAQ7B,OACJgC,GAAcH,EAAQ7B,QACtB6B,EAAQ7B,KAAOI,EAAoByB,EAAQ7B,aAEpC6B,GAAQ7B,OAASO,KACxBuzB,EAAsBjyB,EAAQ7B,KAAKi0B,MAAM,iBACrCH,GAAuBxsB,GAAQwsB,EAAoB,GAAIjyB,EAAQ0K,UAAUynB,MAAM,MAAQ,IACvFnyB,EAAQ0K,WAAa,IAAMunB,EAAoB,MAI3D31B,EAAUpB,IAAO,EAAMoB,EAAS4e,GAAgBjb,IAAgBlH,KAAM6lB,EAAS3e,IAAgBD,IAE/F1D,EAAUpB,IAAO,EAAMoB,EAAS4e,GAAgBjb,IAAgBlH,KAAM6lB,EAAS3e,KAE5ElF,GAAM6xB,SAASA,GAAUtwB,IAEpC+1B,YAAa,WACT,QAASh3B,KAAKklB,kBAAoBllB,KAAKmlB,qBAAuBnlB,KAAKulB,QAAUvlB,KAAKulB,OAAO7mB,OAAS,GAAKsB,KAAK2Z,QAAQpV,KAAK,kBAAkB7F,OAAS,GAExJsiB,WAAY,WACR,GAAItI,GAAO1Y,IACP0Y,GAAK+M,uBACL/M,EAAK1L,MAAMxJ,IAAIkV,EAAKxG,aAAa2H,IAAI3U,GAAQC,GAAIuT,EAAK+M,wBAEtD/M,EAAK+M,uBAAyB,SAAUnU,GAAV,GACtBQ,GAAUtU,EAAEwC,MAAOi3B,EAAWnlB,EAAQ3F,QAAQ,MAC9C4Z,EAAQrN,EAAKgN,WAAahN,EAAKgN,WAAWhN,EAAKiB,QAAQpV,KAAK,mBAAmBuF,MAAMmtB,MACrFnlB,GAAQ7I,SAAS,gBACZyP,EAAK4D,QAAQ,iBACVyJ,MAAOA,EACPjU,QAASmlB,KAEbve,EAAKwe,cAAcD,GAGlBve,EAAK4D,QAAQ,eACVyJ,MAAOA,EACPjU,QAASmlB,KAEbve,EAAKye,YAAYF,GAGzB3lB,EAAEC,iBACFD,EAAE0d,mBAGNtW,EAAK0e,YACL1e,EAAKxG,YAAYjN,GAAGC,GAAQC,GAAI,6DAA8DuT,EAAK+M,wBAEnG/M,EAAK1L,MAAM/H,GAAGC,GAAQC,GAAI,6DAA8DuT,EAAK+M,wBAEjG/M,EAAK2e,oBAETA,iBAAkB,WACd,GAAI3e,GAAO1Y,KAAM2Z,EAAUjB,EAAKiB,QAAS2I,EAAY5J,EAAKzX,QAAQqhB,UAAWgV,EAAaxiB,GAAc,IAAMpV,GAAMoD,KAAK,SAAW,IAAKwB,EAASoU,EAAKrU,QAAU,wBAA0BizB,EAAa,8BAAgCA,CACpOhV,IAAaA,EAAUiV,WAAY,IAC9B5d,EAAQ+U,IAAI,yBAAyB,IACtClxB,EAAE,qBAAqBwkB,SAAS,qBAAqByU,UAAU9c,GAE/DjB,EAAK4J,WACL5J,EAAK4J,UAAU5I,UAEnBhB,EAAK4J,UAAY,GAAIjP,IAAGmkB,UAAU7d,EAAS9Z,MAAWyiB,GAClD2I,UAAWvS,EAAKqM,mBAChB0S,eAAgB,yBAChBze,WAAYN,EAAKM,WACjB0e,kBAAmBpzB,EACnBA,OAAQA,EACRqzB,UAAWjf,EAAKzX,QAAQiiB,YACxBmI,OAAQ,SAAU/Z,GACVoH,EAAK4D,QAAQ,SAAWtU,OAAQsJ,EAAEtJ,SAClCsJ,EAAEC,kBAEFmH,EAAK2W,sBACD3W,EAAKM,WAAW/X,QAAQ22B,UACxBlf,EAAKM,WAAW/X,QAAQ22B,QAAU,KAClClf,EAAKmf,iBAAmBnf,EAAKM,WAAW/X,QAAQ8c,SAChDrF,EAAKM,WAAW+E,SAASrF,EAAKM,WAAW/X,QAAQ8c,kBAOzE+Z,iBAAkB,SAAUxzB,EAAQ6C,GAAlB,GAIVuR,GACAvU,EACA4zB,EACAC,EACA1yB,EACAmC,EACArE,EACKW,CAVT,IAAK/D,KAAKoE,cAAV,CAUA,IAPIsU,EAAO1Y,KACPmE,EAAWuU,EAAK1L,MAAMxJ,IAAIkV,EAAKxG,aAC/B6lB,EAAcv6B,EAAE8G,EAAQH,EAAS,IACjC6zB,EAAiBx6B,EAAE8G,EAAQH,EAAS,IACpCmB,EAAU6B,EAAOI,EAAcmR,EAAKpT,SAAS5G,OAAS;AACtD+I,EAAmBN,EAAOuR,EAAKpT,QAAQ5G,OAAS4G,EAAU,EAC1DlC,KACKW,EAAM,EAAGA,EAAMg0B,EAAYr5B,OAAQqF,GAAOuB,EAC/CnH,GAAK85B,MAAM70B,EAAQ20B,EAAYG,MAAMn0B,EAAKA,EAAMuB,IAChDnH,GAAK85B,MAAM70B,EAAQ40B,EAAezxB,OAAO,EAAGkB,GAEhD,OAAOrE,KAEXie,YAAa,WAAA,GACQ8W,GAAOhxB,EAqBhBhD,EAIAG,EAzBJoU,EAAO1Y,KAAmBo4B,KAAgBxP,EAAWlQ,EAAK0e,YAAazlB,EAAa+G,EAAKzX,QAAQ0Q,UACjGA,KACI+G,EAAK/G,YACL+G,EAAK/G,WAAW+H,UAEhBhB,EAAKzX,QAAQ4hB,oBAAqB,IAClCnK,EAAKwL,iBAETvS,EAAajS,GAAM2T,GAAGglB,WAAWC,aAAa3mB,GAC9CwmB,EAAQxmB,EAAWwc,SACnBhnB,EAAOwK,EAAWxK,KACduR,EAAKyO,gBACLiR,EAAUA,EAAU15B,QAAU,kBAE9Bga,EAAKzX,QAAQqhB,WAAa5J,EAAKse,eAAiBte,EAAKoJ,aACrDsW,EAAUA,EAAU15B,QAAU,mCAElC05B,EAAYA,EAAU/5B,KAAK,KACT,KAAd+5B,IACAA,EAAY,QAAUA,EAAY,KAElCj0B,EAAWuU,EAAK1L,MAChB4b,IACAzkB,EAAWA,EAASX,IAAIkV,EAAKxG,cAE7B5N,EAAS,KAAO6C,EAAOoN,GAA0B,WAAa6jB,GAClE1f,EAAK/G,WAAa,GAAIjS,IAAM2T,GAAGglB,WAAWl0B,GACtCG,OAAQA,EACRi0B,MAAM,EACNpK,SAAUgK,EACV9M,OAAQ,WACA3S,EAAKzX,QAAQ4hB,mBAAqB1b,GAClCuR,EAAK8f,uBAET9f,EAAK4D,QAAQ7G,KAEjBgjB,YAAa7P,GAAYuP,GAAShxB,EAClCuxB,cAAe,SAAU/oB,GAAV,GAIPokB,GACA3wB,EACKW,EAASrF,CALlB,KAAIyI,GAASyhB,EAAb,CAKA,IADIxlB,EAAS5F,IACJuG,EAAM,EAAGrF,EAASiR,EAAMjR,OAAQqF,EAAMrF,EAAQqF,IACnDgwB,EAAUrb,EAAKmX,YAAYlgB,EAAM5L,IAC7BqG,GAAQ2pB,EAAQ,GAAIpkB,GAAS,IAC7BvM,EAASA,EAAOI,IAAIuwB,GAG5B,OAAO3wB,KAEXu1B,gBAAiB,WACb,MAAOjgB,GAAKof,iBAAiBxzB,EAAQ6C,MAGzCuR,EAAKzX,QAAQ0R,aACbxO,EAASc,GAAG,UAAYE,GAAI,SAAUmM,GAAV,GACpBlS,GAAUsZ,EAAKtZ,UACfyI,EAASyJ,EAAEzJ,MACf,IAAIyJ,EAAEsnB,UAAY7kB,GAAK8kB,WAAavnB,EAAEwnB,UAAYt7B,EAAE4M,QAAQvC,EAAQ1D,QAAmB/E,EAAQyO,GAAG,2BAA6BzO,EAAQ8K,SAAS2D,GAAG,uDAAwD,CAOvM,GANAyD,EAAEC,iBACFD,EAAE0d,kBACF5vB,EAAU+H,EAAO/H,EAAUA,EAAQ8K,SAC/B0e,IAAazhB,IACb/H,EAAUA,EAAQoE,IAAIkV,EAAKmX,YAAYzwB,KAEvC+4B,EACA,GAAK7mB,EAAE4J,SAGH,GAAI9b,EAAQ6J,SAASsN,IAGjB,MAFAnX,GAAQonB,YAAYjQ,IACpBmC,EAAK4D,QAAQ7G,IACb,MALJiD,GAAK/G,WAAWonB,YASpBrgB,GAAK/G,WAAWonB,OAEf5xB,KACDuR,EAAK/G,WAAWqnB,YAAc55B,GAElCsZ,EAAK/G,WAAWtR,MAAMjB,QACd+H,IAASmK,EAAEwnB,UAAYxnB,EAAEsnB,SAAW7kB,GAAKklB,MAAQ3nB,EAAEwnB,UAAYxnB,EAAEsnB,SAAW7kB,GAAKmlB,OAAS5nB,EAAEwnB,UAAYxnB,EAAEsnB,SAAW7kB,GAAKolB,IAAM7nB,EAAEwnB,UAAYxnB,EAAEsnB,SAAW7kB,GAAKqlB,MAAQ9nB,EAAEsnB,UAAY7kB,GAAK8kB,UAAYvnB,EAAEwnB,YACjNxnB,EAAEC,iBACFD,EAAE0d,kBACF5vB,EAAUA,EAAQ8K,SACd0e,IACAxpB,EAAUA,EAAQoE,IAAIkV,EAAKmX,YAAYzwB,KAEvC+4B,GACKzf,EAAK/G,WAAWqnB,cACjBtgB,EAAK/G,WAAWqnB,YAAc55B,GAElCsZ,EAAK/G,WAAW0nB,YAAY3gB,EAAK/G,WAAW2nB,iBAAkBl6B,KAE9DsZ,EAAK/G,WAAWonB,QAChBrgB,EAAK/G,WAAWtR,MAAMjB,SAO9CkiB,WAAY,WAAA,GAIAiY,GAHJt4B,EAAUjB,KAAKiB,QACf0Q,EAAa1Q,EAAQ0Q,UACrBA,IAAc1Q,EAAQ0hB,YAClB4W,EAAOv5B,KACNiB,EAAQ0R,aACT4mB,EAAKvsB,MAAMxJ,IAAI+1B,EAAKrnB,aAAapP,KAAK,WAAY,GAAGmC,GAAG,YAAcE,GAAK,WAAaA,GAAI,iBAAkB,SAAUmM,GAChHA,EAAEzJ,SAAWyJ,EAAEU,eACfV,EAAEkoB,6BAEPv0B,GAAG,YAAcE,GAAIqP,GAAS,IAAMC,GAASrP,GAAM2M,GAAYwnB,IAEtEA,EAAKpV,YAAc/e,GAAMm0B,EAAKE,cAAeF,GAC7CA,EAAKnV,qBAAuB,WACpBmV,EAAKG,eACLH,EAAKG,cAAcC,IAAIJ,EAAKK,UAAUpoB,QAAQgjB,UAGtD+E,EAAKpgB,KAAK,SAAUogB,EAAKnV,sBACzBmV,EAAK5f,QAAQ1U,GAAG,UAAWs0B,EAAKpV,aAChCoV,EAAKlV,iBAAmBjf,GAAMm0B,EAAKtV,UAAWsV,GAC9CA,EAAK5f,QAAQ1U,GAAG,QAASs0B,EAAKlV,oBAGtCoV,cAAe,SAAUnoB,GACjBA,YAAajP,QAAOw3B,QAAWvoB,EAAE4J,UAAW5J,EAAEwoB,SAAYt8B,EAAE8T,EAAEzJ,QAAQgG,GAAG,mCAAqCpO,OAAOs6B,cAAgBt6B,GAAAA,OAAOs6B,gBAA6Bj5B,SAASk5B,WAAal5B,SAASk5B,UAAUC,cAAcv8B,OAG/NsC,KAAK05B,gBACN15B,KAAK05B,cAAgBl8B,EAAE,gBAAgBiG,KACnCmF,SAAU,QACViV,IAAK,MACLwJ,KAAM,MACN6S,QAAS,EACTr7B,MAAO,EACPC,OAAQ,IACToF,SAASlE,KAAK2Z,UAErB3Z,KAAK05B,cAAcC,IAAI35B,KAAK45B,UAAUpoB,QAAQgjB,WAElDoF,OAAQ,WAAA,GASAl8B,GAQI0F,EACA+2B,EACAC,EACAC,EAyBAC,EA5CJf,EAAOv5B,KACPu6B,EAAWhB,EAAK/E,SAChBgG,EAAY,KACZ7X,EAAY4W,EAAKt4B,QAAQ0hB,UACzB8X,GAAc,CAyDlB,OAxDIj9B,GAAEsH,cAAc6d,IAAcA,EAAU6X,YACxCA,EAAY7X,EAAU6X,WAEtB98B,EAAO,GACP68B,EAAS77B,SACL67B,EAASt2B,GAAG,GAAG4J,GAAG,QAClB0sB,EAAWA,EAASh2B,KAAK,0BAEzBk2B,GACAF,EAASj2B,OAAO,YAEhBlB,KACA+2B,EAAcn6B,KAAKsF,QAAQ5G,OAC3B07B,EAAab,EAAKnC,aAAe7vB,EAAcgyB,EAAKj0B,SAAS5G,OAC7D27B,GAAe,EACnB78B,EAAEwpB,KAAKuT,EAAU,SAAUx2B,EAAKoD,GAAf,GAETwf,GACAtb,EACAuiB,EAcA8M,CAjBJvzB,GAAO3J,EAAE2J,GACLwf,EAAKxf,EAAKgF,QAAQ,MAClBd,EAAWsb,EAAG7c,QACd8jB,EAAYzmB,EAAK2C,QACjB2wB,IACA7M,GAAazmB,EAAKmF,QAAQ,WAAW5N,QAErC07B,GAAcC,IACdA,EAAe78B,EAAEsV,SAASymB,EAAKrnB,YAAY,GAAI/K,EAAK,KAEpDoyB,EAAKzX,WAAauY,IAClBzM,GAAa2L,EAAKzX,WAEtB8L,EAAYyM,EAAezM,EAAYA,EAAYwM,EAC/CD,EAAcvM,IACduM,EAAcvM,GAEd8M,EAAWvzB,EAAKzJ,OACf0F,EAAOiI,KACRjI,EAAOiI,OAEXjI,EAAOiI,GAAUuiB,GAAa8M,IAE9BJ,EAAal3B,EAAO1E,OACxB0E,EAAS5F,EAAEwpB,KAAK5jB,EAAQ,SAAUW,EAAK41B,GAC/BA,IACAv2B,EAAOW,GAAO41B,EAAIzB,MAAMiC,GACpBG,EAAav2B,IACbu2B,EAAav2B,MAIzBvG,EAAEwpB,KAAK5jB,EAAO80B,MAAMoC,GAAa,SAAUv2B,EAAK41B,GAExCj8B,GADAi8B,EACQA,EAAIt7B,KAAKm8B,GAAa,OAEtB,UAIb98B,GAEXumB,UAAW,SAAU3S,GACjB,GAAItE,EACAhN,MAAK05B,eAAiBpoB,GAAKA,EAAEzJ,SAAW7H,KAAK05B,cAAc,KAEvD1sB,EADAhN,KAAKiB,QAAQ0R,YACLnV,EAAEwC,KAAKZ,WAAW+M,QAAQ,SAE1BnM,KAAKgN,MAEjBiE,GAAWjE,GAAO,IAElBhN,KAAK05B,gBACL15B,KAAK05B,cAAcvuB,SACnBnL,KAAK05B,cAAgB,OAG7BhY,kBAAmB,WACf,GAAIiZ,GAAM36B,KAAK46B,mBACXD,KACA36B,KAAK8kB,uBAAyB1f,GAAMpF,KAAK46B,kBAAmB56B,MAC5DxC,EAAEiC,QAAQwF,GAAG,SAAUjF,KAAK8kB,0BAGpC8V,kBAAmB,WACf,GAAIhwB,GAAO5K,KAAKsF,QAASu1B,EAAcp7B,OAAOq7B,WAAa,EAAIr7B,OAAOq7B,WAAaC,OAAOl8B,KAC1F,OAAOmB,MAAKg7B,sBAAsBpwB,EAAMiwB,IAE5CG,sBAAuB,SAAUpwB,EAAMiwB,GAAhB,GAEVr8B,GACDqqB,EACA6D,EAHJiO,GAAM,CACV,KAASn8B,EAAI,EAAGA,EAAIoM,EAAKlM,OAAQF,IACzBqqB,EAAMje,EAAKpM,GACXkuB,EAAW7D,EAAIoS,eACfvO,IAAahqB,GAA0B,OAAbgqB,IAC1BiO,GAAM,EACFjO,EAAWmO,EACX76B,KAAKk7B,WAAWrS,GAEhB7oB,KAAKm7B,WAAWtS,KAGnBA,EAAInjB,QAAUmjB,EAAIvjB,UACnBq1B,EAAM36B,KAAKg7B,sBAAsBnS,EAAIvjB,QAASu1B,IAAgBF,EAGtE,OAAOA,IAEX9K,YAAa,SAAU1mB,GAAV,GAML6D,GACAlD,EANAoI,EAAclS,KAAKkS,WAEvB,OADA/I,GAAM3L,EAAE2L,GACH+I,GAGDlF,EAAQ7D,EAAIgD,QAAQnM,KAAKgN,MAAMxJ,IAAIxD,KAAKkS,cACxCpI,EAAQkD,EAAMzI,KAAK,aAAauF,MAAMX,GAC1C6D,EAAQA,EAAM,KAAOhN,KAAKgN,MAAM,GAAKkF,EAAclS,KAAKgN,MACjDA,EAAMzI,KAAK,aAAaN,GAAG6F,IALvBX,GAOfiyB,aAAc,SAAUj0B,GAAV,GAMN6F,GACAlD,EANAoI,EAAclS,KAAKkS,WAEvB,OADA/K,GAAO3J,EAAE2J,GACJ+K,GAGDlF,EAAQ7F,EAAKgF,QAAQnM,KAAKgN,MAAMxJ,IAAIxD,KAAKkS,cACzCpI,EAAQkD,EAAMzI,KAAK,gBAAgBuF,MAAM3C,GAC7C6F,EAAQA,EAAM,KAAOhN,KAAKgN,MAAM,GAAKkF,EAAclS,KAAKgN,MACjDA,EAAMzI,KAAK,gBAAgBuF,MAAMA,IAL7B3C,GAOfk0B,eAAgB,WACZ,GAAI3iB,GAAO1Y,IAIX,OAHI0Y,GAAK/G,YACL+G,EAAK/G,WAAWonB,QAEhBrgB,EAAK6b,oBACL7b,EAAK4iB,mBAAmB5iB,EAAK8b,UAC7B,IAEA9b,EAAKzX,QAAQ4hB,kBACbnK,EAAK8f,uBAET9f,EAAK4D,QAAQ7G,IAHb,IAKJ+e,OAAQ,SAAU7kB,GACd,GAAI+I,GAAO1Y,KAAM2R,EAAa+G,EAAK/G,WAAY4pB,EAAoB77B,GAAM2T,GAAGglB,WAAWC,aAAat4B,KAAKiB,QAAQ0Q,YAAaxK,EAAOo0B,EAAkBp0B,IAEvJ,OADAwI,GAAQ+I,EAAK1L,MAAMxJ,IAAIkV,EAAKxG,aAAa3N,KAAKoL,GAC1CA,EAAMjR,QACFiT,IAAeA,EAAW1Q,QAAQktB,WAClCxc,EAAWonB,QACXppB,EAAQA,EAAMsK,SAEdvB,EAAK0e,cACLznB,EAAQA,EAAMnM,IAAImM,EAAMrP,IAAI,WACxB,MAAI6G,GACOuR,EAAK0iB,aAAap7B,MAElB0Y,EAAKmX,YAAY7vB,UAIhC2R,EACAA,EAAWtR,MAAMsP,IAEjBA,EAAMqX,KAAK,WACPxpB,EAAEwC,MAAMgiB,SAASzL,IAAUhS,KAAKkS,IAAe+kB,KAAK,WAAW,GAAM14B,KAAK,aAAc,gBAAgBA,KAAK,gBAAgB,KAE7H4V,EAAK8b,SAAS91B,SAAWga,EAAK/I,QAAQjR,QACtCga,EAAK+iB,yBAAwB,GAE7B/iB,EAAKzX,QAAQ4hB,kBACbnK,EAAK8f,uBAET9f,EAAK4D,QAAQ7G,KAEjB,GAEG9D,EAAaA,EAAWtR,QAAUqY,EAAK/I,QAAQrL,OAAO,IAAMiS,KAEvEklB,wBAAyB,SAAUC,GAC/B,GAAIhjB,GAAO1Y,IACP07B,GACAhjB,EAAKhQ,MAAMlF,IAAIkV,EAAKtG,cAAc7N,KAAK,MAAQkS,IAAe+kB,KAAK,WAAW,GAAM14B,KAAK,gBAAgB,GAAMA,KAAK,aAAc,qBAElI4V,EAAKhQ,MAAMlF,IAAIkV,EAAKtG,cAAc7N,KAAK,MAAQkS,IAAe+kB,KAAK,WAAW,GAAO14B,KAAK,gBAAgB,GAAOA,KAAK,aAAc,oBAG5Iw4B,mBAAoB,SAAU3rB,GAC1B,GAAI+I,GAAO1Y,IACX2P,GAAQ+I,EAAK1L,MAAMxJ,IAAIkV,EAAKxG,aAAa3N,KAAKoL,GAC1C+I,EAAK0e,cACLznB,EAAQA,EAAMnM,IAAImM,EAAMrP,IAAI,WACxB,MAAOoY,GAAKmX,YAAY7vB,UAGhC2P,EAAMqX,KAAK,WACPxpB,EAAEwC,MAAMwmB,YAAYjQ,IAAUhS,KAAKkS,IAAe3T,KAAK,gBAAgB,GAAO04B,KAAK,WAAW,GAAO14B,KAAK,aAAc,gBAE5H4V,EAAK+iB,yBAAwB,GACzB/iB,EAAKzX,QAAQ4hB,kBACbnK,EAAK8f,uBAET9f,EAAK4D,QAAQ7G,KAEjB+iB,qBAAsB,WAAA,GACDv6B,GAAKgzB,EAKbzyB,EALLka,EAAO1Y,KAAqB27B,EAAUjjB,EAAK/I,QAASisB,EAAoBljB,EAAKM,WAAW/X,QAASywB,EAAUkK,EAAkBhK,OAAOlgB,MAAMxL,GAAI21B,IAKlJ,KAJAnjB,EAAK8b,SAASxN,KAAK,WACfiK,EAAWvY,EAAKuY,SAASjxB,MACzB67B,EAAgB5K,EAASS,KAAY,IAEhClzB,EAAI,EAAGA,EAAIm9B,EAAQj9B,OAAQF,IAChCyyB,EAAWvY,EAAKuY,SAAS0K,EAAQn9B,IACjCP,EAAMgzB,EAASS,GACXmK,EAAgB59B,GAChBya,EAAKwL,aAAajmB,IAAO,QAElBya,GAAKwL,aAAajmB,IAIrC69B,iBAAkB,WAAA,GAELC,GADLrjB,EAAO1Y,KAAMg8B,IACjB,KAASD,IAAYrjB,GAAKwL,aACtB8X,EAAI79B,KAAK49B,EAGb,OADAC,GAAI59B,OACG49B,GAEXC,mBAAoB,SAAU78B,EAASyN,GACnC,GAAIqvB,GAAW1+B,EAAE4B,GAASqQ,KAAK,WAC/BjS,GAAE4B,GAASonB,YAAYnQ,IAASlK,QAAQ,SAASgwB,WAAW,yBACxDD,GACAA,EAAWA,EAASt+B,QAAQoC,KAAKknB,QAAS,IAC1C1pB,EAAE4B,GAAS0D,KAAK,KAAMo5B,IAEtB1+B,EAAE4B,GAAS+8B,WAAW,MAE1BtvB,EAAK4C,KAAK,WAAY5C,EAAK/J,KAAK,OAAOA,KAAK,KAAM9C,KAAKknB,SAASlF,SAAS3L,IAASlK,QAAQ,SAASrJ,KAAK,wBAAyB9C,KAAKknB,SACtIlnB,KAAKo8B,SAAWvvB,GAEpBwvB,eAAgB,WAAA,GAMRlzB,GACAmzB,EACAC,EACAC,EACAC,EAGQpxB,EAZRjM,EAAUY,KAAKo8B,SACfha,EAAapiB,KAAKiB,QAAQmhB,UACzBhjB,IAAYgjB,IAGbjZ,EAAM/J,EAAQ8K,SACdoyB,EAAiBnzB,EAAIgD,QAAQ,SAASjC,SACtCqyB,EAAsBD,EAAezuB,GAAG,gDACxC2uB,EAAcF,EAAezuB,GAAG,qEAChC4uB,EAAsBj/B,EAAEwC,KAAKqE,SAASE,KAAK,+BAA+Bm4B,UAAUp0B,OAAO,GAC3Fk0B,IACIpa,EAAWC,SACPhX,EAAWmB,KAAKnD,IAAIe,GAAQjB,EAAI,GAAInJ,KAAK0mB,OAAOvd,EAAIe,WAAY,GACpElK,KAAK28B,iBAAmB38B,KAAKuiB,kBAAkB/E,UAAUnS,GACzDrL,KAAKuiB,kBAAkBvE,eAAe7U,IAEtCnJ,KAAK4c,UAAU5c,KAAK6vB,YAAY1mB,GAAK,GAAIszB,IAG7Cz8B,KAAKoE,gBACLpE,KAAKoE,cAAc,GAAGwW,UAAY6hB,EAAoB7hB,WAErD2hB,GACDv8B,KAAK4c,UAAUxd,EAAQ,GAAIq9B,KAGnCr9B,QAAS,SAAUyN,GACf,MAAO7M,MAAK0S,YAAY7F,GAAM,IAElC6F,YAAa,SAAU7F,EAAM+vB,GACzB,GAAIx9B,GAAUY,KAAKo8B,QAcnB,OAbAvvB,GAAOrP,EAAEqP,GACLA,EAAKnO,SACAU,GAAWA,EAAQ,KAAOyN,EAAK,KAChC7M,KAAKi8B,mBAAmB78B,EAASyN,GACjC7M,KAAKq8B,iBACAO,GACD58B,KAAKsc,QAAQvF,IAAYjF,QAASjF,MAI1CA,GAAQA,EAAKnO,SACbsB,KAAK68B,eAAiBhwB,EAAK3C,SAAS9B,SAASkM,IAAWxK,MAAM+C,IAE3D7M,KAAKo8B,UAEhB1G,eAAgB,WACR11B,KAAKo8B,WACLp8B,KAAKo8B,SAAS5V,YAAYnQ,IAC1BrW,KAAKo8B,SAAW,OAGxBxf,UAAW,SAAU9K,EAASrN,GAAnB,GAYCuI,GAXJ8vB,EAAqBhrB,EAAQirB,QAAQzH,cACrC0H,EAAsC,OAAvBF,GAAsD,OAAvBA,EAC9C3e,EAAgBrM,EAAQkrB,EAAe,aAAe,aACtDC,EAAmBnrB,EAAQkrB,EAAe,cAAgB,gBAC1D9e,EAAkBzZ,EAAUu4B,EAAe,aAAe,aAC1DE,EAAqBz4B,EAAUu4B,EAAe,cAAgB,gBAC9DG,EAAiBhf,EAAgB8e,EACjC75B,EAAS,EACTmkB,EAAe,EACfC,EAAoB,CACpBlP,KAAS0kB,IACLhwB,EAAQxP,EAAEsU,GAAS3F,QAAQ,SAAS,GACpC4B,GAAQC,KACRuZ,EAAeva,EAAMowB,WACdrvB,GAAQ2Z,UACfF,EAAoBxa,EAAMowB,WAAa19B,GAAM6S,QAAQwH,cAG7DmE,EAAkB1R,KAAKsR,IAAII,EAAkBqJ,EAAeC,GAExDpkB,EADA8a,EAAkBC,EACTA,EACFgf,EAAiBjf,EAAkBgf,EACtCD,GAAoBC,EACXC,EAAiBD,EAEjB/e,EAGJD,EAEb9a,EAASoJ,KAAKsR,IAAI1a,EAASmkB,GAAgBC,EAC3C/iB,EAAUu4B,EAAe,aAAe,aAAe55B,GAE3Dge,aAAc,WAAA,GAKNic,GACAC,EACAxQ,EANApU,EAAO1Y,IACN0Y,GAAKzX,QAAQ0R,cAGd0qB,EAAa3kB,EAAK1L,MAAMxJ,IAAIkV,EAAKxG,aACjCorB,EAAe5kB,EAAKhQ,MAAMwB,SAAS1G,IAAIhG,EAAE,SAAUkb,EAAKtG,eACxD0a,EAASuQ,EACT3kB,EAAKzX,QAAQmhB,aACb0K,EAASA,EAAOtpB,IAAI85B,GACpBA,EAAax6B,KAAKmU,QAEtBjX,KAAK8jB,mBAAqBgJ,EAC1BA,EAAOjT,IAAI,YAAc1U,GAAK,SAAWA,GAAK,YAAcA,GAAK,WAAaA,IAC9Em4B,EAAar4B,GAAG,UAAYE,GAAIC,GAAMsT,EAAK6kB,gBAAiB7kB,IAAOnU,KAAK,YAAYzB,KAAK,eACzFu6B,EAAWv6B,KAAKmU,GAAU9C,GAAK9K,IAAIg0B,EAAWv6B,KAAKmU,KAAa,EAAG,IAAIhS,GAAG,YAAcE,GAAK,WAAaA,GAAI,iBAAkB,SAAUmM,GAClIA,EAAEzJ,SAAWyJ,EAAEU,eACfV,EAAEkoB,6BAGV1M,EAAO7nB,GAAGvF,GAAM6S,QAAQC,MAAQ,aAAerN,GAAK,YAAcA,GAAIqP,GAAS,IAAMC,GAASrP,GAAM2M,GAAY2G,IAAOzT,GAAG,QAAUE,GAAIC,GAAMsT,EAAK8kB,YAAa9kB,IAAOzT,GAAG,WAAaE,GAAIC,GAAMsT,EAAK+kB,WAAY/kB,IAAOzT,GAAG,UAAYE,GAAIC,GAAMsT,EAAKglB,cAAehlB,MAE1Q6kB,gBAAiB,SAAUjsB,GACnBA,EAAEqsB,QAAUrsB,EAAEsnB,SAAW7kB,GAAKqlB,OAC9Bp5B,KAAKZ,UAAUmF,KAAK,yCAAyCQ,QAC7DuM,EAAEkoB,6BAGVoE,aAAc,SAAU5wB,GACpBhN,KAAK8jB,mBAAmBhhB,KAAKmU,OAC7BjK,EAAMlK,KAAKmU,GAAU,IAEzBumB,YAAa,SAAUlsB,GAAV,GAILlS,GACA4N,CAJAtN,IAAM6S,QAAQC,QAGdpT,EAAUY,KAAKZ,UACf4N,EAAQxP,EAAE8T,EAAEU,eACZ5S,GAAWA,EAAQyO,GAAG,YACtBzO,EAAQ4iB,SAAS3L,IAEjBrW,KAAK0S,YAAY1F,EAAMzI,KAAKsQ,KAEhC7U,KAAK49B,aAAa5wB,KAEtBywB,WAAY,WACR,GAAIr+B,GAAUY,KAAKZ,SACfA,IACAA,EAAQonB,YAAYnQ,KAG5BqnB,cAAe,SAAUpsB,GAAV,GAaPusB,GAZAz+B,EAAUY,KAAKZ,UACf0+B,EAAoB99B,KAAKuiB,mBAAqBviB,KAAKuiB,kBAAkBhE,WACrE1W,EAASrK,EAAE8T,EAAEzJ,QACbk2B,GAAazsB,EAAE0sB,uBAAyBn2B,EAAOgG,GAAG,6BACtD,OAAIiwB,IACAxsB,EAAEC,iBACF,IAEJnS,EAAUA,EAAUA,EAAU5B,EAAEwC,KAAKkS,aAAa1O,IAAIxD,KAAKiB,QAAQmhB,WAAapiB,KAAKgN,MAAQhN,KAAK+M,OAAOxI,KAAKsQ,IACzGzV,EAAQV,SAGTm/B,GAAU,EACVE,GAAazsB,EAAEsnB,SAAW7kB,GAAKolB,KAC/B0E,EAAU79B,KAAKi+B,QAAQ7+B,EAASkS,EAAEwnB,WAElCiF,GAAazsB,EAAEsnB,SAAW7kB,GAAKqlB,OAC/ByE,EAAU79B,KAAKk+B,UAAU9+B,EAASkS,EAAEwnB,WAEpCiF,GAAazsB,EAAEsnB,UAAYtgB,GAAQvE,GAAKklB,KAAOllB,GAAKmlB,SACpD2E,EAAU79B,KAAKm+B,WAAW/+B,EAASkS,EAAEqsB,OAAQrsB,EAAEwnB,SAAUxnB,EAAE4J,QAAS5J,EAAEU,gBAEtE+rB,GAAazsB,EAAEsnB,UAAYtgB,GAAQvE,GAAKmlB,MAAQnlB,GAAKklB,QACrD4E,EAAU79B,KAAKo+B,UAAUh/B,EAASkS,EAAEqsB,OAAQrsB,EAAEwnB,SAAUxnB,EAAE4J,QAAS5J,EAAEU,gBAErE+rB,GAAazsB,EAAEsnB,SAAW7kB,GAAKsqB,WAC/BR,EAAU79B,KAAKs+B,mBAEfP,GAAazsB,EAAEsnB,SAAW7kB,GAAKwqB,SAC/BV,EAAU79B,KAAKw+B,iBAEfT,GAAazsB,EAAEsnB,SAAW7kB,GAAK0qB,OAC/BZ,EAAU79B,KAAK0+B,YAAYt/B,EAASkS,EAAE4J,UAEtC6iB,GAAazsB,EAAEsnB,SAAW7kB,GAAK4qB,MAC/Bd,EAAU79B,KAAK4+B,WAAWx/B,EAASkS,EAAE4J,UAErC5J,EAAEsnB,SAAW7kB,GAAK8qB,OAASvtB,EAAEsnB,SAAW7kB,GAAK+qB,KAC7CjB,EAAU79B,KAAK++B,gBAAgB3/B,EAASkS,EAAEU,cAAenK,IAEzDyJ,EAAEsnB,SAAW7kB,GAAKirB,MAClBnB,EAAU79B,KAAKi/B,cAAc7/B,EAASkS,EAAEU,gBAExCV,EAAEsnB,SAAW7kB,GAAKmrB,MAClBrB,EAAU79B,KAAKm/B,cAAc//B,EAASkS,EAAEU,cAAeV,EAAEwnB,WAEzD+E,IACAvsB,EAAEC,iBACFD,EAAE0d,oBAxCN5vB,IA2CJg/B,UAAW,SAAUh/B,EAASu+B,EAAQ7E,EAAU5d,EAAS5I,GAA9C,GACHzF,GAAM/C,EACNX,EAAM/J,EAAQ8K,SACdzF,EAAY0E,EAAIe,QA6BpB,OA5BIyzB,GACA39B,KAAKo/B,YAAYj2B,GACV+R,GAAW9b,EAAQyO,GAAG,cAAgB7N,KAAKiB,QAAQiiB,YAC1DljB,KAAKq/B,YAAYjgC,GAAS,IAE1B0K,EAAQrF,EAAUF,KAAKiQ,IAAQ1K,MAAMX,GACrC0D,EAAO7M,KAAKs/B,oBAAoB76B,EAAWrF,EAAS0K,GAC/C+C,EAAK,KACFisB,EACI94B,KAAKkS,aACLrF,EAAO7M,KAAK6vB,YAAY1mB,GACpB3L,EAAEsV,SAAS9S,KAAKkS,YAAY,GAAI/I,EAAI,MACpC0D,EAAOA,EAAKP,QAAQoI,GAAU,WAElC7H,EAAOA,EAAKzE,SAASkM,GAAY,UAEjCzH,EAAO7M,KAAKu/B,SAASngC,EAASkT,GAAc,IAGhD7N,EAAYzE,KAAKw/B,qBAAqB/6B,GACtCoI,EAAO7M,KAAKs/B,oBAAoB76B,EAAWrF,EAAS0K,GAChD+C,EAAK,KAAOzN,EAAQ,IACpB6R,GAAWxM,EAAUyF,UAAU,KAI3ClK,KAAK0S,YAAY7F,KAEd,GAEXsxB,WAAY,SAAU/+B,EAASu+B,EAAQ7E,EAAU5d,EAAS5I,GAA9C,GACJzF,GAAM/C,EACNX,EAAM/J,EAAQ8K,SACdzF,EAAY0E,EAAIe,QA6BpB,OA5BIyzB,GACA39B,KAAKy/B,UAAUt2B,GACR+R,GAAW9b,EAAQyO,GAAG,cAAgB7N,KAAKiB,QAAQiiB,YAC1DljB,KAAKq/B,YAAYjgC,GAAS,IAE1B0K,EAAQrF,EAAUF,KAAKiQ,IAAQ1K,MAAMX,GACrC0D,EAAO7M,KAAK0/B,oBAAoBj7B,EAAWrF,EAAS0K,GAC/C+C,EAAK,KACFisB,EACI94B,KAAKkS,aACLrF,EAAO7M,KAAK6vB,YAAY1mB,GACpB3L,EAAEsV,SAAS9S,KAAKgN,MAAM,GAAI7D,EAAI,MAC9B0D,EAAOA,EAAK8yB,QAAQjrB,GAAU,WAElC7H,EAAOA,EAAKzE,SAASkM,GAAY,WAEjCzH,EAAO7M,KAAKu/B,SAASngC,EAASkT,GAAc,IAGhD7N,EAAYzE,KAAKw/B,qBAAqB/6B,GAAW,GACjDoI,EAAO7M,KAAK0/B,oBAAoBj7B,EAAWrF,EAAS0K,GAChD+C,EAAK,KAAOzN,EAAQ,IACpB6R,GAAWxM,EAAUyF,UAAU,KAI3ClK,KAAK0S,YAAY7F,KAEd,GAEXoxB,QAAS,SAAU7+B,EAAS05B,GAAnB,GAEDjsB,GAgBAO,EAjBA3I,EAAYrF,EAAQ8K,SAASA,QAoBjC,OAlBI4uB,IACAjsB,EAAOzN,EAAQ8K,SACf2C,EAAOA,EAAKP,QAAQoI,GAAU,UAC9B7H,EAAOzN,EAAQ8K,SAAS2D,GAAG6G,IAAW7H,EAAKzE,WAAWnE,GAAG7E,EAAQ0K,SAAW+C,EAAKzE,SAASkM,GAAY,WAEtGzH,EAAO7M,KAAK4/B,kBAAkBn7B,EAAWrF,GACpCyN,EAAK,KACN7M,KAAK68B,eAAiB,EACtBp4B,EAAYzE,KAAK6/B,mBAAmBp7B,GAAW,GAC/CoI,EAAO7M,KAAK4/B,kBAAkBn7B,EAAWrF,GACrCyN,EAAK,IACLoE,GAAWxM,EAAUyF,UAAU,KAIvCkD,EAAMpN,KAAK68B,gBAAkB,EACjC78B,KAAK0S,YAAY7F,GACjB7M,KAAK68B,eAAiBzvB,GACf,GAEX8wB,UAAW,SAAU9+B,EAAS05B,GAAnB,GAEHjsB,GAgBAO,EAjBA3I,EAAYrF,EAAQ8K,SAASA,QAoBjC,OAlBI4uB,IACAjsB,EAAOzN,EAAQ8K,SACf2C,EAAOA,EAAK8yB,QAAQjrB,GAAU,UAC9B7H,EAAOzN,EAAQ8K,SAAS2D,GAAG6G,IAAW7H,EAAKzE,WAAWnE,GAAG7E,EAAQ0K,SAAW+C,EAAKzE,SAASkM,GAAY,YAEtGzH,EAAO7M,KAAK8/B,kBAAkBr7B,EAAWrF,GACpCyN,EAAK,KACN7M,KAAK68B,eAAiB,EACtBp4B,EAAYzE,KAAK6/B,mBAAmBp7B,GACpCoI,EAAO7M,KAAK8/B,kBAAkBr7B,EAAWrF,GACrCyN,EAAK,IACLoE,GAAWxM,EAAUyF,UAAU,KAIvCkD,EAAMpN,KAAK68B,gBAAkB,EACjC78B,KAAK0S,YAAY7F,GACjB7M,KAAK68B,eAAiBzvB,GACf,GAEXiyB,YAAa,SAAUjgC,EAAS2gC,GAAnB,GACL57B,GAAWnE,KAAK2Z,QAAQlK,OAAOub,iBAAiBlZ,QAAQvN,KAAKvE,KAAK+kB,mBAAmB9jB,QAAQqD,OAAS,YACtGgB,EAAUwB,EAAeuD,EAAsBrK,KAAKsF,UACpDgmB,EAAWnnB,EAAS2F,MAAMtM,EAAE4B,IAC5BuJ,EAASo3B,KAAc,EACvBt6B,EAASH,EAAQgmB,GACjBC,EAAWhhB,EAA2BjF,EAAStF,KAAKsF,QAASgmB,EAAUA,EAAW3iB,EAClF4iB,IAAY,GACZvrB,KAAKwrB,cAAcD,EAAU9lB,EAAQs6B,IAG7CrB,YAAa,SAAUt/B,EAAS4gC,GAAnB,GAKL1T,GAJAnjB,EAAM/J,EAAQ8K,SACd+1B,EAAe92B,EAAIe,SACnBg2B,EAAkBlgC,KAAKkS,aAAelS,KAAKkS,YAAY9J,SAAS,SAAS,KAAO63B,EAAa,GAC7FE,EAAWF,EAAa,KAAOjgC,KAAK+M,MAAM,EAc9C,IAZIizB,EAEI1T,EADAtsB,KAAKkS,YACElS,KAAKkS,YAAY3N,KAAKoQ,GAAe,IAAMF,GAAU,UAErDzU,KAAKgN,MAAMzI,KAAKoQ,GAAe,IAAMF,GAAU,WAEnD0rB,GAAYD,KACfC,GAAYngC,KAAKkS,cACjB/I,EAAMnJ,KAAK6vB,YAAY1mB,IAE3BmjB,EAAOnjB,EAAIf,SAASkM,GAAY,WAEhCgY,GAAQA,EAAK5tB,OAEb,MADAsB,MAAK0S,YAAY4Z,IACV,GAGfsS,WAAY,SAAUx/B,EAAS4gC,GAAnB,GAKJnzB,GAJA1D,EAAM/J,EAAQ8K,SACd+1B,EAAe92B,EAAIe,SACnBg2B,EAAkBlgC,KAAKkS,aAAelS,KAAKkS,YAAY9J,SAAS,SAAS,KAAO63B,EAAa,GAC7FE,EAAWF,EAAa,KAAOjgC,KAAK+M,MAAM,EAU9C,IARIizB,EACAnzB,EAAO7M,KAAKgN,MAAMzI,KAAKqQ,GAAc,IAAMH,GAAU,UAC9C0rB,GAAYD,MACdC,GAAYngC,KAAKkS,cAClB/I,EAAMnJ,KAAK6vB,YAAY1mB,IAE3B0D,EAAO1D,EAAIf,SAASkM,GAAY,UAEhCzH,GAAQA,EAAKnO,OAEb,MADAsB,MAAK0S,YAAY7F,IACV,GAGfyxB,gBAAiB,WACb,QAAKt+B,KAAKiB,QAAQ2hB,WAGlB5iB,KAAKgZ,WAAW4G,KAAK5f,KAAKgZ,WAAW4G,OAAS,IACvC,IAEX4e,cAAe,WACX,QAAKx+B,KAAKiB,QAAQ2hB,WAGlB5iB,KAAKgZ,WAAW4G,KAAK5f,KAAKgZ,WAAW4G,OAAS,IACvC,IAEXuf,cAAe,SAAU//B,EAASkT,EAAcwmB,GAAjC,GAEP3xB,GADAi5B,EAAWpgC,KAAKiB,QAAQ2Q,UAAgC,UAApB5R,KAAKguB,WAE7C,UAAKoS,GAAYhhC,EAAQyO,GAAG,SAG5B1G,EAAO3J,EAAEiW,MAAiBtH,QAAQ,gBAC9BhF,EAAK,IAAMA,EAAK,KAAO/H,EAAQ,KAC/BA,EAAU+H,GAEdA,EAAOnH,KAAKu/B,SAASngC,EAASkT,EAAcwmB,KACxC3xB,EAAKzI,SACLsB,KAAKqgC,eAAejhC,EAAS+H,EAAMA,EAAKgF,QAAQ,WACzC,KAIf8yB,cAAe,SAAU7/B,EAASkT,GAAnB,GAaH6f,GAZJmO,EAAS7sB,KACT2sB,EAA+B,UAApBpgC,KAAKguB,WACpB,OAAKjb,IAAS3T,IAOVghC,EACApgC,KAAKuuB,WAAU,IAEX4D,EAAe30B,EAAE4B,GAAS8K,SAASJ,QACnCw2B,GACAA,EAAO3R,OAEX3uB,KAAK2xB,WAAU,GACXQ,GAAgB,GAChBnyB,KAAK0S,YAAY1S,KAAK2P,QAAQ1L,GAAGkuB,GAAc/pB,SAASqM,IAASwF,UAGrElM,GAAQC,MAAQD,GAAQE,QAAU,GAClCnN,SAASe,KAAK2P,QAElBP,GAAWqB,GAAc,IAClB,KAtBClT,EAAQsvB,IAAI4R,GAAQ5hC,SACpBuS,GAAWqB,GAAc,IAClB,IAsBnBiuB,eAAgB,SAAUnhC,EAASwS,GAC/B,GAAIzI,GAAM/J,EAAQ8K,QAClB,OAAIf,GAAI0E,GAAG,oBACP1E,EAAI5E,KAAK,iBAAiBQ,SACnB,KAEN6M,IAAYzI,EAAI0E,GAAG,oBACpB1E,EAAI5E,KAAK,iBAAiBQ,SACnB,IAIfg6B,gBAAiB,SAAU3/B,EAASkT,EAAczK,GAAjC,GAGT24B,GAgBAC,EAlBA7uB,EAAW5R,KAAKiB,QAAQ2Q,UAAY5R,KAAKiB,QAAQ2Q,SAASsO,UAAW,EACrEzb,EAAYoD,EAAOsE,QAAQ,kBAK/B,OAHKtE,GAAOgG,GAAG,UAAarQ,EAAEsV,SAAS1T,EAAQ,GAAIyI,EAAO,MACtDzI,EAAUqF,GAEVrF,EAAQyO,GAAG,OACX2yB,EAAOphC,EAAQmF,KAAK,WAChBi8B,EAAK9hC,OACL8hC,EAAKz7B,QAEL3F,EAAQmF,KAAKkS,IAAejF,SAEzB,KAEPxR,KAAKugC,eAAenhC,EAASwS,KAG7B6uB,EAAYrhC,EAAQmF,KAAK,yBACzBk8B,EAAU,KAAOrhC,EAAQ6J,SAAS,gBAAkB7J,EAAQ6J,SAAS,oBACrEw3B,EAAUjvB,SACH,MAEPI,GAAa/J,EAAOgG,GAAG,iCAClBpJ,EAAU,KACXA,EAAYrF,GAEhBY,KAAKqgC,eAAe57B,GAAW,EAAO6N,IAC/B,KAIfotB,oBAAqB,SAAU1yB,EAAO5N,EAASshC,GAA1B,GAGTz4B,GACAoD,EAGQe,EANZtD,EAAQ1J,EAAQugC,QAAQrrB,GAC5B,OAAKxL,GAAMpK,SACHuJ,EAAO+E,EAAMzI,KAAKiQ,IAClBnJ,EAAWpD,EAAK6B,MAAM1K,EAAQ8K,UAC9BmB,OAeDvC,EAAMmR,QAdD7a,EAAQ6J,SAAS,aACbmD,KACJhB,GAAqB7D,EAAcvH,KAAKsF,SAAS,IAAKoH,EAAkBzE,EAAKhE,GAAG,GAAGmE,SAAS,YAAY6R,SAAU7N,EAAY,EAAG,GAC7HA,EAAWs0B,GACJt0B,EAAWs0B,GAAe,GAE9BthC,GAEPA,EAAQ8K,SAASjB,SAAS,gBACnBhB,EAAKK,OAAOF,SAASkM,IAAW2F,QAEpChS,EAAKhE,GAAGy8B,GAAet4B,SAASkM,IAAW2F,SAK9DqlB,oBAAqB,SAAUtyB,EAAO5N,EAASshC,GAA1B,GAGTz4B,GACAoD,EAGQe,EACA9G,EAPZwD,EAAQ1J,EAAQkN,QAAQgI,GAC5B,OAAKxL,GAAMpK,SACHuJ,EAAO+E,EAAMzI,KAAKiQ,IAClBnJ,EAAWpD,EAAK6B,MAAM1K,EAAQ8K,UAC9BmB,OAgBDvC,EAAMmR,QAfD7a,EAAQ6J,SAAS,aACbmD,KACA9G,EAAUiC,EAAcvH,KAAKsF,SACjC8F,GAAqB9F,EAAQA,EAAQ5G,OAAS,IAAKgO,EAAkBzE,EAAKhE,GAAG,GAAGmE,WAAWE,QAAS8D,EAAY,EAAG,GAC/GA,EAAWs0B,GACJt0B,EAAWs0B,GAAe,GAE9BthC,GAEPA,EAAQ8K,SAASjB,SAAS,gBACnBhB,EAAKK,OAAOF,SAASkM,IAAWhM,OAEpCL,EAAKhE,GAAGy8B,GAAet4B,SAASkM,IAAWhM,QAK9Dq4B,kBAAmB,SAAU3zB,EAAO5N,GAAjB,GAKXwhC,GAJA92B,EAAQ1K,EAAQ0D,KAAK,aACzB,OAAKgH,IAGD82B,EAAqBr5B,EAAcvH,KAAKsF,SAAS5G,OACjDkiC,IAAuB5zB,EAAMb,QAAQ,OAAOlD,SAAS,yBAAyB,GACvEa,EAAQ82B,EAEZ92B,GANIpH,GAQfk9B,kBAAmB,SAAUn7B,EAAWrF,GAArB,GACX0J,GACAK,EAAM/J,EAAQ8K,SACdjC,EAAOxD,EAAU2D,SAASoM,IAC1BnJ,EAAWpD,EAAK6B,MAAMX,GACtBW,EAAQ9J,KAAK2gC,kBAAkBl8B,EAAWrF,EAC9C,IAAI0K,GAAS1K,EAAQ6J,SAAS,YAE1B,MADAH,GAAQiD,EAAmB3M,GACpB0J,EAAM7E,GAAG6E,EAAMpK,OAAS,EAGnC,IADAoL,EAAQ0C,KAAKnD,IAAIF,EAAIf,SAASkM,IAAWxK,MAAM1K,GAAUY,KAAK68B,gBAAkB,GAC5E1zB,EAAIF,SAAS,gBACb,MAAOwC,GAAchH,GAAWH,OAAOsC,GAAe3C,GAAG6F,EAE7D,IAAIuB,OAEA,GADAlC,EAAM1E,EAAUF,KAAK,4BAChB4E,EAAI,GACL,MAAOsC,GAAchH,GAAWH,OAAOsC,GAAe3C,GAAG6F,OAG7DX,GAAmB,IAAbkC,EAAiB7N,IAAMyK,EAAKhE,GAAGoH,EAAW,EAGpD,OADAvC,GAAQK,EAAIf,SAASkM,IAEVxL,EAAM7E,GADb6E,EAAMpK,OAASoL,EACCA,EAEJ,IAEpBg2B,kBAAmB,SAAUr7B,EAAWrF,GAArB,GACX0J,GAeA+3B,EAEIC,EACAC,EACKh9B,EAASrF,EAlBlByK,EAAM/J,EAAQ8K,SACdjC,EAAOxD,EAAU2D,SAASoM,IAC1BnJ,EAAWpD,EAAK6B,MAAMX,GACtBW,EAAQ9J,KAAK2gC,kBAAkBl8B,EAAWrF,EAC9C,IAAIiM,OAAkBvB,IAAUpH,GAAatD,EAAQ6J,SAAS,YAC1D,MAAOyD,GAAkBtN,GAAS6E,GAAG,EAUzC,IARA6F,EAAQA,EAAQiB,SAASjB,EAAO,IAAMX,EAAIf,SAASkM,IAAWxK,MAAM1K,GACpE0K,EAAQ0C,KAAKnD,IAAIS,EAAO9J,KAAK68B,gBAAkB,GAE3C1zB,EAAMlB,EAAKhE,GADXoH,MACc,EAEAA,EAAWjM,EAAQ,GAAGsI,SAEpCm5B,EAAW/2B,EACX9J,KAAK2gC,kBAAkBl8B,EAAWrF,KAAasD,EAG/C,IAFIo+B,EAAkB33B,EAAIf,SAAS,8CAC/B24B,EAAgBD,EAAgBx8B,OAAO,WAClCP,EAAM,EAAGrF,EAASqiC,EAAcriC,OAAQqF,EAAMrF,EAAQqF,IACvD+8B,EAAgBh3B,MAAMi3B,EAAch9B,IAAQ+F,GAC5C+2B,GAMZ,OAFA/2B,GAAQ+2B,EACR/3B,EAAQK,EAAIf,SAASkM,IAEVxL,EAAM7E,GADb6E,EAAMpK,OAASoL,EACCA,EAEJ,IAEpB+1B,mBAAoB,SAAUp7B,EAAWu8B,GAArB,GACZh0B,GAAQvI,EAAUyF,SAClBxL,EAASsB,KAAK8jB,mBAAmBplB,OACjCuiC,EAAOz0B,KAAKsP,MAAMpd,EAAS,GAC3BoL,EAAQM,GAAQ4C,EAAM,GAAIhN,KAAK8jB,mBAQnC,OAPIkd,KACAC,OAEJn3B,GAASm3B,GACLn3B,GAAS,GAAKA,EAAQpL,KACtBsO,EAAQhN,KAAK8jB,mBAAmB7f,GAAG6F,IAEhCkD,EAAMzI,KAAKy8B,EAAK,QAAU,UAErCxB,qBAAsB,SAAU/6B,EAAWy8B,GAArB,GAKdl0B,GACAlD,EALApL,EAASsB,KAAK8jB,mBAAmBplB,MACrC,OAAIA,IAAU,EACH+F,GAEPuI,EAAQvI,EAAUyF,SAClBJ,EAAQM,GAAQ4C,EAAM,GAAIhN,KAAK8jB,oBACnCha,GAASo3B,EAAQ,MACbA,GAAmB,GAATp3B,GAAcA,GAASpL,GAGhCwiC,IAAmB,GAATp3B,GAAcA,EAAQ,GAC1BrF,EAEJzE,KAAK8jB,mBAAmB7f,GAAG6F,GAAOvF,KAAK,gBALnCE,IAOf86B,SAAU,SAAUngC,EAASkT,EAAc6uB,GAAjC,GACFC,IAAY,EACZv0B,EAAOs0B,EAAO/hC,EAAQkN,QAAQgI,GAAY,UAAYlV,EAAQugC,QAAQ,iBAY1E,OAXK9yB,GAAKnO,SACNmO,EAAOzN,EAAQ8K,SACXlK,KAAKkS,cACLkvB,EAAYD,GAAQ7uB,GAAgBtS,KAAKkS,YAAY,KAAOivB,GAAQ7uB,GAAgBtS,KAAKgN,MAAM,GAC/FH,EAAO7M,KAAK6vB,YAAYhjB,IAExBu0B,IACAv0B,EAAOA,EAAKs0B,EAAO,UAAY,WAAW,6DAE9Ct0B,EAAOA,EAAKzE,SAASkM,IAAa6sB,EAAO,QAAU,YAEhDt0B,GAEXwzB,eAAgB,SAAUjhC,EAASyN,EAAMG,GACrC,GAAsKyzB,GAAuFY,EAAzP3oB,EAAO1Y,KAAMsgC,EAAS9iC,EAAEiW,MAAkBya,EAAOxV,EAAKsV,YAAasT,EAAOvzB,GAAQC,KAAMuzB,EAAQD,GAAQvzB,GAAQE,QAAU,EAAGuzB,EAAgB9oB,EAAK2V,eAA2Bzc,EAAW8G,EAAKzX,QAAQ2Q,UAAY8G,EAAKzX,QAAQ2Q,SAASsO,UAAW,CAOtP,IANAlT,EAAQxP,EAAEwP,GAENq0B,EADQ,UAARnT,EACW9uB,EAAQ6J,SAAS,eAEjB7J,EAAQ8K,SAASjB,SAAS,mBAErCyP,EAAK9G,SAAU,CAWf,GAVIpU,EAAEsV,SAAS0uB,EAAc,GAAIlB,EAAO,MAChCvyB,GAAQ0zB,OAASF,EACjBjB,EAAO3R,OAAOtD,SAASqW,eAAe,SAEtCpB,EAAO3R,OACH2S,GACAhB,EAAO3R,UAIdjW,EAAK9G,SAEN,MADAX,IAAWjE,GACX,CAEJ,KAAI0L,EAAK9G,SAAS0c,MAiBd,MARI5V,GAAKhG,YADG,UAARwb,EACiBsT,EAEAA,EAAcp5B,WAAW9D,OAAOgQ,IAAW2F,SAEhEwmB,EAAYe,EAAcj9B,KAAK,yBAAyB,GACpDk8B,GACAA,EAAUjvB,QAEd,CAhBY,WAAR0c,EACAxV,EAAK6V,aAEL7V,EAAKwZ,UACLmP,GAAW,GAenBx0B,GACA6L,EAAKhG,YAAY7F,GAEjB00B,GACAzgC,SAASe,KAAK2P,QAElBP,GAAWjE,GAAO,GACb4E,KAGAyvB,IAAax0B,GAAQA,KACV,UAARqhB,EACAxV,EAAKkW,SAASlW,EAAKtZ,WAEnBsZ,EAAKoW,QAAQpW,EAAKtZ,UAAU8K,YAIxCiQ,SAAU,WACN,GAAIzB,GAAO1Y,KAAMgN,EAAQ0L,EAAK1L,MAAOlO,EAAS4Z,EAAKzX,QAAQnC,OAAQ6a,EAAUjB,EAAK5G,OAC7E6H,GAAQ9L,GAAG,SACZ8L,EAAUA,EAAQV,KAAK,UAAU/O,UAErCwO,EAAKiB,QAAUA,EAAQqI,SAAS,mCAC5BljB,IACA4Z,EAAKiB,QAAQlW,IAAIuT,GAAQlY,GACzBkO,EAAMvJ,IAAIuT,GAAQ,SAEtB0B,EAAKipB,eAETA,YAAa,WAAA,GAKD10B,GAJJhM,EAAUjB,KAAKiB,QACfyX,EAAO1Y,IACXA,MAAKsmB,UAAYrlB,EAAQqiB,UAAW,GAAQ5jB,GAAM6S,QAAQwW,UAA+B,UAAnB9nB,EAAQqiB,QAAyC,WAAnBriB,EAAQqiB,OACxGtjB,KAAKsmB,YACDrZ,EAAOjN,KAAK2Z,QAAQqI,SAAS,iBAAiB/I,KAAK,aAAevZ,GAAMsxB,GAAK,uBAAyBtxB,GAAMsxB,GAAK,oBAA2BtxB,GAAMsxB,GAAK,+BAA+B9mB,SAC1LlK,KAAK6kB,KAAOnlB,GAAM4jB,OAAOjQ,GAAGuuB,KAAK3oB,KAAKhM,GACtCjN,KAAK20B,KAAO30B,KAAK6kB,KAAK8P,OACtB30B,KAAK+0B,yBAA2Bv3B,EAAEsD,SAAS+gC,iBAAiB54B,SAAS,YAAe2pB,OAAO,IACvFkP,MAAO,gBACPl5B,SAAU,gBACVm5B,OAAQ,cAER9gC,EAAQnC,QACRkB,KAAK6kB,KAAK/S,QAAQ5H,SAASzG,IAAIuT,GAAQ/V,EAAQnC,QAEnDkB,KAAKgzB,eAAiB,QACtBhzB,KAAK20B,KAAKxb,KAAK,OAAQ,WACfT,EAAK0e,cACL1e,EAAK8U,qBACL9U,EAAKsR,8BACLtR,EAAKuR,2BACLvR,EAAKwR,0BACLxR,EAAKuX,+BAKrBpP,OAAQ,WACJ,GAAqC9T,GAAjC2L,EAAO1Y,KAAMgN,EAAQ0L,EAAK1L,KAC9BD,GAAQC,EAAMzI,KAAK,UACdwI,EAAMrO,SACPqO,EAAQvP,EAAE,YAAY0G,SAAS8I,IAEnC0L,EAAK3L,MAAQA,EAAMjK,KAAK,OAAQ,aAEpCk/B,YAAa,WAAA,GACQ7Y,GAAQnc,EAA6Psa,EA0B9Q/B,EAiBIqS,EACAqK,EAoBAlS,EAhERrX,EAAO1Y,KAAqBiB,EAAUyX,EAAKzX,QAASmhB,EAAanhB,EAAQmhB,WAAY8f,EAAmB9f,KAAe,GAAQA,EAAWC,UAAY3J,EAAK6J,kBAAmBxI,GAAara,GAAM6S,QAAQ6H,qBAAuB8nB,EAAmBxiC,GAAM6S,QAAQwH,YAAc,CAC/QqI,KACA+G,EAASzQ,EAAKiB,QAAQvR,SAAS,kBAC1B+gB,EAAO,KACRA,EAAS3rB,EAAE,iCAAiC+Q,aAAamK,EAAK1L,QAElEmc,EAAO1lB,IAAI6U,GAAQ,eAAiB,gBAAiB8J,EAAWC,QAAUtI,EAAY,EAAIA,GAC1F/M,EAAQxP,EAAE,yBACN+a,IACAvL,EAAMlK,KAAK,cAAe,GAE9BkK,EAAMnO,MAAM6Z,EAAK1L,MAAM,GAAG/N,MAAMJ,OAChCmO,EAAMtD,OAAOgP,EAAKhQ,OAClBygB,EAAOjc,QAAQxD,OAAOlM,EAAE,wDAAwDkM,OAAOsD,IACvF0L,EAAKrU,QAAUqU,EAAK1L,MAAM9C,SACtBwO,EAAKrU,QAAQwJ,GAAG,sDAChB6K,EAAKrU,QAAUqU,EAAKrU,QAAQ6F,UAE3BwO,EAAKrU,QAAQwJ,GAAG,iDACjB6K,EAAKrU,QAAUqU,EAAK1L,MAAMiM,KAAK,oDAAoD/O,UAEnFg4B,GACAxpB,EAAKypB,2BAET7a,EAAa6B,EAAO/gB,SAAS,uBAC7BsQ,EAAK4M,YAAcgC,EAAW9jB,IAAIkV,EAAKrU,SACnCkhB,EAAS7M,EAAKiB,QAAQpV,KAAK,kBAC3BghB,EAAO7mB,SACPga,EAAK4M,YAAc5M,EAAK4M,YAAY9hB,IAAI+hB,EAAOnd,SAAS,yBAE5Dkf,EAAWpO,OAAO,SAAW/T,IAAIgU,KAAK,SAAWhU,GAAI,SAAUmM,GACvDoH,EAAK0pB,cAAgBpiC,KAAKmR,YAC1BuH,EAAK4M,YAAYiF,IAAIjZ,EAAEU,eAAeb,WAAWnR,KAAKmR,cAG1DiR,EAAWC,QACX3J,EAAKrU,QAAQE,KAAK,+BAA+B2U,OAAO,SAAW/T,IAAIgU,KAAK,SAAWhU,GAAI,WACvFuT,EAAK4M,YAAYnU,WAAWnR,KAAKmR,YAC7BuH,EAAKtU,gBACLsU,EAAKtU,cAAc,GAAGwW,UAAY5a,KAAK4a,cAI3Cgd,EAAUxV,EAAWwV,QACrBqK,EAAmBvpB,EAAKM,WAAW/X,QAAQ8c,SAC3C6Z,IACAlf,EAAKmf,iBAAmBoK,GAE5BvpB,EAAKrU,QAAQ6U,OAAO,SAAW/T,IAAIgU,KAAK,SAAWhU,GAAI,SAAUmM,GAC7DoH,EAAK0pB,YAAcpiC,KAAKmR,WACxBuH,EAAK4M,YAAYiF,IAAIjZ,EAAEU,eAAeb,WAAWuH,EAAK0pB,aAClD1pB,EAAKtU,eAAiBkN,EAAEU,eAAiB0G,EAAKrU,QAAQ,KACtDqU,EAAKtU,cAAc,GAAGwW,UAAY5a,KAAK4a,WAEvCgd,GACI53B,KAAK4a,UAAY5a,KAAKob,aAAepb,KAAKqb,oBAAwB3C,EAAK2pB,yBAA2B3pB,EAAKmf,iBAAmBnf,EAAKM,WAAW4F,UAC1IlG,EAAK4pB,wBAA0B5pB,EAAKmf,iBACpCnf,EAAKmf,iBAAmBnf,EAAKmf,iBAAmBoK,EAChDvpB,EAAKM,WAAW/X,QAAQ22B,SAAU,EAClClf,EAAK2pB,yBAA0B,EAC/B3pB,EAAKM,WAAW+E,SAASrF,EAAKmf,qBAItC9H,EAAgBrX,EAAKrU,QAAQoL,KAAK,sBAClCsgB,GACAA,EAAcrW,UAElBqW,EAAgBrwB,GAAMqwB,cAAcrX,EAAKrU,SACrC0rB,GAAiBA,EAAcwS,UAC/B7pB,EAAKqX,cAAgBA,EACrBA,EAAcwS,QAAQppB,KAAK,SAAU,SAAU7H,GAC3CoH,EAAK4M,YAAYnU,YAAYG,EAAEmJ,OAAOM,GAClCrC,EAAKtU,eACLsU,EAAKtU,cAAcwW,WAAWtJ,EAAEmJ,OAAOI,KAG/CnC,EAAKrH,IAAIwE,GAAW,SAAUvE,GAC1BA,EAAEmJ,OAAOd,QAAQqI,SAAS,yBAM9CmgB,yBAA0B,WACtB,GAAIzpB,GAAO1Y,IACP0Y,GAAK6J,mBACL7J,EAAK6J,kBAAkB7I,UAE3BhB,EAAK6J,kBAAoB,GAAI9J,IAAkBC,EAAKrU,SAChD2U,WAAYN,EAAKM,WACjBK,WAAY,WACR,MAAOX,GAAK8pB,qBAEhB5iB,KAAM,WACFlH,EAAK+pB,yBAETC,OAAQ,WACJhqB,EAAKiqB,oBAGbjqB,EAAK6J,kBAAkBpJ,KAAKjD,GAAQ9Q,GAAMsT,EAAKkqB,iBAAkBlqB,KAErEkqB,iBAAkB,WACd,GAAIlqB,GAAO1Y,IACX0Y,GAAKmqB,sBACDnqB,EAAKiX,6BACLjX,EAAK0W,2BAA4B,EACjC1W,EAAK6V,YACL7V,EAAK0W,2BAA4B,IAGzCkE,mBAAoB,WAChB,MAAOtzB,MAAK2vB,4BAA8B3vB,KAAK+uB,4BAA8B/uB,KAAK8iC,2BAEtF/T,yBAA0B,WACtB,MAAO/uB,MAAKuiB,mBAAqBviB,KAAKguB,cAAgBxW,IAE1DmY,yBAA0B,WACtB,MAAO3vB,MAAKuiB,mBAAqBviB,KAAKguB,cAAgBzW,IAE1DurB,wBAAyB,WACrB,MAAO9iC,MAAKuiB,mBAA0C,UAArBviB,KAAKguB,aAE1CQ,sBAAuB,WAAA,GACf9V,GAAO1Y,KACPoiB,EAAa1J,EAAK6J,mBAClB7J,EAAKqW,4BAA8BrW,EAAKiX,8BACpCvN,EAAW/E,sBACX+E,EAAWrF,yBACJqF,EAAW7E,oBAClB6E,EAAWtF,wBAIvB8M,oCAAqC,WACjC,GAAIrH,GAAoBviB,KAAKuiB,iBACzBA,IACAA,EAAkBvF,gCAG1BylB,sBAAuB,WAAA,GAOft5B,GACAhC,EAPAuR,EAAO1Y,KACP+iC,EAAgBrqB,EAAKkX,mBACrBoT,EAAcD,EAAcrxB,MAC5BsH,EAAaN,EAAKM,WAClBiqB,EAAavqB,EAAKqW,2BAClBmU,EAAaxqB,EAAKiX,4BAGjBsT,GAAcC,IAAeF,GAAehqB,EAAWmqB,UAAUH,EAAYr9B,IAAKqT,EAAW2b,UAC1FsO,GACAvqB,EAAK0W,2BAA4B,EACjC1W,EAAKoW,QAAQkU,GACbtqB,EAAKiqB,kBACEO,IACP/5B,EAAMuP,EAAK3L,MAAM3E,SAASzF,EAAW8U,GAAWurB,EAAYr9B,MAC5DwB,EAAO3J,EAAE2L,GAAKf,SAASzF,EAAW0U,GAAO0rB,EAAcn9B,QACnDuB,EAAK,KACLuR,EAAK0W,2BAA4B,EACjC1W,EAAKkW,SAASznB,GACduR,EAAKiqB,oBAIjBjqB,EAAK0W,2BAA4B,GAErCuT,eAAgB,WAAA,GACRjqB,GAAO1Y,KACPojC,GAAe1qB,EAAKkX,oBAAsBhqB,MAC1C47B,EAAgB9oB,EAAK2V,cACrBmT,KAAkB1uB,GAAS0uB,EAAc,GAAI/tB,OAAoBiF,EAAK2qB,sBAClE3qB,EAAKqW,2BACLyS,EAAcj9B,KAAK5B,EAAWyU,GAAegsB,IAAc7+B,KAAK+R,IAAWrS,GAAG,GAAGuN,QAC1EkH,EAAKiX,4BACZ6R,EAAcj9B,KAAK+R,IAAWrS,GAAG,GAAGuN,UAIhD6xB,kBAAmB,WACf,GAAI3qB,GAAO1Y,IACX,QAAQ0Y,EAAKiX,4BAA8BjX,EAAKqW,6BAA+BrW,EAAK6J,kBAAkB7E,kBAAkBhF,EAAK2V,iBAEjIwU,oBAAqB,WAAA,GAMbvC,GACAgD,EANA5qB,EAAO1Y,KACPwhC,EAAgB9oB,EAAK2V,eACrB2U,EAAcxB,EAAgB9oB,EAAKqV,mBAAmByT,GAAiB,KACvEyB,EAAavqB,EAAKqW,2BAClBmU,EAAaxqB,EAAKiX,4BAGjBsT,GAAcC,IAAeF,IAC9BtqB,EAAK2W,sBACLiR,EAAS9iC,EAAEiW,MACP+tB,GAAiBlB,EAAO,IAAMxtB,GAAS0uB,EAAc,GAAIlB,EAAO,MAChEA,EAAOjV,SACPiY,EAAS5jC,GAAM6jC,eAAejD,EAAQ5gC,GAAM2T,IACxCiwB,GAAUrvB,GAAWqvB,EAAOjjC,QAAUigC,EAAOzyB,GAAGyJ,MAChDgsB,EAAOjjC,MAAMigC,EAAO3G,OACpB2J,EAAOhnB,QAAQ7G,MAGnBwtB,EACAvqB,EAAKkX,gBACDle,MAAOsxB,EACPp9B,MAAO06B,EAAOn0B,QAAQ,IAAMzM,GAAMoD,KAAKsU,IAAiB,KAAKtU,KAAKpD,GAAMoD,KAAKsU,MAE1E8rB,IACPxqB,EAAKkX,gBACDle,MAAOsxB,EACPp9B,MAAO47B,EAAc1+B,KAAKpD,GAAMoD,KAAKuU,SAKrDgY,oBAAqB,WACjB,GAAI3W,GAAO1Y,IACP0Y,GAAK6J,oBACL7J,EAAKkX,eAAiB,OAG9BpL,0BAA2B,WACvB,GAAI9L,GAAO1Y,IACX0Y,GAAK2W,sBACD3W,EAAK6J,mBAAqB7J,EAAK6J,kBAAkBzQ,SACjD4G,EAAK6J,kBAAkB7I,UAE3BhB,EAAK6J,kBAAoB,MAE7BihB,wBAAyB,WAAA,GAGbC,GAFJ/qB,EAAO1Y,IACP0Y,GAAKzX,QAAQ+hB,YACTygB,EAAmB/qB,EAAK1L,MAAM9C,SAAS9B,SAAS,IAAMsO,IACtD+sB,EAAiB/kC,SACjBga,EAAKqO,QAAQ,UAAW,WACpB,OAAS5iB,SAAUs/B,EAAiB7iC,SAExC6iC,EAAiBt4B,UAEhBuN,EAAKM,YAAeN,EAAKM,WAAW2b,OAAOj2B,SAC5C+kC,EAAmBjmC,EAAEkb,EAAK2M,uBAAuBhd,YAAYqQ,EAAK1L,OAClE0L,EAAKqO,QAAQ,UAAW,WACpB,OACI5iB,SAAUs/B,EAAiB7iC,MAC3B6O,gBAMpBi0B,iBAAkB,SAAUvyB,GACxB,GAAmJwyB,GAA/IjrB,EAAO1Y,KAAM4jC,EAAiB,0BAA2BC,EAAY,eAAiBD,EAAiB,WAAY3gB,EAAYvK,EAAKuK,SACpIvK,GAAKzX,QAAQmhB,YAAc1J,EAAKiB,QAAQ9L,GAAG,cAC3C81B,EAAWjrB,EAAK1L,MAAM9C,SAAS9B,SAAS,IAAMw7B,GAC9ClrB,EAAKiN,wBAA0BvgB,GAAMsT,EAAKgrB,iBAAkBhrB,GACvDA,EAAKM,YAAeN,EAAKM,WAAW2b,OAAOj2B,OAarCilC,EAAS,KAChBA,EAASx4B,SACL8X,GACAA,EAAU/J,OAAO,SAAUR,EAAKiN,2BAf/Bge,EAAS,KACVA,EAAWnmC,EAAEqmC,GAAW3/B,SAASwU,EAAK1L,MAAM9C,UACxC+Y,GACAA,EAAU9J,KAAK,SAAUT,EAAKiN,0BAGlCjN,EAAKhQ,QACLi7B,EAAS9kC,MAAM6Z,EAAKhQ,MAAM7J,SACrBilC,MAAMC,WAAW5yB,EAAY,MAC9BuH,EAAKrU,QAAQ8M,WAAWA,KASpCuH,EAAKsR,8BACDtR,EAAKtG,cAA8C,IAA9BsG,EAAK1L,MAAM,GAAGmQ,cACnCzE,EAAK1L,MAAM,GAAG/N,MAAMJ,MAAQ,SAIxCmrB,4BAA6B,WACzB,GAAIhqB,KAAKiB,QAAQmhB,YAAcpiB,KAAKoS,aAAc,CAC9C,GAAqb4xB,GAAjb7xB,EAAcnS,KAAK0I,MAAMwB,SAAUod,EAAanV,EAAYjI,SAAU+5B,EAAejkC,KAAK2Z,QAAQ,GAAGwD,YAAanV,EAAShI,KAAK8hB,UAAW/H,EAAYra,GAAM6S,QAAQwH,YAAanP,EAAO5K,KAAKoS,aAAa7N,KAAK,2DAA4D2/B,EAAgB/xB,EAAY5N,KAAK,qDAAsD1F,EAAQ8L,EAAaC,GAAOu5B,EAAqBx5B,EAAau5B,EACjal8B,GAAS,IACTnJ,GAAS8U,GAAW3T,KAAKoS,aAAa7N,KAAK,wBAA0ByD,GAErEnJ,GAASolC,IACTplC,EAAQolC,EAAe,EAAIlqB,GAE/B/Z,KAAKoS,aAAa5O,IAAIxD,KAAKoE,eAAevF,MAAMA,GAChDyoB,EAAW,GAAGroB,MAAMJ,MAAQyoB,EAAWpd,SAASrL,QAAUA,EAAQ,EAAI,KACtEsT,EAAY3O,IAAIxD,KAAKgN,OAAOnO,MAAMslC,GAC9BnkC,KAAKuiB,oBAAsB/J,KAC3ByrB,GAAgBlqB,GAEpB/Z,KAAKqE,QAAQ,GAAGpF,MAAMJ,MAAQolC,EAAeplC,EAAQ,EAAI,KACrDmB,KAAKwlB,cAAgBxlB,KAAKwlB,aAAa9mB,SACvCsB,KAAKwlB,aAAa3mB,MAAMA,GACxBmlC,EAAahkC,KAAKulB,OAAOhhB,KAAK,uBAC9By/B,EAAW,GAAG/kC,MAAMJ,MAAQyoB,EAAW,GAAGnK,YAAc,KACxD6mB,EAAW57B,WAAW6R,QAAQpb,MAAMslC,MAIhDjjB,kBAAmB,WAAA,GAiBPkjB,GAhBJ1rB,EAAO1Y,KAAMiB,EAAUyX,EAAKzX,QAASnC,EAAS4Z,EAAKiB,QAAQ+B,cAAeyN,EAASzQ,EAAKiB,QAAQvR,SAAS,kBAAmB2R,EAAYra,GAAM6S,QAAQwH,YACtJsqB,GAAoBpjC,EAAQmhB,gBAAkBtjB,MAC9CmC,GAAQmhB,YAAc1J,EAAKiB,QAAQ9L,GAAG,cACtC/O,GAAU+U,GAAYsV,GAClBzQ,EAAKqL,OAASrL,EAAKqL,MAAMjS,QAAQjE,GAAG,cACpC/O,GAAU+U,GAAY6E,EAAKqL,MAAMjS,UAEjC7Q,EAAQqhB,YACRxjB,GAAU+U,GAAY6E,EAAKiB,QAAQvR,SAAS,wBAE5CnH,EAAQuhB,UACR1jB,GAAU+U,GAAY6E,EAAKiB,QAAQvR,SAAS,qBAE5CsQ,EAAKwM,iBACLpmB,GAAU+U,GAAY6E,EAAKiB,QAAQvR,SAAS,oBAE5Cg8B,EAAkB,SAAUp7B,GAC5B,GAAIs7B,GAAeC,CACnB,SAAIv7B,EAAG,GAAG/J,MAAMH,SAGZwlC,EAAgBt7B,EAAGlK,SAEvBkK,EAAGlK,OAAO,QACVylC,EAAYv7B,EAAGlK,SACXwlC,GAAiBC,GACjBv7B,EAAGlK,OAAO,KACH,IAEXkK,EAAGlK,OAAO,KACH,KAEPslC,EAAgB1rB,EAAKiB,SACjB7a,EAAqB,EAAZib,GACLrB,EAAKtU,gBACL2V,EAAYrB,EAAK1L,MAAM,GAAGlL,YAAc4W,EAAK1L,MAAM9C,SAAS,GAAGiT,YAAcpD,EAAY,EACzFrB,EAAKtU,cAActF,OAAOA,EAASib,IAEvCrB,EAAKrU,QAAQvF,OAAOA,IAEpB4Z,EAAKrU,QAAQvF,OAAmB,EAAZib,EAAgB,GAEjCsqB,GACP3rB,EAAKrU,QAAQZ,IAAI,SAAU4gC,KAIvC7B,kBAAmB,WAAA,GAUXgC,GATA9rB,EAAO1Y,KAAMykC,EAAa/rB,EAAKgO,OAAOhO,EAAK3L,OAAOrO,OAAQ6c,EAAY7C,EAAKgsB,UAC/E,OAAmB,KAAfD,EACOlpB,GAEN7C,EAAKgsB,aACNhsB,EAAKgsB,WAAanpB,EAAY1H,GAAY6E,EAAK1L,OAASy3B,EACxD/rB,EAAKisB,KAAOppB,EACZ7C,EAAKksB,UAAY,GAEjBJ,EAAmB3wB,GAAY6E,EAAK1L,OAASy3B,EAC7ClpB,IAAcipB,IACd9rB,EAAKksB,YACLlsB,EAAKisB,MAAQH,EACb9rB,EAAKgsB,WAAahsB,EAAKisB,KAAOjsB,EAAKksB,WAEhCrpB,IAEXqF,YAAa,WACT,GAAyCgC,GAArClK,EAAO1Y,KAAMiB,EAAUyX,EAAKzX,QAAmB+X,EAAa/X,EAAQ+X,UACxEA,GAAanU,GAAQmU,IAAgBvJ,KAAMuJ,GAAeA,EACtDlU,GAAckU,KACdnZ,GAAOmZ,GACHhM,MAAO0L,EAAK1L,MACZuiB,OAAQ7W,EAAKpT,UAEjBsd,EAAW3hB,EAAQ2hB,SACf9d,GAAc8d,IAAaA,EAAS7E,WAAarb,IACjDsW,EAAW+E,SAAW6E,EAAS7E,WAGnCrF,EAAKM,YAAcN,EAAKG,gBACxBH,EAAKM,WAAWE,OAAOzD,GAAQiD,EAAKG,iBAAiBK,OAAO9E,GAAUsE,EAAKgM,kBAAkBxL,OAAO7E,GAAOqE,EAAKiM,gBAEhHjM,EAAKG,gBAAkBzT,GAAMsT,EAAKI,QAASJ,GAC3CA,EAAKgM,iBAAmBtf,GAAMsT,EAAKmsB,cAAensB,GAClDA,EAAKiM,cAAgBvf,GAAMsT,EAAKosB,OAAQpsB,IAE5CA,EAAKM,WAAa1F,GAAWwM,OAAO9G,GAAYG,KAAK1D,GAAQiD,EAAKG,iBAAiBM,KAAK/E,GAAUsE,EAAKgM,kBAAkBvL,KAAK9E,GAAOqE,EAAKiM,gBAE9ImgB,OAAQ,WACJ9kC,KAAK+kC,WAAU,IAEnBF,cAAe,WACX7kC,KAAK+kC,WAAU,IAEnBnU,aAAc,SAAUtf,GAAV,GACsH0zB,GAAY79B,EAAM1B,EAAuC2H,EAAyEuE,EAAYszB,EAAeC,EAAYC,EAAezmC,EA6BhTy1B,EA7BJzb,EAAO1Y,KAAM+M,EAAQ2L,EAAK3L,MAAO2E,EAAQJ,EAAEI,MAAOvI,EAAMuP,EAAK3L,MAAMxI,KAAK,MAAQ7E,GAAMoD,KAAK,OAAS,IAAM4O,EAAM/L,IAAM,KAAgC0uB,EAAQlrB,EAAIF,SAAS,SAAelF,EAAM2U,EAAKgO,OAAO3Z,GAAOjD,MAAMX,GAAMyf,EAAWlQ,EAAKtU,aAInP,IAHIwkB,IACAoc,EAAatsB,EAAKmX,YAAY1mB,IAE9BA,EAAI3F,IAAIwhC,GAAY58B,SAAS,gBAAgB1J,SAAWga,EAAKzX,QAAQ6hB,YACrE3Z,EAAI3F,IAAIwhC,GAAY58B,SAAS,yCAAyC4e,KAAK,WACvE7f,EAAO3J,EAAEwC,MACTyF,EAASsD,EAAY2P,EAAKpT,SAASoT,EAAKkV,UAAUzmB,IAC9C1B,EAAOG,QAAU0L,EAAE1L,QACduB,EAAK8B,SAAS,eAGf9B,EAAK6a,SAAS,gBAFdtJ,EAAKqY,aAAa5pB,EAAM1B,EAAQiM,UAMzC,KAAKvI,EAAIF,SAAS,mBAAoB,CAiCzC,IAhCAg8B,EAAgBznC,IAAIgG,IAAI2F,GACpByf,IACAxb,GAAOinB,EAAQ3b,EAAKuM,qBAAuBvM,EAAKsM,mBAAmBtT,GACnEuzB,EAAgBA,EAAczhC,IAAIwhC,GAClCA,EAAW1Q,YAAYlnB,IAE3BsL,EAAKqO,QAAQ,UAAW,WACpB,OAAS5iB,SAAU8gC,EAAcrkC,SAErCwM,GAAOinB,EAAQ3b,EAAKqK,eAAiBrK,EAAKoK,aAAapR,GACvDvI,EAAImrB,YAAYlnB,GAChBA,EAAMsL,EAAKgO,OAAO3Z,GAAO9I,GAAGF,GACxBowB,IAAiBlD,SAAUvf,IAC3BkX,IACAzf,EAAMA,EAAI3F,IAAIwhC,GACdA,EAAatsB,EAAKmX,YAAYziB,GAAK,GACnCuD,GAAgBvD,EAAI,GAAI43B,GACxB53B,EAAMA,EAAI5J,IAAIwhC,GACd7Q,EAAYh2B,MAAO8yB,SAAUvf,KAEjCgH,EAAKqO,QAAQ,UAAW,WACpB,OACI5iB,SAAUiJ,EAAIxM,MACd6O,KAAM0kB,KAGdxiB,EAAa+G,EAAKzX,QAAQ0Q,YACrBA,GAAc+G,EAAK6b,qBAAuBprB,EAAIF,SAAS,qBACxDyP,EAAK8b,OAAOpnB,GAEhB+3B,EAAgBF,EAAc78B,SAAS,yCACvC88B,EAAa93B,EAAIhF,SAAS,yCACrBrE,EAAM,EAAGrF,EAASga,EAAKpT,QAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACtD0B,EAASiT,EAAKpT,QAAQvB,GACtBoD,EAAO+9B,EAAWjhC,GAAGF,GACjB4N,GAAcwzB,EAAclhC,GAAGF,GAAKkF,SAAS,qBAC7C9B,EAAK6a,SAAS,mBAGtBtJ,GAAK4D,QAAQ,cACT5N,KAAMtB,EACNqC,KAAMiC,EACNsf,GAAI3d,OAIhByN,UAAW,WACP,GAAiBnH,GAAbjB,EAAO1Y,KAAe4iB,EAAWlK,EAAKzX,QAAQ2hB,QAC9CA,KACAjJ,EAAUjB,EAAKiB,QAAQvR,SAAS,oBAC3BuR,EAAQjb,SACTib,EAAUnc,EAAE,4CAA4C0G,SAASwU,EAAKiB,UAEtEjB,EAAKqL,OACLrL,EAAKqL,MAAMrK,UAGXhB,EAAKqL,MADe,gBAAbnB,IAAyBA,YAAoBljB,IAAM2T,GAAG+xB,MAChDxiB,EAEA,GAAIljB,IAAM2T,GAAG+xB,MAAMzrB,EAAS9Z,MAAW+iB,GAAY5J,WAAYN,EAAKM,cAErFN,EAAKqL,MAAM5K,KAAK,aAAc,SAAU7H,GAChCoH,EAAK4D,QAAQ,QAAUsD,KAAMtO,EAAExH,SAC/BwH,EAAEC,qBAKlBwQ,QAAS,WAAA,GACgIiiB,GAIzH52B,EAsCAzE,EA1CR+P,EAAO1Y,KAAM6P,EAAa6I,EAAKM,WAAWnJ,aAAc5C,EAAO,GAAIiY,EAAiBxM,EAAKwM,eAAgBjkB,EAAUyX,EAAKzX,QAAqBskB,EAAS7M,EAAK6M,QAAU7M,EAAKiB,QAAQpV,KAAK,iBACvL2gB,IACAjY,EAAOzP,EAAEkb,EAAK2sB,YAAYngB,EAAerV,KACrC0V,EAAO7mB,QACH0O,EAAMH,EACVyL,EAAKqO,QAAQ,UAAW,WACpB,OAAS5iB,SAAUohB,EAAO3kB,SAE9B2kB,EAAO+O,YAAYlnB,GACnBmY,EAAS7M,EAAK6M,OAASnY,GAGnBmY,EAAS7M,EAAK6M,OADdtkB,EAAQmhB,WACenhB,EAAQ2hB,SAAW3V,EAAKsB,aAAamK,EAAKiB,QAAQvR,SAAS,qBAAuB6E,EAAK/I,SAASwU,EAAKiB,SAErG1M,EAAKsB,aAAamK,EAAK3L,OAGtD2L,EAAKqO,QAAQ,UAAW,WACpB,OACI5iB,SAAUohB,EAAOhhB,KAAK,4CAA4C3D,MAClE6O,KAAMnP,GAAIoY,EAAKpT,QAAS,SAAUujB,GAC9B,OACIpjB,OAAQojB,EACR7C,UAAWnW,EAAWgZ,EAAIjjB,cAKnC2f,IAAW7M,EAAK6M,SACvB7M,EAAK6M,OAASA,GAEdA,EAAO7mB,SACHuC,EAAQmhB,aACR4hB,EAAaze,EAAOziB,KAAK,eAAgBsF,SAAS,uBAClDsQ,EAAK4M,YAAc9nB,EAAEkb,EAAK4M,YAAYhhB,OAAO,WACzC,OAAQ9G,EAAEwC,MAAM6N,GAAG,yBACpB5G,WAAWzD,IAAIwgC,IAElBtrB,EAAKiR,cACLpE,EAAOhhB,KAAK,SAASd,IAAI,QAASiV,EAAKiR,cAEvCqa,IACIr7B,EAAS+P,EAAKrU,QAAQ8M,aACtBlQ,EAAQmhB,cAAe,GAAQnhB,EAAQmhB,WAAWC,UAClD1Z,EAAS+P,EAAKiB,QAAQpV,KAAK,8BAA8B4M,cAE7D6yB,EAAW7yB,WAAWxI,KAG1B+P,EAAKtU,gBACLsU,EAAK4sB,4BACL5sB,EAAKsR,8BACLtR,EAAKuX,4BAGboV,YAAa,SAAUE,GACnB,GAAI7sB,GAAO1Y,KAAMiN,EAAO,GAAI8M,EAAara,GAAM6S,QAAQwW,SAAuC,EAA5BrpB,GAAM6S,QAAQwH,WAChF,OAAIrB,GAAKzX,QAAQmhB,YACbnV,EAAOzP,EAAE,qEAAuE+a,GAAQ,mBAAqB,IAAM,WAAagtB,EAAY,gCAC5I7sB,EAAK8sB,YAAYv4B,EAAK1I,KAAK,UAC3B0I,EAAKxJ,IAAI6U,GAAQ,eAAiB,gBAAiByB,GAC5C9M,GAEJ,gCAAkCs4B,EAAY,YAEzDE,YAAa,WAAA,GACQC,GAA2CjgC,EAAiEkgC,EAAajjB,EAAUD,EAAY3Z,EA6CnJ/E,EAASrF,EAEVyI,EA/CRuR,EAAO1Y,KAAYsF,EAAUyD,EAAY2P,EAAKpT,SAAkBrE,EAAUyX,EAAKzX,QAASkiB,EAAaliB,EAAQkiB,WAAsDyiB,EAAwB7+B,GAAK2R,EAAKpT,QAAS,SAAUoJ,GACpN,MAAOA,GAAKpJ,UAAY5C,IACzBhE,OAAS,EAAGoqB,EAAW9oB,KAAKsmB,UAAWuf,EAAe,SAAUv0B,GAC/DoH,EAAK4D,QAAQjH,IACTzP,MAAO0L,EAAE1L,MACTnB,UAAW6M,EAAE7M,aAElBqhC,EAAe,SAAUx0B,GACxBoH,EAAK4D,QAAQ/G,IACT3P,MAAO0L,EAAE1L,MACTnB,UAAW6M,EAAE7M,aAElBshC,EAAgB,SAAUj0B,GACzBb,GAAWa,EAAQ3F,QAAQ,UAAU,IACtC65B,EAAc,SAAU10B,GACnBoH,EAAK4D,QAAQ,QAAUle,KAAMkT,EAAElT,OAC/BkT,EAAEC,kBAEFmH,EAAK2W;AACD3W,EAAKM,WAAW/X,QAAQ22B,UACxBlf,EAAKM,WAAW/X,QAAQ22B,QAAU,KAClClf,EAAKmf,iBAAmBnf,EAAKM,WAAW/X,QAAQ8c,SAChDrF,EAAKM,WAAW+E,SAASrF,EAAKM,WAAW/X,QAAQ8c,aAG1DkoB,EAAgB,SAAU30B,GACrBoH,EAAK4D,QAAQ,UACThY,OAAQgN,EAAEhN,OACVsB,MAAO0L,EAAE1L,QAEb0L,EAAEC,kBAEFmH,EAAK2W,sBACD3W,EAAKM,WAAW/X,QAAQ22B,UACxBlf,EAAKM,WAAW/X,QAAQ22B,QAAU,KAClClf,EAAKmf,iBAAmBnf,EAAKM,WAAW/X,QAAQ8c,SAChDrF,EAAKM,WAAW+E,SAASrF,EAAKM,WAAW/X,QAAQ8c,aAG1DmI,EAAWjlB,EAAQilB,QAC1B,IAAI/C,EAKA,IAJyB,iBAAdA,KACPA,MAEJra,EAAQ2C,EAAciN,EAAKhQ,OAClB3E,EAAM,EAAGrF,EAASoK,EAAMpK,OAAQqF,EAAMrF,EAAQqF,IACnD0B,EAASH,EAAQvB,GACboD,EAAO2B,EAAM7E,GAAGF,GACf0B,EAAOd,UAAYc,EAAOG,QAASuB,EAAKrE,KAAK,QAAUpD,GAAMsxB,GAAK,WACnE0U,EAAOv+B,EAAKsI,KAAK,mBACbi2B,GACAA,EAAKhsB,UAETgJ,EAAWjd,EAAOid,YAAa,GAASS,EAAWT,YAAa,GAASzhB,EAAQyhB,YAAa,GAAQ7iB,MAAWoB,EAAQyhB,UAAYwjB,SAAUzgC,EAAOid,cAAgBwjB,UACtKzjB,KAAaxhB,EAAQwhB,YAAchd,EAAOgd,cAAe,GAASU,EAAWV,cAAe,IAAQ5iB,IAASglB,KAAMnM,EAAKmM,MAAQ5jB,EAAQwhB,WAAYhd,EAAOgd,YACvJhd,EAAOgd,YAAchd,EAAOgd,WAAWzJ,aACvCyJ,EAAW0jB,aAAc,EACzB1jB,EAAW2jB,YAAc3gC,EAAOgd,WAAWzJ,YAE3CyJ,IACAA,EAAW7U,OAASnI,EAAOmI,QAE/B+3B,GACI3sB,WAAYN,EAAKM,WACjByW,OAAQhqB,EAAOgqB,OACfnqB,QAAS6d,EAAW7d,QACpBod,SAAUA,EACVD,WAAYA,EACZc,SAAUJ,EAAWI,SACrB8iB,MAAO3tB,EACPqtB,cAAeA,EACfjmC,KAAM+lC,EACN3S,KAAM4S,EACNjhB,KAAMnM,EAAKmM,KACXzmB,KAAM4nC,EACNM,UAAWL,EACX3hC,OAAQwkB,EAAW,yBAA2B,GAC9CvhB,eAAgBq+B,GAAyBngC,EAAO0lB,YAAa,GAAS5jB,EAAcjC,GAAS5G,OAAS,GAEtGwnB,IACAyf,EAAYzf,SAAWA,GAE3B/e,EAAKo/B,gBAAgBZ,KAKrCa,aAAc,WACV,MAAOxmC,MAAK0I,MAAMnE,KAAK,MAAMD,OAAO,WAChC,GAAIgK,GAAK9Q,EAAEwC,KACX,QAAQsO,EAAGrF,SAAS,kBAAoBqF,EAAGrF,SAAS,uBAG5Dw9B,YAAa,WAAA,GAC6Cxf,GAAYne,EAAO3B,EAgC5DpD,EAASrF,EAWNgoC,EACAzlC,EA5CZyX,EAAO1Y,KAAMsF,EAAUyD,EAAY2P,EAAKpT,SAAmCqhC,EAAa,SAAUr1B,GAC9FoH,EAAK4D,QAAQlH,IACTxP,MAAO0L,EAAE1L,MACTnB,UAAW6M,EAAE7M,aAElBshC,EAAgB,SAAUj0B,GACzBb,GAAWa,EAAQ3F,QAAQ,UAAU,IACtC85B,EAAgB,SAAU30B,GACrBoH,EAAK4D,QAAQ,UACThY,OAAQgN,EAAEhN,OACVsB,MAAO0L,EAAE1L,QAEb0L,EAAEC,kBAEFmH,EAAK2W,sBACD3W,EAAKM,WAAW/X,QAAQ22B,UACxBlf,EAAKM,WAAW/X,QAAQ22B,QAAU,KAClClf,EAAKmf,iBAAmBnf,EAAKM,WAAW/X,QAAQ8c,SAChDrF,EAAKM,WAAW+E,SAASrF,EAAKM,WAAW/X,QAAQ8c,aAG1D6oB,EAAa,SAAUt1B,GACtBoH,EAAK4D,QAAQhH,IACT1P,MAAO0L,EAAE1L,MACTnB,UAAW6M,EAAE7M,aAElBge,EAAa/J,EAAKzX,QAAQwhB,UAIjC,IAHIA,SAAqBA,GAAWyL,MAAQ7qB,IAAUof,EAAWyL,KAAKpjB,QAAQ,cAC1E2X,GAAa,GAEbA,IAAe/J,EAAKzX,QAAQkiB,WAE5B,IADAra,EAAQ2C,EAAciN,EAAKhQ,OAClB3E,EAAM,EAAGrF,EAASoK,EAAMpK,OAAQqF,EAAMrF,EAAQqF,IACnDoD,EAAO2B,EAAM7E,GAAGF,GACZuB,EAAQvB,GAAK0e,cAAe,GAAUnd,EAAQvB,GAAKY,UAAYW,EAAQvB,GAAK6B,QAASuB,EAAKrE,KAAK,QAAUpD,GAAMsxB,GAAK,WACpH/J,EAAa9f,EAAKsI,KAAK,mBACnBwX,GACAA,EAAWvN,UAEfuN,EAAa9f,EAAKsI,KAAK,yBACnBwX,GACAA,EAAWvN,UAEXgtB,EAAmBphC,EAAQvB,GAAK0e,WAChCxhB,EAAUpB,MAAW4iB,EAAYikB,GACjC1tB,WAAYN,EAAKM,WACjByW,OAAQnqB,EAAQvB,GAAK0rB,OACrB7hB,OAAQtI,EAAQvB,GAAK6J,OACrBm4B,cAAeA,EACftb,MAAOnlB,EAAQvB,GAAK0mB,OAASnlB,EAAQvB,GAAK6B,MAC1C9F,KAAM6mC,EACNzT,KAAM0T,EACN/hB,KAAMnM,EAAKmM,KACXwG,OAAQ4a,IAERS,GAAoBA,EAAiBnjB,WACrCtiB,EAAQsiB,SAAW1jB,IAAO,KAAU4iB,EAAWc,SAAUmjB,EAAiBnjB,WAE1EmjB,GAAoBA,EAAiB1tB,aACrC/X,EAAQklC,aAAc,EACtBllC,EAAQmlC,YAAcM,EAAiB1tB,YAEvC0tB,GAAoBA,EAAiBvO,MACrChxB,EAAK0/B,sBAAsB5lC,GAE3BkG,EAAK2/B,gBAAgB7lC,KAMzC8lC,WAAY,WAAA,GAKJ5V,GACAjL,EACA5gB,EAAqCmd,EAAsCukB,EAA8Cf,EAgBpHznC,EACDyoC,EAAmBpe,EAAkBqe,EAA+CC,EAA0B74B,EAAiB1I,EAM3HwhC,EAKA7jB,EAlCR7K,EAAO1Y,IACX,IAAK0Y,EAAK6T,gBAqBV,IAjBIrG,EAAWxN,EAAKzX,QAAQilB,SACxB5gB,EAAUyD,EAAY2P,EAAKpT,SAAUmd,EAAa/J,EAAKzX,QAAQwhB,WAAYukB,EAAYtuB,EAAKhQ,MAAMnE,KAAK,iBAAkB0hC,EAAgB,SAAU30B,GAC3IoH,EAAK4D,QAAQ,UACThY,OAAQgN,EAAEhN,OACVsB,MAAO0L,EAAE1L,QAEb0L,EAAEC,kBAEFmH,EAAK2W,sBACD3W,EAAKM,WAAW/X,QAAQ22B,UACxBlf,EAAKM,WAAW/X,QAAQ22B,QAAU,KAClClf,EAAKmf,iBAAmBnf,EAAKM,WAAW/X,QAAQ8c,SAChDrF,EAAKM,WAAW+E,SAASrF,EAAKM,WAAW/X,QAAQ8c,aAIjE/d,KAAKqnC,cAAcrnC,KAAKgZ,WAAW+M,QAAQrnB,QAClCF,EAAI,EAAGA,EAAI8G,EAAQ5G,OAAQF,IAMhC,GALuBqqB,EAAMvjB,EAAQ9G,GAAI0oC,EAAYxuB,EAAKzX,QAAQwhB,WAAWykB,UAAWC,GAAmB,EAAO74B,EAAK9Q,EAAE,SAAUoI,EAAQijB,EAAIjjB,MAC3IijB,EAAInjB,QACJ4I,EAAG9I,OAEPwhC,EAAUt9B,OAAO4E,GACb1I,GAASijB,EAAIpG,cAAe,EAAO,CAUnC,GATI2kB,EAAcve,EAAIpG,YAAcoG,EAAIpG,WAAWtb,SACnD8/B,EAAoBvuB,EAAKzX,QAAQ+X,WAC7BiuB,YAA6B3zB,MAC7B2zB,EAAoBvuB,EAAKzX,QAAQ+X,WAAW/X,SAE5CsiB,EAAW1jB,IAAO,KAAU4iB,EAAWc,UACvCsF,EAAIpG,YACJ5iB,IAAO,EAAM0jB,EAAUsF,EAAIpG,WAAWc,UAEtC6jB,EAAY7P,WAAY,EAAO,CAC/BjpB,EAAGrB,KAAK,SACR,UAEAm6B,EAAYpuB,aACZiuB,EAAoBG,EAAYpuB,WAChCmuB,GAAmB,GAEnBte,EAAIpG,YAAcoG,EAAIpG,WAAWykB,YACjCA,EAAYre,EAAIpG,WAAWykB,WAE/B/V,GACI1rB,OAAQojB,EACR7P,WAAYN,EAAKM,WACjBiuB,kBAAmBA,EACnBE,iBAAkBA,EAClBvhC,MAAOA,EACP2d,SAAUA,EACVkM,OAAQ5G,EAAI4G,OACZ8B,SAAU6V,EAAY7V,SACtB+V,MAAOF,EAAYE,MACnBC,WAAYH,EAAYG,WACxBC,mBAAoBJ,EAAYI,mBAChCC,UAAWL,EAAYK,UACvBC,cAAeN,EAAYM,cAC3BC,SAAUP,EAAYO,SACtBT,UAAWA,EACXU,cAAeR,EAAYQ,cAC3Bvc,OAAQ4a,GAER/f,IACAiL,EAASjL,SAAWA,GAExB1oB,EAAE,WAAWsF,KAAKpD,GAAMoD,KAAK,SAAU8C,GAAO1B,SAASoK,GAAIu5B,gBAAgB1W,OAE3E7iB,GAAGrB,KAAK,WAIpB66B,UAAW,WAAA,GAC+CriC,GAAQsiC,EAAgB5gC,EAQtE2B,EACK/E,EAASrF,EATlBga,EAAO1Y,KAAMsF,EAAUyD,EAAY2P,EAAKpT,SAAwCod,EAAWhK,EAAKzX,QAAQyhB,SAAUsjB,EAAc,SAAU10B,GAClIoH,EAAK4D,QAAQ,QAAUle,KAAMkT,EAAElT,OAC/BkT,EAAEC,iBAEFmH,EAAK2W,sBAGjB,IAAI3M,EAAU,CAEV,IADI5Z,EAAQ2C,EAAciN,EAAKhQ,OACtB3E,EAAM,EAAGrF,EAASoK,EAAMpK,OAAQqF,EAAMrF,EAAQqF,IACnD0B,EAASH,EAAQvB,GACb0B,EAAOid,YAAa,IAAUjd,EAAOd,SAAWc,EAAOG,QACvDuB,EAAO2B,EAAM7E,GAAGF,GAChBgkC,EAAiB5gC,EAAKsI,KAAK,qBACvBs4B,GACAA,EAAeruB,UAEnBvS,EAAKrE,KAAK,QAAUpD,GAAMsxB,GAAK,QAASvrB,EAAOG,OAAOoiC,kBAAkBnoC,MAAW6iB,EAAUjd,EAAOid,UAChG1J,WAAYN,EAAKM,WACjBuf,MAAM,EACNj0B,OAAQ,yBACR+mB,OAAQ2a,KAIpBl9B,GAAQ,OAGhB6X,SAAU,SAAUrb,GAAV,GAC+BC,GAAmC60B,EAqBhE6N,EArBJvvB,EAAO1Y,KAAMgN,EAAQ0L,EAAK1L,MAAgBpC,EAAOoC,EAAMzI,KAAK,OAAoByU,EAAaN,EAAKzX,QAAQ+X,UAoB9G,IAnBA1T,EAAUA,EAAQ5G,OAAS4G,EAAUhF,GAAI0M,EAAMzI,KAAK,MAAO,SAAU+J,EAAIvK,GACrEuK,EAAK9Q,EAAE8Q,EACP,IAAIoU,GAAWpU,EAAGxL,KAAKpD,GAAMoD,KAAK,aAAc2f,EAAanU,EAAGxL,KAAKpD,GAAMoD,KAAK,eAAgBguB,EAAOxiB,EAAGxL,KAAKpD,GAAMoD,KAAK,SAAUwf,EAAYhU,EAAGxL,KAAKpD,GAAMoD,KAAK,cAAe8C,EAAQ0I,EAAGxL,KAAKpD,GAAMoD,KAAK,UAAW2nB,EAAQnc,EAAGxL,KAAKpD,GAAMoD,KAAK,UAAW4iC,EAAOp3B,EAAGxL,KAAKpD,GAAMoD,KAAK,QAIxR,OAHK8C,KACDA,EAAQ0I,EAAG5Q,OAAOE,QAAQ,gBAAiB,MAG3CgI,MAAOA,EACPkrB,KAAMA,EACNrG,MAAOA,EACP/H,SAAuB,UAAbA,EACVD,WAA2B,UAAfA,EACZH,UAAyB,UAAdA,EACXojB,KAAMA,EACNnU,SAAUjjB,EAAGxL,KAAKpD,GAAMoD,KAAK,aAC7BjE,MAAO+L,EAAK3G,GAAGF,GAAKN,IAAI,YAGhC8B,IAAYmT,EAAK1L,MAAMzI,KAAK,YAAY7F,OAAS,KAAOsa,IAAeA,EAAWiN,YAC9EvN,EAAKzX,QAAQmhB,WAAY,CAIzB,GAHI6lB,EAAiB3iC,EACrB80B,EAAa7yB,EAAcjC,GAC3BA,EAAUmC,EAAiBnC,GACvB80B,EAAW17B,OAAS,GAAwB,IAAnB4G,EAAQ5G,OACjC,KAAUm4B,OAAM,iDAEpB1oB,GAAqBuK,EAAK5G,QAAQvN,KAAK,oBAAqB0jC,GAC5D3iC,EAAU80B,EAAWzwB,OAAOrE,GAEhCoT,EAAKpT,QAAUD,EAAiBC,EAASC,GACrC/H,EAAEuJ,KAAKgC,EAAY2P,EAAKpT,SAAU,SAAUujB,GACxC,MAAOA,GAAIlX,aACZjT,SACCga,EAAKzX,QAAQ4hB,mBACbnK,EAAKwL,iBAETxL,EAAK6b,oBAAqB,EAC1B7b,EAAKiB,QAAQ1U,GAAGC,GAAQC,GAAI,cAAgBsR,GAAerR,GAAMsT,EAAKwvB,eAAgBxvB,IACtFA,EAAKiB,QAAQ1U,GAAGC,GAAQC,GAAI,cAAgBsR,GAAerR,GAAMsT,EAAKyvB,qBAAsBzvB,MAGpGyvB,qBAAsB,SAAU72B,GAC5B,GAAIoH,GAAO1Y,KAAMooC,EAAW5qC,EAAE8T,EAAEzJ,QAAS6zB,EAAU0M,EAAS5M,KAAK,WAAY6M,EAAaD,EAASj8B,QAAQ,oBAAoBm8B,cAC3H5vB,KAAS2vB,IAGT3M,EACAhjB,EAAK8b,OAAO6T,EAAW14B,SAEvB+I,EAAK2iB,mBAGb6M,eAAgB,SAAU52B,GACtB,GAAIoH,GAAO1Y,KAAMmJ,EAAM3L,EAAE8T,EAAEzJ,QAAQsE,QAAQ,MAAOo8B,GAAep/B,EAAIF,SAASsN,GAC1EmC,KAASvP,EAAIgD,QAAQ,oBAAoBm8B,iBAGzCC,EACA7vB,EAAK8b,OAAOrrB,GAEZuP,EAAK4iB,mBAAmBnyB,KAGhC2Y,QAAS,WACL,GAAIiE,GAAQ/lB,KAAKgZ,WAAW+M,OAC5B,OAAOA,GAAQA,EAAMrnB,OAAS,GAElC8pC,MAAO,SAAU1lB,EAAaxd,EAASmjC,EAAKC,GAArC,GACoH3kC,GAA8BwtB,EAG9I9rB,EAAQqrB,EAEXlrB,EALA8S,EAAO1Y,KAAMmxB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,kBAAmBsX,EAAYxX,EAASwX,UAAgBjqC,EAAS4G,EAAQ5G,OAAkBuQ,GACvJiiB,WACAluB,MAAO,GACM0K,EAAagL,EAAKyO,cAAe9X,KAAgBrH,EAAS0Q,EAAKoJ,UAAWnP,EAAc+F,EAAKzX,QAAQ0R,YACtHi2B,EAAYlpC,GAAMoD,KAAK,SAEvB+lC,EAAoB,EACxB,KAAK/lB,EAAa,CAqBd,IApBAA,EAAc,MACV2lB,GACAp5B,EAAUlR,KAAK,SAEfuP,GACA2B,EAAUlR,KAAK,gBAEfkR,EAAU3Q,SACVokB,GAAe,WAAazT,EAAUhR,KAAK,KAAO,KAElDK,IACAokB,GAAe,IAAMpjB,GAAMoD,KAAK,OAAS,OAASpD,GAAMopC,KAAK,MAAO3X,EAASwX,WAAa,MAE9F7lB,GAAe,eACX9a,EAAS,IAAM0gC,IACf5lB,GAAe/f,EAAWiF,IAE1B0F,IACAoV,GAAe,8FAAgG5P,GAAY,KAAO4E,GAAS,6BAE1I/T,EAAM,EAAGA,EAAMrF,EAAQqF,IACxB0B,EAASH,EAAQvB,GACjBwtB,EAAW9rB,EAAO8rB,SAClBT,QAAcS,GACd3rB,EAAQH,EAAOG,MACX8S,EAAKsV,cAAgBzW,IAAU3R,IAC/BH,EAAOtC,WAAasC,EAAOtC,eACvBuV,EAAK6J,oBACL9c,EAAOtC,WAAWylC,GAAahjC,GAEnCijC,EAAoBnwB,EAAKqwB,mBAAmBnjC,EAAO+iC,GACnDljC,EAAOtC,WAAW,SAAWsC,EAAOtC,WAAW,UAAY,GACvDsC,EAAOtC,WAAW,SAAS2H,QAAQ+9B,GAAqB,IACxDpjC,EAAOtC,WAAW,UAAY0lC,IAGlCpjC,EAAOd,UACPc,EAAOtC,WAAasC,EAAOtC,eACe,IAA/BsC,EAAOtC,WAAW,SACzBsC,EAAOtC,WAAW,UAAY,kBAE9BsC,EAAOtC,WAAW,SAAW,kBAGrC2f,GAAe,MAAQ5f,EAAoBuC,EAAOtC,YAC9CwP,IACAmQ,GAAe,sBAAyBrd,EAAOO,iBAAiBE,GAAK,KAEzE4c,GAAe,oBACfA,GAAepK,EAAK8Y,UAAU/rB,EAAQwJ,GACtC6T,GAAe,OAEnBA,IAAe,QAGnB,MADAA,GAAcpjB,GAAM6xB,SAASzO,EAAaqO,GACtCliB,EAAMjM,MAAQ,EACPoC,GAAM0d,EAAa7T,EAAMiiB,SAE7BpO,GAEXimB,mBAAoB,SAAUnjC,EAAO+iC,GACjC,GAAIK,EACJ,OAAIpjC,IAAS+iC,GACTK,EAAiC,MAApBpjC,EAAMqjC,OAAO,GAAavpC,GAAMopC,KAAKljC,EAAO+iC,EAAY,gBAAkBA,EAAY,iBAAoB/iC,EAAQ,KACxH,MAAQ+iC,EAAY,OAASA,EAAY,aAAeA,EAAY,mBAAqBK,EAAa,6BAE1G,IAEXE,gBAAiB,SAAUzjC,GACvB,GAAIiT,GAAO1Y,KAAMmxB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,kBAAmBE,EAAW9rB,EAAO0jC,eAAgBrY,QAAcS,GAAU7zB,EAAO+H,EAAOglB,OAAShlB,EAAOG,OAAS,EAMxL,OALIkrB,KAAS5Z,GACTxZ,EAAOgC,GAAM6xB,SAASA,EAAUJ,OACzBL,IAASztB,KAChB3F,EAAO6zB,GAEJ7zB,GAEX8zB,UAAW,SAAU/rB,EAAQwJ,GACzB,GAAoLlL,GAAKrF,EAArLga,EAAO1Y,KAAMmxB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,kBAAmBE,EAAW9rB,EAAO8rB,SAAUoX,EAAYxX,EAASwX,UAAW/iC,EAAQH,EAAOG,MAAOqH,EAAO,GAAiBW,EAASnI,EAAOmI,OAAQkjB,QAAcS,GAAU3iB,EAAenJ,EAAOgqB,MACvQ,IAAIhqB,EAAOd,QAAS,CAChB,GAAIE,GAAQY,EAAOd,SAAU,CACzB,IAAKZ,EAAM,EAAGrF,EAAS+G,EAAOd,QAAQjG,OAAQqF,EAAMrF,EAAQqF,IAEpDkJ,GADAxH,EAAOd,QAAQZ,GAAK0C,QACZ/G,GAAMkO,OAAO,2BAAgCnI,EAAOd,QAAQZ,GAAK0C,QAASiS,EAAKga,cAAcjtB,EAAOd,QAAQZ,IAAMnG,QAAQoa,GAAoB,QAE9IU,EAAKga,cAAcjtB,EAAOd,QAAQZ,IAAMnG,QAAQoa,GAAoB,MAGpF,OAAO/K,GAEX,MAAOyL,GAAKga,cAAcjtB,EAAOd,SAAS/G,QAAQoa,GAAoB,OAE1E,MAAIvS,GAAOkM,WACAyG,IAEXnL,GAAQyL,EAAK0wB,wBAAwBxjC,EAAO+iC,GACxC7X,IAAS5Z,IACTjI,EAAMiiB,QAAQ,OAASjiB,EAAMjM,OAASuuB,EACtCtkB,GAAQ,cAAgBgC,EAAMjM,MAAQ,IAAM2lC,EAAY,KACxD15B,EAAMjM,SACC8tB,IAASztB,GAChB4J,GAAQskB,EACD3iB,GAAgBA,EAAalQ,QAAUoG,GAAc8J,EAAa,KAAO,SAAWA,GAAa,IAAMhJ,GAC9GqH,GAAQ,WAAavN,GAAM2pC,UAAU76B,EAAgBI,IAAehR,QAAQoa,GAAoB,OAAS,IACzG/K,GAAQ,cACHkkB,EAASmY,eACVr8B,GAAQ07B,EAAY,KAExB17B,GAAQrH,EAAQ,KAChBqH,GAAQ,0BAERA,GAAQxH,EAAOF,QAAU,KAAO,KAC5BqI,IACAX,GAAQ,iBAAmBW,EAAOhQ,QAAQma,GAAc,QAAU,MAElEnS,GACAA,EAAQlG,GAAMopC,KAAKljC,EAAO+iC,GAC1B17B,GAAQrH,EAAQ,aAAiBA,GAEjCqH,GAAQ,KAERW,IACAX,GAAQ,KAEZA,GAAQ,KAELA,IAEXm8B,wBAAyB,SAAUxjC,EAAO+iC,GACtC,GAAIK,EACJ,OAAIpjC,IAAS+iC,GACTK,EAAiC,MAApBpjC,EAAMqjC,OAAO,GAAavpC,GAAMopC,KAAKljC,EAAO+iC,EAAY,gBAAkBA,EAAY,iBAAoB/iC,EAAQ,KACxH,MAAQ+iC,EAAY,OAASA,EAAY,aAAeA,EAAY,mBAAqBK,EAAa,+CAE1G,IAEX7nB,WAAY,WACR,GAAIzI,GAAO1Y,KAAMiB,EAAUyX,EAAKzX,QAAS+X,EAAaN,EAAKM,WAAYhR,EAASgR,EAAW+M,QAASR,EAAS7M,EAAK6M,QAAU7M,EAAKiB,QAAQpV,KAAK,kBAAmBsL,EAAamJ,EAAWgN,YAAaujB,EAAcxgC,EAAY2P,EAAKpT,SAAUkkC,EAAgBzgC,EAAYxB,EAAcmR,EAAKpT,UAAWA,EAAUrE,EAAQmhB,WAAarZ,EAAYtB,EAAiBiR,EAAKpT,UAAYikC,CACtX,IAAItoC,EAAQmhB,YAAconB,EAAc9qC,OAAQ,CAC5C,GAAIuC,EAAQ6hB,aAAe7hB,EAAQ8hB,eAC/B,KAAU8T,OAAM,+DAEpBne,GAAKoK,YAAcpK,EAAK8vB,MAAMvnC,EAAQ6hB,YAAaxd,GAAS,GAAO,GACnEoT,EAAKqK,eAAiBrK,EAAK8vB,MAAMvnC,EAAQ8hB,gBAAkB9hB,EAAQ6hB,YAAaxd,GAAS,GAAM,GAC/FoT,EAAKsM,kBAAoBtM,EAAK8vB,MAAMvnC,EAAQ6hB,YAAa0mB,GACzD9wB,EAAKuM,qBAAuBvM,EAAK8vB,MAAMvnC,EAAQ8hB,gBAAkB9hB,EAAQ6hB,YAAa0mB,GAAe,OAErG9wB,GAAKoK,YAAcpK,EAAK8vB,MAAMvnC,EAAQ6hB,YAAaxd,GACnDoT,EAAKqK,eAAiBrK,EAAK8vB,MAAMvnC,EAAQ8hB,gBAAkB9hB,EAAQ6hB,YAAaxd,GAAS,EAEzFoT,GAAKyO,gBACLzO,EAAK0K,eAAiB1K,EAAK+wB,YAAYxoC,EAAQmiB,gBAAkB,MAEjE1K,EAAKmJ,SAAW3N,GAAcrE,KAAgBqE,GAAcrE,KAAgB0V,EAAO7mB,QAAUqI,GAAKwiC,EAAa,SAAU9jC,GACrH,MAAOA,GAAOyf,iBACfxmB,UACHga,EAAKwM,eAAiBxM,EAAKgxB,YAAYH,EAAa15B,EAAY,iBAAkB,sBAElF7H,GAAUjB,GAAKwiC,EAAa,SAAU9jC,GAClC,MAAOA,GAAO0f,sBACfzmB,SACHmR,EAAarS,EAAE8C,IAAI0H,EAAQ,SAAU2hC,GACjC,MAAOA,GAAE95B,aAEb6I,EAAKyM,oBAAsBzM,EAAKgxB,YAAYpkC,EAASuK,EAAY,sBAAuB,iBAAkB25B,EAAc9qC,QACpHuC,EAAQmhB,YAAconB,EAAc9qC,SACpCga,EAAK0M,0BAA4B1M,EAAKgxB,YAAYF,EAAe35B,EAAY,sBAAuB,oBAGxG6I,EAAKzX,QAAQ+hB,YACbtK,EAAK2M,kBAAoB3M,EAAKkxB,mBAGtCA,eAAgB,WAAA,GAURrY,GAEAT,EACAQ,EAZA3X,EAAU,6BACVkwB,EAAkB,sDAClBC,EAA+B9pC,KAAKiB,QAAQmhB,aAAepiB,KAAK2Z,QAAQ,GAAG1a,MAAMH,OAAS,0CAA4C,GACtImQ,GACAiiB,WACAluB,MAAO,GAEPmuB,EAAW3zB,EAAEqC,UAAWH,GAAM0xB,SAAUpxB,KAAKiB,QAAQowB,kBACrDsX,EAAYxX,EAASwX,UAErB17B,EAAO,EAoBX,OAhBIskB,GADAvxB,KAAKiB,QAAQ+hB,UAAUuO,SACZvxB,KAAKiB,QAAQ+hB,UAAUuO,SAEvB7xB,GAAMkO,OAAOi8B,EAAiB7pC,KAAKiB,QAAQsiB,SAASP,UAAW8mB,GAE9EhZ,QAAcS,GACD,aAATT,GACA7hB,EAAMiiB,QAAQ,OAASjiB,EAAMjM,OAASuuB,EACtCtkB,GAAQ,cAAgBgC,EAAMjM,MAAQ,IAAM2lC,EAAY,KACxD15B,EAAMjM,SACU,WAAT8tB,IACP7jB,GAAQskB,GAEZD,EAAO5xB,GAAM6xB,SAAS7xB,GAAMkO,OAAO+L,EAASjD,GAAgBzJ,GAAOkkB,GAC/DliB,EAAMjM,MAAQ,IACdsuB,EAAO9zB,EAAE4H,MAAMksB,EAAMriB,EAAMiiB,UAExBI,GAEXoY,YAAa,SAAUpkC,EAASuK,EAAYk6B,EAAcC,EAAUtB,GAChE,GAAkI3kC,GAAKrF,EAAQ6yB,EAAUT,EAA8HrrB,EAAnRiT,EAAO1Y,KAAMmxB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,kBAAmBsX,EAAYxX,EAASwX,UAAW17B,EAAO,GAAiCikB,KAAcluB,EAAQ,EAAGinC,KAAYjiC,EAAS0Q,EAAKoJ,UAAWooB,EAAYxxB,EAAKM,WAAWmxB,iBAAiBt6B,EAQ1Q,KAPA5C,GAAQ,cAAgB+8B,EAAW,KAC/BhiC,EAAS,IAAM0gC,IACfz7B,GAAQlK,EAAWiF,IAEnB0Q,EAAKyO,gBACLla,GAAQ,4CAEPlJ,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjD0B,EAASH,EAAQvB,GACjBwtB,EAAW9rB,EAAOskC,GAClBjZ,QAAcS,GACdtkB,GAAQ,MAAQ/J,EAAoBuC,EAAOM,kBAAoB,IAC3DwrB,GACIT,IAAS5Z,KACT+yB,EAAQC,EAAUzkC,EAAOG,OAAS/F,MAAWsxB,GAAYwX,UAAWA,EAAY,KAAQljC,EAAOG,MAAQ,UACvG2rB,EAAW7xB,GAAM6xB,SAASA,EAAU0Y,IAExC/Y,EAAQ,OAASluB,GAASuuB,EAC1BtkB,GAAQ,cAAgBjK,EAAQ,IAAM2lC,EAAY,KAClD3lC,KAEAiK,GAAQ,SAEZA,GAAQ,OAIZ,OAFAA,IAAQ,QACRA,EAAOvN,GAAM6xB,SAAStkB,EAAMkkB,GACxBnuB,EAAQ,EACDoC,GAAM6H,EAAMikB,GAEhBjkB,GAEXw8B,YAAa,SAAUlY,GACnB,GAAI7Y,GAAO1Y,KAAMiN,EAAO,GAAIkkB,EAAWtxB,MAAWH,GAAM0xB,SAAU1Y,EAAKzX,QAAQowB,kBAAmBsX,EAAYxX,EAASwX,UAAWyB,KAA8BC,EAAwB,EAAGriC,EAAS0Q,EAAKoJ,UAAW7O,EAAUnM,EAAeiC,EAAY2P,EAAKpT,UAAU5G,OAAQoyB,QAAcS,EAe9R,OAdAtkB,IAAQ,4BACJjF,EAAS,IACTiF,GAAQlK,EAAWiF,IAEvBiF,GAAQ,+DAAiEgG,EAAU,aAAeA,EAAU,IAAM,IAAM,IACpH6d,IAAS5Z,IACTkzB,EAAwB,OAASC,GAAyB9Y,EAC1DtkB,GAAQ,cAAgBo9B,EAAwB,IAAM1B,EAAY,KAClE0B,KAEAp9B,GAAQskB,EAEZtkB,GAAQ,aACRA,EAAOvN,GAAM6xB,SAAStkB,EAAMkkB,GACxBkZ,EAAwB,EACjBjlC,GAAM6H,EAAMm9B,GAEhBn9B,GAEXka,YAAa,WACT,GAAIzO,GAAO1Y,IACX,OAAuC,QAAhC0Y,EAAKzX,QAAQmiB,iBAA4B1K,EAAK8H,QAAQrL,SAAmBzW,QAEpF6tB,cAAe,WAAA,GACP9J,GAAaziB,KAAKiB,QAAQwhB,WAC1B6nB,EAAe7nB,SAAqBA,GAAWyL,MAAQ7qB,IAAUof,EAAWyL,KAAKpjB,QAAQ,WACzFxF,EAAUtF,KAAKsF,QACfilC,EAA0B/sC,EAAEuJ,KAAKzB,EAAS,SAAUujB,GACpD,MAAOA,GAAIpG,cAAe,GAK9B,OAHInd,GAAQ5G,QAAU6rC,EAAwB7rC,QAAU4G,EAAQ5G,SAC5D4rC,GAAe,GAEZA,GAEX/oB,SAAU,WACN,GAAI7I,GAAO1Y,IACX,IAAI0Y,EAAKzX,QAAQmhB,YAAc1J,EAAKyO,eAAiB5f,EAAcmR,EAAKpT,SAAS5G,OAC7E,KAAUm4B,OAAM,kEAEpBne,GAAK1L,MAAM/H,GAAGC,GAAQC,GAAI,iEAAkE,SAAUmM,GAClG,GAA8Jk5B,GAAiD/6B,EAA3MsY,EAASvqB,EAAEwC,MAAOmH,EAAO4gB,EAAO5b,QAAQ,uBAAwBs+B,EAAY1iB,EAAO9e,SAAS,cAAeyhC,EAAY3iB,EAAO5b,QAAQ,mBAA+BiX,EAAiB1K,EAAK0K,eAAsB1V,EAAagL,EAAKyO,cAAewjB,EAAgBF,EAAYt3B,GAAW2E,GAAQ8yB,IAAiBH,CA0BtT,OAzBA1iB,GAAO8iB,YAAY,cAAeJ,GAAWI,YAAY,eAAgBJ,GAAW3nC,KAAKoQ,GAAWy3B,GACpGxjC,EAAKrE,KAAK,gBAAiB8nC,GAC3BJ,EAAYE,EAAU79B,OAClBa,IAAe88B,EAAUvhC,SAAS,kBAClCwG,EAAOiJ,EAAKuY,SAASyZ,GACrBF,EAAYhtC,EAAE4lB,EAAe3T,IAAOuS,SAAS0oB,EAAUzhC,SAAS,SAAW,QAAU,IAAIZ,YAAYqiC,GACrGhyB,EAAKqO,QAAQ,UAAW,WACpB,OACI5iB,SAAUqmC,EAAU5pC,MACpB6O,OAASwhB,SAAUxhB,OAG3BiJ,EAAK4D,QAAQnH,IACTu1B,UAAWA,EACXF,UAAWA,EACX/6B,KAAMA,EACNq7B,WAAYN,EAAUjmC,KAAK,qBAGnCmU,EAAK4D,QAAQmuB,EAAY30B,GAAeC,IACpC20B,UAAWA,EACXF,UAAWA,IAEfA,EAAUO,OAAON,GACjBn5B,EAAEC,kBACK,KAGf0f,SAAU,SAAUtK,GAEhB,GADAA,EAAKnpB,EAAEmpB,GAAI,IACNA,EACD,MAAO,KAEX,IAAyHkG,GAAGme,EAAxH/iC,EAAOjI,KAAK+M,MAAM3E,WAAY6iC,EAAe,6CAA8ClnC,EAAM4iB,EAAGukB,eAExG,KADAF,EAAajnC,EACR8oB,EAAI,EAAGA,EAAI9oB,EAAK8oB,IACboe,EAAa77B,KAAKnH,EAAK4kB,GAAGxd,YAC1B27B,GAGR,OAAOhrC,MAAK8lB,MAAMklB,IAEtBvL,UAAW,SAAU9Y,GACjBnpB,EAAEmpB,GAAIpiB,KAAK,oBAAoBQ,SAEnCq6B,YAAa,SAAUzY,GACnBnpB,EAAEmpB,GAAIpiB,KAAK,sBAAsBQ,SAErComC,mBAAoB,SAAU7lC,EAASoC,GAAnB,GACC3D,GAAKuK,EAAI5Q,EAAiBgB,EAA2CkH,EAK9EkE,EALJ4O,EAAO1Y,KAAqBiN,EAAO,GAAYnF,EAAQiB,EAAY2P,EAAKpT,QAC5E,KAAKvB,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjDuK,EAAKhJ,EAAQvB,GAAK0B,QAAUH,EAAQvB,GACpCrG,EAAOgb,EAAKwwB,gBAAgB56B,GAC5B1I,EAAQ,GACJkE,EAAQM,GAAQkE,EAAIxG,GACpBwG,EAAGqD,YACH1E,GAAQ,kBAAsB/J,EAAoBoL,EAAGtI,kBACjD0B,IAAYpC,EAAQvB,GAAKwI,UACzBU,GAAQ,aAAgBvF,EAAU,KAElCoC,OACAmD,GAAQvN,GAAMoD,KAAK,SAAW,KAAQgH,EAAQ,KAElDpM,EAAO4Q,EAAG66B,eAAiBzrC,EAAOgC,GAAM6xB,SAASlZ,QACjDpL,GAAQ,IAAMvP,EAAO,SACd4Q,EAAG3J,SACVsI,GAAQ,kBAAsB/J,EAAoBoL,EAAGtI,kBACjD0B,IAAYpC,EAAQvB,GAAKwI,UACzBU,GAAQ,aAAgBvF,EAAU,KAElCoC,OACAmD,GAAQvN,GAAMoD,KAAK,SAAW,KAAQgH,EAAQ,KAElDmD,GAAQ,IAAMvP,EAAO,UAEjB4Q,EAAG1I,QACHA,EAAQlG,GAAMoD,KAAK,SAAW,KAAQwL,EAAG1I,MAAQ,MAErDqH,GAAQ,uCAA6CrH,EACrDqH,GAAQ,wBACJvF,IAAYpC,EAAQvB,GAAKwI,UACzBU,GAAQ,aAAgBvF,EAAU,KAElCpC,EAAQvB,GAAKwI,QAAU,IACvBU,GAAQ,aAAe3H,EAAQvB,GAAKwI,QAAU9B,EAAuB6D,EAAGhJ,UAAY,KACpF2H,GAAQvN,GAAMoD,KAAK,WAAa,KAAQwC,EAAQvB,GAAKwI,QAAU,KAE/D+B,EAAGmc,QACHxd,GAAQvN,GAAMoD,KAAK,SAAW,KAAOwL,EAAGmc,MAAM7sB,QAAQ,IAAK,UAAUA,QAAQ,KAAM,KAAQ,MAE3F0Q,EAAGgU,YAAc5f,IACjBuK,GAAQvN,GAAMoD,KAAK,aAAe,KAAQwL,EAAGgU,UAAY,MAEzDhU,EAAGuB,YAAcvB,EAAGuB,WAAWnR,SAC/BuO,GAAQvN,GAAMoD,KAAK,cAAgB,KAAQwL,EAAGuB,WAAa,KAE3D/F,OACAmD,GAAQvN,GAAMoD,KAAK,SAAW,KAAQgH,EAAQ,KAElDmD,GAAQ/J,EAAoBoL,EAAGtI,kBAC/BiH,GAAQ,IAAMvP,EAAO,QAG7B,OAAOuP,IAEXm+B,2BAA4B,WACxB,GAA4BrnC,GAA6GrF,EAA+C+F,EAAW8H,EAAS8+B,EAAxM/lC,EAAUtF,KAAKsF,QAAcqI,EAAW3N,KAAKgN,MAAMzI,KAAK,YAAaqG,EAAO+C,EAASpJ,KAAK,0CAAmD61B,EAAa58B,IAAK8tC,EAAkB,EAAgCC,EAAY,CACjO,KAAKxnC,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IACjD,GAAIuB,EAAQvB,GAAKiG,OACb,GAAInE,EAAUP,EAAQvB,IAAO,CAMzB,IALAwI,EAAU,EACNjH,EAAQvB,GAAKuB,UACbiH,EAAUxD,EAAYzD,EAAQvB,GAAKuB,SAAS5G,OAAS+L,EAAuBnF,EAAQvB,GAAKuB,UAE7FiH,EAAUA,GAAW,EAChB8+B,EAAU,EAAGA,EAAU9+B,EAAS8+B,IACjCjR,EAAaA,EAAW52B,IAAIoH,EAAK3G,GAAGF,EAAMwnC,EAAYF,EAAUC,GAEpEC,IAAah/B,EAAU,MAEvB++B,IAIZ7mC,GAAYjH,EAAE,6CAA+C+a,GAAQ,mBAAqB,IAAM,6CAChG5K,EAAS69B,SACT/mC,EAAUF,KAAK,YAAYmF,OAAO0wB,GAClCzsB,EAASY,aAAavO,KAAKgN,MAAMzI,KAAK,UACtCvE,KAAKoE,cAAgBK,EAAU8J,aAAavO,KAAKqE,SACjDrE,KAAKkS,YAAczN,EAAU2D,SAAS,UAE1Ck9B,0BAA2B,WAAA,GAMnBvhC,GAAKrF,EALLga,EAAO1Y,KACPulB,EAAS7M,EAAK6M,OACdzc,EAAQyc,EAAOhhB,KAAK,yBACpBqG,EAAO2a,EAAOhhB,KAAK,0CACnB0I,EAAOzP,EAAE,yHAETwK,EAAS0Q,EAAKoJ,UACd2pB,EAAcjuC,IAAK48B,EAAa58B,GAEpC,KADAiuC,EAAcA,EAAYjoC,IAAIsF,EAAMxE,OAAO,kBACtCP,EAAM,EAAGrF,EAASqK,EAAYxB,EAAcmR,EAAKpT,UAAU5G,OAAQqF,EAAMrF,EAAQqF,IAClF0nC,EAAcA,EAAYjoC,IAAIsF,EAAM7E,GAAGF,EAAMiE,GAGjD,KADAoyB,EAAaA,EAAW52B,IAAIoH,EAAKtG,OAAO,iBACnCP,EAAM,EAAGrF,EAASoI,EAAeiC,EAAYwC,EAAqBmN,EAAKpT,WAAW5G,OAAQqF,EAAMrF,EAAQqF,IACzGq2B,EAAaA,EAAW52B,IAAIoH,EAAK3G,GAAGF,EAAMiE,GAE9CyjC,GAAYvnC,SAAS+I,EAAK1I,KAAK,OAC/B61B,EAAWl2B,SAAS+I,EAAK1I,KAAK,aAC9BmU,EAAK8M,aAAevY,EAAKwpB,UAAUlR,IAEvCmmB,0BAA2B,SAAUjnC,GAAV,GACkBV,GAAKkJ,EAAMvO,EAAkBioB,EAAIglB,EAAU3+B,EAA0J7F,EAU9NoF,EAKK8+B,EAOJxe,EAwBT7pB,EA9CJ0V,EAAO1Y,KAAMsF,EAAUtF,KAAKsF,QAAoF2C,KAAWqjC,EAAkB,EAAG1gC,EAAOpN,IAAKouC,EAAelzB,EAAK6T,gBAAiBsf,EAAmB,EAAGC,EAActuC,IAAWuuC,EAAmB,EAAGjjC,EAAQtL,IAAtNmQ,EACjD+K,EAAKhQ,MAAM4jB,OAAO/nB,KAAK,0CADyD4kB,EAElFzQ,EAAKhQ,MAAMnE,KAAK,2DAF0EynC,EAGjFtzB,EAAKhQ,MAAMnE,KAAK,iBAAiBA,KAAK,2CACpDgnC,EAAY,CAChB,KAAKxnC,EAAM,EAAGrF,EAAS4G,EAAQ5G,OAAQqF,EAAMrF,EAAQqF,IAAO,CACxD,GAAIuB,EAAQvB,GAAKiG,OAAQ,CAGrB,GAFA7C,EAAOgiB,EAAOllB,GAAGF,GACjBgoC,EAAmBhjC,EAAYzD,EAAQvB,GAAKuB,aAAe5G,OACvDmH,EAAUP,EAAQvB,IAAO,CAMzB,IALIwI,EAAU,KACVjH,EAAQvB,GAAKuB,UACbiH,EAAUw/B,EAAmBthC,EAAuBnF,EAAQvB,GAAKuB,UAErEiH,EAAUA,GAAW,EACZ8+B,EAAU,EAAGA,EAAU9+B,EAAS8+B,IACrCzgC,EAAOA,EAAKpH,IAAImK,EAAS1J,GAAGF,EAAMwnC,EAAYF,EAAUC,GAE5DC,IAAah/B,EAAU,EAI3B,IAFAnB,GAAqB9F,EAAQvB,IAAO2I,EAAkBvF,GAAOc,EAAM,EAAG,GACtE8jC,EAAmBA,GAAoB,EAC9Blf,EAAI,EAAGA,EAAIkf,EAAkBlf,IAClCif,EAAcA,EAAYtoC,IAAIwoC,EAAgB/nC,GAAG4nC,EAAmBhf,GAExEgf,IAAoBE,EAEpBzmC,EAAQvB,GAAKuB,UACbgmC,GAAmB7gC,EAAuBnF,EAAQvB,GAAKuB,UAEtDO,EAAUP,EAAQvB,KACnBunC,IAGR,GAAIrjC,EAAKvJ,OAAQ,CAQb,IAPAuO,EAAO,8DAAgEsL,GAAQ,mBAAqB,IAAM,sBAC1GtL,GAAYhK,MAAMgF,EAAKvJ,OAAS,GAAGL,KAAK,aACxC4O,IAAS2+B,EAAe,8BAAgC,IAAM,yBAC9D5+B,EAAQxP,EAAEyP,GACVU,EAAWX,EAAMzI,KAAK,YACtBoJ,EAASjE,OAAOgP,EAAKhQ,MAAM4jB,OAAO/nB,KAAK,mBAAmBf,IAAIoH,IAC9D+b,EAAK3Z,EAAMzI,KAAK,+BACXR,EAAM,EAAGrF,EAASuJ,EAAKvJ,OAAQqF,EAAMrF,EAAQqF,IAC9C+E,EAAQ9B,EAASiB,EAAKlE,IACtB4iB,EAAG1iB,GAAGF,GAAK2F,OAAOgP,EAAKhQ,MAAMnE,KAAK,SAAWR,EAAM,mBAAmBP,IAAIsF,GAU9E,OARI9F,GAAQiI,EAAgBjL,KAAK0I,OAC7BT,EAAKvJ,OAASsE,GACdgI,EAAmBgC,EAAOhK,EAAQiF,EAAKvJ,QAE3CitC,EAAW3+B,EAAMzI,KAAK,iBACtBonC,EAASjiC,OAAOgP,EAAKhQ,MAAMnE,KAAK,+BAA+Bf,IAAIsoC,IACnE9rC,KAAKoS,aAAepF,EAAMypB,UAAUhyB,GACpCzE,KAAK0I,MAAMnE,KAAK,iBAAiB4G,UAC1B,EAEX,OAAO,GAEXyZ,wBAAyB,WACrB,GAAIzgB,GAAWnE,KAAKoS,aAAa5O,IAAIxD,KAAKoE,eAAeZ,IAAIxD,KAAKwlB,aAClE9lB,IAAMga,QAAQvV,GACdA,EAAS0V,IAAI1U,IAAIgG,SACjBnL,KAAKoS,aAAepS,KAAKoE,cAAgBpE,KAAKwlB,aAAe,KAC7DxlB,KAAK2R,WAAa,MAEtBoP,OAAQ,WAAA,GAC6Hhd,GAA2G4iB,EAiBhO1e,EAkBJgkC,EAKAC,EA2CJC,EACAC,EApFA1zB,EAAO1Y,KAAMsF,EAAUoT,EAAKpT,QAASoI,EAAagL,EAAKyO,eAAiB7hB,EAAQ5G,OAAQktC,EAAelzB,EAAK6T,gBAAsBtf,EAAO,GAAIvE,EAAQgQ,EAAK1L,MAAMzI,KAAK,UAAW8nC,EAAW3zB,EAAK5G,QAAQvN,KAAK,eAAe7F,OAAS,CAczO,IAbKgK,EAAMhK,SACPgK,EAAQlL,EAAE,YAAY+Q,aAAamK,EAAK3L,QAExC2L,EAAKtG,cAAgBsG,EAAKhQ,OAC1Bie,EAAKjO,EAAKhQ,MAAMnE,KAAK,iCAAiC0I,KAAK,IAC3D0Z,EAAGxb,SACHwb,EAAKnpB,IACLkb,EAAKkM,2BAEL+B,EAAKjO,EAAK5G,QAAQvN,KADX8nC,EACgB,4CAEA,qBAEtB1lB,EAAGjoB,SACJioB,EAAKje,EAAMN,WAAW6R,SACjB0M,EAAGjoB,QAAQ,CAOZ,IANIuJ,IACIP,QAAS,EACToB,SACAgB,MAAO,IAEf4O,EAAK4zB,gBAAgBrkC,EAAM3C,GACtBvB,EAAM,EAAGA,EAAMkE,EAAKvJ,OAAQqF,IAC7BkJ,GAAQ,OACJS,IACAT,GAAQ,4CAA8CyL,EAAKzX,QAAQsiB,SAASI,2BAA6B,SAE7G1W,GAAQyL,EAAKyyB,mBAAmBljC,EAAKlE,GAAK+E,MAAOb,EAAKlE,GAAK2D,SAC3DuF,GAAQ,OAEZ0Z,GAAKnpB,EAAEyP,GAGX2+B,IACIK,EAAYzuC,EAAE,SAClByuC,EAAUjqB,SAAS,iBACftU,GAAciZ,EAAGpiB,KAAK,qBAAqB7F,SAC3CutC,EAAUn+B,QAAQ,wDAElBo+B,GAAqBxzB,EAAKhQ,OAASA,GAAOnE,KAAK,iBAC/C2nC,EAAkBxtC,SAClBgB,GAAMga,QAAQwyB,GACdA,EAAkB/gC,UAEtBzC,EAAMgB,OAAOuiC,IAEZtlB,EAAGve,WAAW1J,OAORgP,IAAeiZ,EAAGpiB,KAAK,qBAAqB,IACnDoiB,EAAG7Y,QAAQ,yDAPXb,EAAO,GACHS,IACAT,GAAQ,wDAEZA,GAAQyL,EAAKyyB,mBAAmB7lC,GAChCqhB,EAAG1Z,KAAKA,IAIZ0Z,EAAG7jB,KAAK,OAAQ,OAAOyB,KAAK,MAAMyd,SAAS,YACtCtJ,EAAKzX,QAAQmhB,YACd1Z,EAAMsZ,SAAS,iBAEnB2E,EAAGpiB,KAAK,UAAU4G,SAASmjB,MAAMmI,UAAU/tB,GACvCgQ,EAAKhQ,OACLgQ,EAAKmL,4BAET7jB,KAAK+mB,QAAQ,UAAW,WACpB,OAAS5iB,SAAUuE,EAAMnE,KAAK,MAAM3D,SAExCZ,KAAK+mB,QAAQ,UAAW,WACpB,OACI5iB,SAAUuE,EAAMnE,KAAK,MAAM3D,MAC3B6O,KAAMnP,GAAIgF,EAAS,SAAUujB,GACzB,OAASpjB,OAAQojB,QAI7BnQ,EAAKhQ,MAAQA,EAAM5F,KAAK,OAAQ,YAChC4V,EAAKovB,YACLpvB,EAAK+tB,cACL/tB,EAAKquB,aACLruB,EAAKspB,cACLtpB,EAAK6zB,cACL7zB,EAAK+sB,cAED2G,EAAmBpsC,KAAKiB,QAAQmhB,YAAc7a,EAAcvH,KAAKsF,SAAS5G,OAC1E0tC,IACAD,EAAazzB,EAAKgzB,0BAA0BhzB,EAAKhQ,MAAMyD,QAAQ,mBAC/DuM,EAAK0yB,6BACL1yB,EAAKtU,cAAc+U,KAAK,iBAAmBhU,GAAK,cAAgBA,GAAIC,GAAMsT,EAAKwB,aAAcxB,KAEjGA,EAAK6U,yBACL7U,EAAK+U,0BACL/U,EAAK6P,aACL7P,EAAKyR,aACLzR,EAAKqS,eACLrS,EAAK2uB,cAAc3uB,EAAKoJ,WACpBsqB,IACID,GACAzzB,EAAKwR,0BAETxR,EAAKsR,+BAELtR,EAAK4J,WACL5J,EAAK2e,oBAGbmV,qBAAsB,SAAUlnC,EAAS2C,GAAnB,GAGVxC,GAFJrC,EAAS5F,GACb,IAAIyK,EAAKvJ,QAAU4G,EAAQ,GAAI,CAE3B,IADIG,EAASH,EAAQ,GACdG,EAAOH,SAAWG,EAAOH,QAAQ5G,QACpC+G,EAASA,EAAOH,QAAQ,GACxB2C,EAAOA,EAAK3D,OAAO,iBAEvBlB,GAASA,EAAOI,IAAIyE,GAExB,MAAO7E,IAEXqqB,wBAAyB,WAAA,GAGb9G,GAEA1e,EAJJyQ,EAAO1Y,KAAMsF,EAAUoT,EAAKpT,YAAeoI,EAAagL,EAAKyO,eAAiB7hB,EAAQ5G,MACrFgP,IAAegL,EAAKoJ,YACjB6E,EAAKjO,EAAKhQ,MAAMnE,KAAK,sCACzBe,EAAUmC,EAAiBnC,GACvB2C,EAAOyQ,EAAK8zB,qBAAqBlnC,EAASqhB,GAC1CjO,EAAK0e,cACLzQ,EAAKjO,EAAKtG,aAAa7N,KAAK,2CAC5Be,EAAUiC,EAAcmR,EAAKpT,SAC7B2C,EAAOA,EAAKzE,IAAIkV,EAAK8zB,qBAAqBlnC,EAASqhB,KAEvD1e,EAAK+e,KAAK,WACN,GAAIxd,GAAMhM,EAAEwC,MAAMuE,KAAK,KACvBiF,GAAIgd,YAAY,WAChBhd,EAAIvF,GAAG,GAAG+d,SAAS,eAI/BsqB,gBAAiB,SAAUrkC,EAAM3C,EAAS4G,EAAYugC,GAArC,GAIJ1oC,GACDoD,EAJJgC,EAAMsjC,GAAaxkC,EAAKA,EAAKvJ,OAAS,GACtCguC,EAAWzkC,EAAKkB,EAAIW,MAAQ,GAC5B6iC,EAAe,CACnB,KAAS5oC,EAAM,EAAGA,EAAMuB,EAAQ5G,OAAQqF,IAChCoD,GACA1B,OAAQH,EAAQvB,GAChBwI,QAAS,GAEbpD,EAAIL,MAAM3K,KAAKgJ,GACX7B,EAAQvB,GAAKuB,SAAWA,EAAQvB,GAAKuB,QAAQ5G,SACxCguC,IACDA,GACIhlC,QAAS,EACToB,SACAgB,MAAO7B,EAAKvJ,QAEhBuJ,EAAK9J,KAAKuuC,IAEdvlC,EAAKoF,QAAUjH,EAAQvB,GAAKuB,QAAQ5G,OACpCsB,KAAKssC,gBAAgBrkC,EAAM3C,EAAQvB,GAAKuB,QAAS6B,EAAMulC,GACvDC,GAAgBxlC,EAAKoF,QAAU,EAC/BpD,EAAIzB,QAAUO,EAAKvJ,OAASyK,EAAIW,MAGpCoC,KACAA,EAAWK,SAAWogC,IAG9BzyB,aAAc,SAAU5I,GAAV,GAINjN,GAIAuW,EAAiCE,CAPjCxJ,GAAE4J,UAGF7W,EAAUrE,KAAKqE,QACfrE,KAAKiB,QAAQmhB,WAAWC,UACxBhe,EAAUrE,KAAKuiB,kBAAkB3I,mBAEjCgB,EAAYvW,EAAQuW,YAAaE,EAAQpb,GAAMyb,YAAY7J,GAC3DwJ,IACIzW,EAAQ,GAAGgX,aAAehX,EAAQ,GAAG+W,eAAiB/W,EAAQ,GAAGuW,UAAYvW,EAAQ,GAAGgX,aAAehX,EAAQ,GAAG+W,cAAgBN,EAAQ,GAAKzW,EAAQ,GAAGuW,UAAY,GAAKE,EAAQ,IACnLxJ,EAAEC,iBAENlN,EAAQuW,UAAUA,GAAaE,MAGvCsc,UAAW,WACP,MAA4B,OAArBp3B,KAAKoS,cAEhBw6B,kBAAmB,WACf,GAAI5/B,GAAQhN,KAAK0I,MAAMwB,SAAS1G,IAAIxD,KAAKgN,MACrChN,MAAKo3B,YACL3pB,EAAcT,EAAOxB,EAAmBF,EAAwBtL,KAAKsF,UAAWtF,KAAKmnB,cAAe,GAEpG1Z,EAAcT,EAAOxB,EAAmB1E,EAAe9G,KAAKsF,UAAWtF,KAAKmnB,cAAe,IAGnGolB,YAAa,SAAUv/B,GACnBA,EAAQA,GAAShN,KAAK0I,MAAMwB,SAAS1G,IAAIxD,KAAKgN,OAC9ChN,KAAKwlC,YAAYx4B,EAAOhN,KAAKo3B,cAEjCyV,kBAAmB,SAAU7/B,GACrBhN,KAAKo3B,cACLpqB,EAAQA,GAAShN,KAAKoS,aAAa7N,KAAK,SAASf,IAAIxD,KAAKkS,aAC1DzE,EAAcT,EAAOxB,EAAmBD,EAAqBvL,KAAKsF,UAAWtF,KAAKmnB,cAAennB,KAAK8hB,aAG9G0jB,YAAa,SAAUx4B,EAAOhD,GACtBA,EACAyD,EAAcT,EAAOxB,EAAmBF,EAAwBtL,KAAKsF,UAAWtF,KAAKmnB,cAAe,GAEpG1Z,EAAcT,EAAOxB,EAAmB1E,EAAe9G,KAAKsF,UAAWtF,KAAKmnB,cAAennB,KAAK8hB,YAGxGgrB,aAAc,SAAUlb,GACpB,GAAIA,GAAUA,EAAOmb,OAAQ,CACzB,GAAiBnnC,GAAOL,EAApBmT,EAAO1Y,IACX4xB,GAASA,EAAOmb,SAChBxnC,IAAYmT,EAAK1L,MAAMzI,KAAK,YAAY7F,OAAS,KAAOga,EAAKM,aAAeN,EAAKM,WAAWiN,WAC5F,KAAKrgB,IAASgsB,GACVlZ,EAAKpT,QAAQnH,MACTyH,MAAOA,EACPL,QAASA,EACTS,kBAAoBE,GAAIxG,GAAMuG,SAGtCyS,GAAKqI,SACLrI,EAAKyI,eAGb6rB,UAAW,SAAUv9B,EAAMw9B,GACvB,GAA4BlpC,GAAqFrF,EAA7Gga,EAAO1Y,KAAMiN,EAAO,GAAS6V,EAAcmqB,EAAUnqB,YAAaC,EAAiBkqB,EAAUlqB,cACjG,KAAKhf,EAAM,EAAGrF,EAAS+Q,EAAK/Q,OAAQqF,EAAMrF,EAAQqF,IAC1C2U,EAAK4pB,wBAA0B,EAC/B5pB,EAAK4pB,0BAGDr1B,GADAlJ,EAAM,EACEgf,EAAetT,EAAK1L,IAEpB+e,EAAYrT,EAAK1L,IAGjC2U,EAAKoN,MAAM3nB,KAAKsR,EAAK1L,GAEzB,OAAOkJ,IAEXigC,cAAe,SAAUnnB,EAAO9S,EAAS5G,EAAO8gC,EAAoBF,EAAWG,GAAhE,GACiBrpC,GAAKrF,EA4BzB2uC,EACKrnB,EA7BTtN,EAAO1Y,KAAMiN,EAAO,GAAiBrH,EAAQmgB,EAAMngB,MAAOH,EAASsB,GAAKgC,EAAY2P,EAAKpT,SAAU,SAAUG,GACzG,MAAOA,GAAOG,OAASA,IACxB,OAAU2rB,EAAW9rB,EAAO6nC,oBAAqB5vC,GAAQ+H,EAAOglB,OAAS7kB,GAAS,KAAO+I,EAAiBoX,EAAM1lB,MAAOoF,EAAOmI,OAAQnI,EAAOgqB,OAAQhqB,EAAOF,SAAUgoC,EAAiB70B,EAAK80B,kCAAqCC,EAAa1nB,EAAMpW,MAAOE,EAAahQ,MAAW0tC,EAAgBxnB,EAAMlW,YAAa69B,EAAa7tC,OAClU+F,MAAOmgB,EAAMngB,MACbvF,MAAO0lB,EAAM1lB,MACbsP,MAAO89B,EACP59B,WAAYA,GACbkW,EAAMlW,WAAWkW,EAAMngB,QAASuf,EAAsB8nB,EAAU9nB,mBASvE,IARIoM,IACA7zB,QAAc6zB,KAAara,GAAWqa,EAASmc,GAAchuC,GAAM6xB,SAASA,GAAUmc,IAErFh1B,EAAK4pB,wBAGN6K,EAAmBl6B,EAAS5G,EAAO3O,GAFnCuP,GAAQkgC,EAAmBl6B,EAAS5G,EAAO3O,GAI3CqoB,EAAMrW,aACN,IAAK3L,EAAM,EAAGrF,EAAS+uC,EAAW/uC,OAAQqF,EAAMrF,EAAQqF,IAC/C2U,EAAK4pB,wBAGN5pB,EAAKw0B,cAAcO,EAAW1pC,GAAMqpC,EAAcn6B,EAAUA,EAAU,EAAG5G,EAAQ,EAAG8gC,EAAoBF,EAAWG,GAFnHngC,GAAQyL,EAAKw0B,cAAcO,EAAW1pC,GAAMqpC,EAAcn6B,EAAUA,EAAU,EAAG5G,EAAQ,EAAG8gC,EAAoBF,EAAWG,OAMnIngC,IAAQyL,EAAKs0B,UAAUS,EAAYR,EAEvC,IAAI9nB,EAAqB,CACjBkoB,IACJ,KAASrnB,IAAanW,GAClBw9B,EAAWrnB,GAAanmB,MAAWgQ,EAAWmW,IAC1CD,OACIngB,MAAOmgB,EAAMngB,MACbvF,MAAO0lB,EAAM1lB,MACbsP,MAAO89B,IAInBxgC,IAAQkY,EAAoBkoB,GAEhC,MAAOpgC,IAEXiqB,cAAe,SAAUnR,GAAV,GACP1Z,GAAsJ1D,EAA4B5E,EAAKrF,EAAQioB,EAc/LgnB,EAdOj1B,EAAO1Y,KAAM4tC,EAAkB7nB,EAAOzD,EAAYtiB,KAAKiB,QAAQqhB,UAAWurB,EAAavrB,EAAUurB,WAAYC,EAAcD,EAAa,EAAI,EAAWE,EAAevwC,GAejL,KAdAuoB,EAAQvoB,EAAEuoB,GACN/lB,KAAKo3B,cACArR,EAAM5Z,QAAQ,OAAOlD,SAAS,yBAI/B8kC,EAAe/tC,KAAK+M,MAAM3E,SAAS,SAAW2d,EAAMjc,QAAU,KAAK61B,QAAQ,OAH3EoO,EAAehoB,EAAM4Z,QAAQ,MAC7B5Z,EAAQ/lB,KAAKkS,YAAY3N,KAAK,gBAAkBwhB,EAAMjc,QAAU,OAKxEuC,EAAQ0Z,EAAMxhB,KAAK,iBAAiB7F,OACpCqnB,EAAMxhB,KAAK,iBAAiByd,SAAS,cAAcwE,YAAY,gBAC/DT,EAAMxhB,KAAK,kCAAoCzB,KAAK,iBAAiB,GAAOyB,KAAK,KAAKzB,KAAKoQ,GAAW4E,IACtGiO,EAAQA,EAAM4Z,QAAQ,MAClBgO,KACC5pC,EAAM,EAAGrF,EAASqnB,EAAMrnB,OAAQqF,EAAMrF,IACvCioB,EAAKZ,EAAM9hB,GAAGF,GACd4E,EAASge,EAAGpiB,KAAK,iBAAiB7F,OAC9BioB,EAAG1d,SAAS,kBACZ6kC,IACOnnB,EAAG1d,SAAS,mBACnB6kC,MAEAnlC,GAAU0D,GAASsa,EAAG1d,SAAS,mBAAqB6kC,EAAc,IARvB/pC,IAW3CgqC,EAAarvC,QACbivC,EAAOxvC,KAAK4vC,EAAahqC,IAE7B4pC,EAAOxvC,KAAKwoB,EAAG,GAEnBnpB,GAAEmwC,GAAQnoC,OACNxF,KAAKiB,QAAQmhB,WAAWwV,SAAW53B,KAAKqE,SACxC6J,WAAW,WACPwK,EAAKrU,QAAQq+B,SACbhqB,EAAKs1B,iBAAmBJ,KAIpCzW,YAAa,SAAUpR,GACnBA,EAAQvoB,EAAEuoB,EACV,IAAiE1Z,GAAOsa,EAAIhe,EAA4B5E,EAAKrF,EAAzGga,EAAO1Y,KAAM6tC,EAAan1B,EAAKzX,QAAQqhB,UAAUurB,WAA+BE,EAAevwC,IAAkBywC,KAAwBC,EAAc,CAa3J,KAZIluC,KAAKo3B,cACArR,EAAM5Z,QAAQ,OAAOlD,SAAS,yBAI/B8kC,EAAe/tC,KAAK+M,MAAM3E,SAAS,SAAW2d,EAAMjc,QAAU,KAAK61B,QAAQ,OAH3EoO,EAAehoB,EAAM4Z,QAAQ,MAC7B5Z,EAAQ/lB,KAAKkS,YAAY3N,KAAK,gBAAkBwhB,EAAMjc,QAAU,OAKxEuC,EAAQ0Z,EAAMxhB,KAAK,iBAAiB7F,OACpCqnB,EAAMxhB,KAAK,eAAeyd,SAAS,gBAAgBwE,YAAY,cAC/DT,EAAMxhB,KAAK,mCAAqCzB,KAAK,iBAAiB,GAAMyB,KAAK,KAAKzB,KAAKoQ,GAAWC,IACtG4S,EAAQA,EAAM4Z,QAAQ,MACjB57B,EAAM,EAAGrF,EAASqnB,EAAMrnB,OAAQqF,EAAMrF,IACvCioB,EAAKZ,EAAM9hB,GAAGF,GACd4E,EAASge,EAAGpiB,KAAK,iBAAiB7F,SAC9BiK,GAAU0D,IAHiCtI,IAM3C4E,GAAU0D,EAAQ,GAAMsa,EAAG1d,SAAS,kBACpC0d,EAAGgB,OACHomB,EAAa9pC,GAAGF,GAAK4jB,OACjBhB,EAAG1d,SAAS,mBAAqB0d,EAAGpiB,KAAK,WAAW0E,SAAS,iBAC7DyP,EAAKye,YAAYxQ,GAEjBA,EAAG1d,SAAS,iBAAmB0d,EAAGpiB,KAAK,WAAW0E,SAAS,kBAC3D0d,EAAG9Z,OAAO8a,OACVomB,EAAa9pC,GAAGF,EAAM,GAAG4jB,SAG7BhB,EAAG1d,SAAS,oBACR4kC,GACAI,EAAkB9vC,KAAKwoB,EAAG9Y,GAAG,aAEjCqgC,KAEAvnB,EAAG1d,SAAS,oBACR4kC,GACAlnB,EAAGokB,OAAOkD,EAAkBE,OAEb,GAAfD,GACAvnB,EAAGgB,OACHomB,EAAa9pC,GAAGF,GAAK4jB,QAErBumB,MAKhB7G,cAAe,SAAUr/B,GACrB,GAAI0Q,GAAO1Y,KAAMyE,EAAYiU,EAAK0e,YAAc1e,EAAKtG,aAAa7N,KAAK,SAAWmU,EAAKhQ,MAAOojC,EAAcrnC,EAAUF,KAAK,mBAAmBA,KAAK,mBAAmB7F,OAAQA,EAAS+F,EAAUF,KAAK,YAAYA,KAAK,mBAAmB7F,OAAQuJ,EAAOxD,EAAU2D,SAAS,kBAAkB9D,OAAO,WAC7R,OAAQ9G,EAAEwC,MAAMoI,SAAS,YAAY1J,QAEzCsJ,GAAStJ,GACTlB,EAAMyF,MAAM+E,EAAStJ,EAAS,GAAGL,KAAK,iDAAmDqa,EAAKzX,QAAQsiB,SAASI,2BAA6B,UAAU8S,UAAUhyB,EAAU2D,SAAS,0BAC/KsQ,EAAK5G,QAAQjE,GAAG,aAChB5F,EAAK1D,KAAK,mBAAmBiB,QAE1BwC,EAAStJ,GAChB+F,EAAUF,KAAK,MAAMyiB,KAAK,WACtBxpB,EAAEwC,MAAMuE,KAAK,mBAAmBD,OAAO,OAAS0D,EAAS,SAAgBA,EAAS,KAAKmD,WAG3FnD,EAAS8jC,GACTtuC,EAAMyF,MAAM+E,EAAS8jC,EAAc,GAAGztC,KAAK,8DAA8Do4B,UAAUhyB,EAAUF,KAAK,mBAG1I6pC,eAAgB,SAAU3+B,EAAM4+B,GAQ5B,MAPI5+B,IAAQ4+B,IAEJ5+B,EADAA,EAAKC,aACE1P,KAAKouC,eAAe3+B,EAAKE,MAAM,GAAI0+B,GAEnC5+B,EAAKE,MAAM,IAGnBF,GAEX+d,mBAAoB,WAChB,GAAiBV,GAAbpU,EAAO1Y,IACN0Y,GAAK0e,cAGVtK,EAAStvB,EAAE,4CAA6Ckb,EAAKiB,SAASnW,IAAIkV,EAAKhQ,MAAMwB,UAAU1G,IAAIkV,EAAK1L,OACxG0L,EAAKiR,aAAexZ,GAAW2c,EAAO7oB,GAAG,IACzC6oB,EAAOjuB,MAAM6Z,EAAKiR,cAClBmD,EAAStvB,EAAE,8CAA+Ckb,EAAKiB,SAASnW,IAAIkV,EAAKtG,aAAa7N,KAAK,WAAWf,IAAIkV,EAAKxG,aACvH4a,EAAOjuB,MAAMsR,GAAW2c,EAAO7oB,GAAG,OAEtCi3B,WAAY,SAAUz1B,GAAV,GACS0B,GAAM2lB,EAAQ/oB,EAAK6G,EAAMC,EAAUjC,EAAqB0lC,EAAiB5vC,EAAyN6Q,EA+B/S9K,EA/BAiU,EAAO1Y,KAAmDnB,EAAQ,EAA4B0mB,EAAS7M,EAAK6M,QAAU7M,EAAKiB,QAAQpV,KAAK,kBAAmBe,EAAUoT,EAAKpT,QAAS2nB,EAAgBvU,EAAKtG,aAAe3G,EAAciN,EAAKtG,aAAa7N,KAAK,iBAAiBD,OAAOsC,GAAelI,OAAS,CAYhT,IAVI+G,EADiB,gBAAVA,GACEH,EAAQG,GACVX,GAAcW,GACZsB,GAAKuD,EAAYhF,GAAU,SAAUoJ,GAC1C,MAAOA,KAASjJ,IACjB,GAEMsB,GAAKuD,EAAYhF,GAAU,SAAUoJ,GAC1C,MAAOA,GAAK9I,QAAUH,IACvB,GAEFA,GAAWI,EAAUJ,GAA1B,CAGA,GAAIA,EAAOH,SAAWG,EAAOH,QAAQ5G,OAAQ,CAIzC,IAHAkK,EAAWW,EAAsB9D,EAAQH,GACzCkB,EAAoBf,GAAQ,GAC5BuJ,EAAkB7K,EAAS3G,EAAE,eAAgBkb,EAAKtG,cAAesG,EAAKhQ,MAAO,UAAYE,EAASO,IAAM,QAASP,EAASzB,MAAM,GAC3HpD,EAAM,EAAGA,EAAM0B,EAAOH,QAAQ5G,OAAQqF,IACvC/D,KAAKk7B,WAAWz1B,EAAOH,QAAQvB,GAGnC,OADA2U,GAAK4D,QAAQ5G,IAAcjQ,OAAQA,IACnC,EA4BJ,GA1BA8J,EAAcnF,GAAQ3E,EAAQqB,EAAeiC,EAAYzD,KACzDkB,EAAoBf,GAAQ,GAC5BiT,EAAK61B,sBAAsB9oC,GAAQ,GACnCiT,EAAKyI,aACLzI,EAAK6zB,cACL7zB,EAAKm0B,oBACDpoC,EAAYiU,EAAKhQ,MACrB4lC,EAAkB/+B,EACdmJ,EAAKtG,cAAgB6a,EAAgB1d,EACrC9K,EAAYiU,EAAKtG,aAAa7N,KAAK,gBAEnC+pC,GAAmBrhB,EAEvB9lB,EAAOsE,EAAchH,GAAWH,OAAOsC,GAAe3C,GAAGqqC,GACzDnnC,EAAK,GAAGlI,MAAM4H,QAAU,OACxBmI,EAAkB7K,EAAS3G,EAAE,eAAgBkb,EAAKtG,cAAesG,EAAKhQ,MAAO,uBAAwB6G,GAAa,GAC9GgW,EAAO,KACP7M,EAAK6zB,YAAYhnB,EAAOhhB,KAAK,+BAC7BmU,EAAKm0B,kBAAkBtnB,EAAOhhB,KAAK,iCACnCyK,EAAkBuW,EAAOhhB,KAAK,yBAA0BgL,GAAa,IAErEmJ,EAAKxG,aAAe+a,EAAgB1d,EACpCD,EAAgBoJ,EAAKxG,YAAY3N,KAAK,aAAcgL,GAEpDD,EAAgBoJ,EAAK3L,MAAM3E,WAAYmH,EAAc0d,GAErDvU,EAAKxG,YACLwG,EAAK8U,qBACL9U,EAAKsR,8BACLtR,EAAKuR,2BACLvR,EAAKwR,0BACLxR,EAAKuX,8BACF,CAEH,IADArlB,EAAO8N,EAAKhQ,MAAM4jB,OAAO/nB,KAAK,OACzBR,EAAM,EAAGrF,EAASkM,EAAKlM,OAAQqF,EAAMrF,EAAQqF,GAAO,EAAG,CAExD,GADA8G,EAAWD,EAAK7G,GAAK9E,MAAMJ,OACvBgM,GAAYA,EAASC,QAAQ,SAE1B,CACHjM,EAAQ,CACR,OAHAA,GAASkM,SAASF,EAAU,IAMpCiiB,EAAStvB,EAAE,0DAA2Dkb,EAAKiB,SAASnW,IAAIkV,EAAK1L,OAC7F0L,EAAKiR,aAAe,KAChB9qB,IACAiuB,EAAO9F,KAAK,WACRhnB,KAAKf,MAAMJ,MAAQA,EAAQ,OAE/B6Z,EAAKiR,aAAe9qB,GAEpBkP,GAAQC,MAA2B,GAAnBD,GAAQE,UACxB6e,EAAOrpB,IAAI,UAAW,gBACtByK,WAAW,WACP4e,EAAOrpB,IAAI,UAAW,UACvB,IAGXiV,EAAK+U,0BACL/U,EAAK4D,QAAQ5G,IAAcjQ,OAAQA,MAEvC8oC,sBAAuB,SAAU9oC,EAAQgB,GAAlB,GAEf1C,GAEAmG,EACAtB,EACAzB,EACAoF,EANAjH,EAAUtF,KAAKsF,QAEfc,KAKAooC,EAAY/nC,EAAU,SAAUgoC,GAChC,MAAO3nC,GAAe2nC,EAAEnpC,SAAS5G,QAAU+vC,EAAE/oC,QAC7C,SAAU+oC,GACV,OAAQ3nC,EAAe2nC,EAAEnpC,SAAS5G,SAAW+vC,EAAE/oC,OAEnD,IAAIW,EAAcZ,EAAQH,EAASc,IAAYA,EAAQ1H,OACnD,IAAKqF,EAAMqC,EAAQ1H,OAAS,EAAGqF,GAAO,EAAGA,IACrCmG,EAAS9D,EAAQrC,GACjB6E,EAAWM,EAAegB,EAAQ5E,GAClC6B,EAAOhD,EAAS3G,EAAE,eAAgBwC,KAAKoS,cAAepS,KAAK0I,MAAO,UAAYE,EAASO,IAAM,kDAAkDlF,GAAG2E,EAASzB,MACvJqnC,EAAUtkC,KACV1D,EAAoB0D,EAAQzD,GAC5BU,EAAK,GAAGlI,MAAM4H,QAAUJ,EAAU,GAAK,QAEvCU,EAAK7C,OAAO,IAAM5E,GAAMoD,KAAK,WAAa,KAAKpE,SAC/C6N,EAAUxB,SAAS5D,EAAKrE,KAAKpD,GAAMoD,KAAK,YAAa,IACrDqE,EAAK,GAAGoF,QAAUA,EAAU9B,EAAuBP,EAAO5E,UAAY,IAKtF61B,WAAY,SAAU11B,GAAV,GACS1B,GAAKrF,EAAQyI,EAAM2lB,EAAQjuB,EAAOyvC,EAAiB1lC,EAAUiC,EAAUD,EAAsM2E,EAAam/B,EAAgBC,EA2CvTlqC,EA3CAiU,EAAO1Y,KAAmFsF,EAAUoT,EAAKpT,QAASigB,EAAS7M,EAAK6M,QAAU7M,EAAKiB,QAAQpV,KAAK,kBAAmBq8B,EAAqBloB,EAAKtG,aAAe3G,EAAciN,EAAKtG,aAAa7N,KAAK,iBAAiB7F,OAAS,CAqB3R,IApBqB,gBAAV+G,IACP8J,EAAc9J,EACdA,EAASH,EAAQG,IACVX,GAAcW,GACrBjI,EAAEwpB,KAAK1c,EAAYhF,GAAU,SAAUwE,EAAO4E,GAC1C,GAAIA,IAASjJ,EAGT,MAFAA,GAASiJ,EACTa,EAAczF,GACP,IAIftM,EAAEwpB,KAAK1c,EAAYhF,GAAU,SAAUwE,EAAO4E,GAC1C,GAAIA,EAAK9I,QAAUH,EAGf,MAFAA,GAASiJ,EACTa,EAAczF,GACP,IAIdrE,IAAUI,EAAUJ,GAAzB,CAGA,GAAIA,EAAOH,SAAWG,EAAOH,QAAQ5G,OAAQ,CAKzC,IAJAkK,EAAWM,EAAezD,EAAQH,GAClCopC,EAAiBpkC,EAAYoO,EAAKzX,QAAQqE,SAASiK,GACnD/I,EAAoBf,GAAQ,GAC5BuJ,EAAkB7K,EAAS3G,EAAE,eAAgBkb,EAAKtG,cAAesG,EAAKhQ,MAAO,UAAYE,EAASO,IAAM,QAASP,EAASzB,MAAM,GAC3HpD,EAAM,EAAGA,EAAM0B,EAAOH,QAAQ5G,OAAQqF,IAClC2qC,EAAeppC,QAAQvB,GAAK2B,QAC7B1F,KAAKm7B,WAAW11B,EAAOH,QAAQvB,GAIvC,OADA2U,GAAK4D,QAAQ3G,IAAclQ,OAAQA,IACnC,EA4BJ,GA1BAkpC,EAAkBvkC,GAAQ3E,EAAQsD,EAAYzD,IAC9CkB,EAAoBf,GAAQ,GAC5BiT,EAAK61B,sBAAsB9oC,GAAQ,GACnCiT,EAAKyI,aACLzI,EAAK6zB,cACL7zB,EAAKm0B,oBACDpoC,EAAYiU,EAAKhQ,MACrB4lC,EAAkBK,EACdj2B,EAAKtG,cAAgBwuB,EAAqB+N,EAC1ClqC,EAAYiU,EAAKtG,aAAa7N,KAAK,gBAEnC+pC,GAAmB1N,EAEvBz5B,EAAOsE,EAAchH,GAAWR,GAAGqqC,GACnCnnC,EAAK,GAAGlI,MAAM4H,QAAU,GACxBmI,EAAkB7K,EAAS3G,EAAE,eAAgBkb,EAAKtG,cAAesG,EAAKhQ,MAAO,uBAAwBimC,GAAiB,GAClHppB,EAAO,KACP7M,EAAK6zB,YAAYhnB,EAAOhhB,KAAK,+BAC7BmU,EAAKm0B,kBAAkBtnB,EAAOhhB,KAAK,iCACnCyK,EAAkBuW,EAAOhhB,KAAK,yBAA0BoqC,GAAiB,IAEzEj2B,EAAKxG,aAAe0uB,EAAqB+N,EACzC7+B,GAAgB4I,EAAKxG,YAAY3N,KAAK,aAAcoqC,GAEpD7+B,GAAgB4I,EAAK3L,MAAM3E,WAAYumC,EAAkB/N,GAEzDloB,EAAKxG,YACLwG,EAAK8U,qBACL9U,EAAKsR,8BACLtR,EAAKuR,2BACLvR,EAAKwR,8BAGL,IADA4C,EAAStvB,EAAE,0DAA2Dkb,EAAKiB,SAASnW,IAAIkV,EAAK1L,OACxFvH,EAAO5G,MAEL,CAGH,IAFAA,EAAQ,EACR+L,EAAO8N,EAAKhQ,MAAM4jB,OAAO/nB,KAAK,OACzBR,EAAM,EAAGrF,EAASkM,EAAKlM,OAAQqF,EAAMrF,EAAQqF,GAAO,EAAG,CAExD,GADA8G,EAAWD,EAAK7G,GAAK9E,MAAMJ,MACvBgM,EAASC,QAAQ,QAAW,CAC5BjM,EAAQ,CACR,OAEJA,GAASkM,SAASF,EAAU,IAEhC6N,EAAKiR,aAAe,KAChB9qB,IACAiuB,EAAO9F,KAAK,WACRhnB,KAAKf,MAAMJ,MAAQA,EAAQ,OAE/B6Z,EAAKiR,aAAe9qB,OAjBxBiuB,GAAOjuB,MAAM,GAqBrB6Z,GAAK+U,0BACL/U,EAAK4D,QAAQ3G,IAAclQ,OAAQA,MAEvCs/B,UAAW,SAAUgG,GAAV,GACHj5B,GAAU9R,KAAK8R,QACf8lB,EAAU53B,KAAKiB,QAAQmhB,YAAcpiB,KAAKiB,QAAQmhB,WAAWwV,OAC7D53B,MAAKquB,gBAAuC,UAArBruB,KAAKguB,YAC5Blc,EAAU9R,KAAKquB,eACRruB,KAAKoE,eAAiBwzB,EAC7B9lB,EAAU9R,KAAK2Z,QACR3Z,KAAK8R,QAAQjE,GAAG,SACvBiE,EAAU9R,KAAK8R,QAAQ5H,SAChBlK,KAAKqE,SAAWrE,KAAKqE,QAAQ3F,SACpCoT,EAAU9R,KAAKqE,SAEfuzB,GAAWmT,EACXrrC,GAAM2T,GAAG4L,SAASnN,EAASi5B,GACvBjsC,OAAQkB,KAAKqE,QAAQvF,SACrB+e,IAAK7d,KAAKqE,QAAQ,GAAGrC,UACrBk4B,SAAS,IAGbx6B,GAAM2T,GAAG4L,SAASnN,EAASi5B,IAGnC6D,QAAS,SAAU7uC,EAAM8uC,GACrB7uC,KAAKiqB,2BACLjqB,KAAKkqB,0BACDlqB,KAAKqE,UACLrE,KAAK0jC,mBACL1jC,KAAKkhB,qBAELlhB,KAAKuiB,oBAAsBssB,GAAS7uC,KAAK0kC,cACrCmK,IACA7uC,KAAK0kC,WAAa,MAEtB1kC,KAAKuiB,kBAAkBpD,qBAG/B2vB,iBAAkB,WACd,GAAIxO,GAAS7sB,IACb,SAAK6sB,IAGEtgC,KAAKgN,MAAM,KAAOszB,GAAU9iC,EAAEsV,SAAS9S,KAAKgN,MAAM,GAAIszB,IAAWtgC,KAAKo3B,cAAgBp3B,KAAKkS,YAAY,KAAOouB,GAAU9iC,EAAEsV,SAAS9S,KAAKkS,YAAY,GAAIouB,MAEnKxnB,QAAS,SAAUxH,GAAV,GACmF6gB,GACpF4c,EADAr2B,EAAO1Y,KAAMyP,EAAOiJ,EAAKM,WAAW2b,OAAQhiB,EAAc+F,EAAKzX,QAAQ0R,YAA2BvT,EAAU5B,EAAEkb,EAAKtZ,WAAY4vC,GAAoB,EAAOhnC,GAAU0Q,EAAKM,WAAW+M,aAAernB,OAAQuU,EAAUjL,EAASwD,EAAmB1E,EAAe4R,EAAKpT,UAAU5G,MAEnR,KAAI4S,GAAkB,eAAbA,EAAEoO,SAA2BhH,EAAK9G,SAO3C,MAJIN,IAAkB,WAAbA,EAAEoO,QAAuBhH,EAAK9G,UAAY8G,EAAK9G,SAAS3Q,QAAQyQ,OAAStH,GAAQsO,EAAK9G,SAAS3Q,QAAQyQ,MAAOJ,EAAE3B,WACrH+I,EAAK9G,SAAS3Q,QAAQyQ,MAAMwH,OAAOzD,GAAQiD,EAAKiY,qBAEpDrf,EAAIA,MACAA,EAAEoO,SAAWtJ,IAAQsC,EAAK4a,sBAC1B5a,EAAK+L,mBACL/L,EAAK2W,sBACL3W,EAAK6a,sBACL,IAEA7a,EAAK4D,QAAQ,eACToD,OAAQpO,EAAEoO,QAAU,SACpB5V,MAAOwH,EAAExH,MACT6F,MAAO2B,EAAE3B,UAIjB+I,EAAKkL,cAAc,WACdlL,EAAK2pB,0BACF1vB,IAAgB+F,EAAKo2B,oBAAsBp2B,EAAK2V,gBAAkB3V,EAAK2V,eAAe5e,KAAK,kBAC3Fu/B,EAAoB5vC,EAAQyO,GAAG,MAC/BskB,EAAe6c,EAAoB5vC,EAAQ0K,QAAU0C,KAAKnD,IAAIqP,EAAKkV,UAAUxuB,GAAU,IAE3FsZ,EAAK+L,oBAEL/L,EAAKzX,QAAQmhB,YAAc1J,EAAKzX,QAAQmhB,WAAWwV,SACnDpb,aAAa9D,EAAKu2B,kBAClBv2B,EAAKu2B,iBAAmB/gC,WAAW,WAC1BwK,EAAK2pB,yBACN3pB,EAAKqsB,WAAU,IAEpB,MAEHrsB,EAAKqsB,WAAU,GAEnBrsB,EAAKyP,oBACLzP,EAAKoN,SACApN,EAAKpT,QAAQ5G,SACdga,EAAKo0B,aAAap0B,EAAK01B,eAAe3+B,EAAK,GAAIzH,IAC/CiL,EAAUjL,EAAS0Q,EAAKpT,QAAQ5G,QAEpCga,EAAKmJ,OAAS7Z,EAAS,GAAK0Q,EAAKmJ,OAC7BnJ,EAAKmJ,SACLnJ,EAAKyI,aACLzI,EAAK6zB,cACL7zB,EAAKm0B,oBACLn0B,EAAK2uB,cAAcr/B,GACnB0Q,EAAKmJ,OAAS7Z,EAAS,EACvB0Q,EAAKgN,WAAalW,EAAUC,IAE5BiJ,EAAKrU,UACL0qC,EAAoBr2B,EAAKrU,QAAQ8M,cAErCuH,EAAKw2B,eAAez/B,EAAMwD,EAASjL,GACnC0Q,EAAKy2B,qBAAqB1/B,EAAMwD,EAASjL,GACzC0Q,EAAKqJ,UACLrJ,EAAK8qB,0BACL9qB,EAAK02B,yBACL12B,EAAKwI,oBACLxI,EAAKgrB,iBAAiBhrB,EAAKrU,SAAW0qC,GAClCr2B,EAAKxG,cACDwG,EAAKzX,QAAQmhB,WAAWC,QACxB3J,EAAKrU,QAAQE,KAAK,+BAA+B+X,QAAQ,UAClD5D,EAAKqX,cACZrX,EAAKqX,cAAcwS,QAAQjmB,QAAQ,WAEnC5D,EAAKiB,QAAQtI,IAAI,SAAU,SAAUC;AACjCA,EAAE0d,oBAENtW,EAAKrU,QAAQiY,QAAQ,YAGxB5D,EAAK2pB,yBACN3pB,EAAK22B,gBAAgBld,EAAc6c,GAEnCt2B,EAAKqX,eACLrX,EAAKqX,cAAcuf,iBAEnB52B,EAAK/G,YACL+G,EAAK/G,WAAW49B,mBAEpB72B,EAAK82B,mBAAmB,WACpB92B,EAAKkL,cAAc,aAEnBlL,EAAK6b,oBACL7b,EAAK+iB,yBAAwB,GAE7B/iB,EAAKzX,QAAQ4hB,mBAAqBnK,EAAK/G,aAAejS,GAAM2T,GAAGglB,WAAWC,aAAa5f,EAAKzX,QAAQ0Q,YAAYxK,MAAQuR,EAAK6b,qBAC7H7b,EAAK+2B,oBAET/2B,EAAK4D,QAAQzG,KAhFb,IAkFJw5B,gBAAiB,SAAUld,EAAc6c,GAAxB,GAQL3jC,GAMAlC,EAKA0kB,CAlBJsE,KAAiBzvB,GAAayvB,EAAe,IAGjDnyB,KAAK01B,iBACDsZ,EACAhvC,KAAK0S,YAAY1S,KAAK0I,MAAMnE,KAAK,yBAAyBN,GAAGkuB,KAEzD9mB,EAAW,EACXrL,KAAK28B,iBACLtxB,EAAWrL,KAAKuiB,kBAAkB3Z,SAAS5I,KAAK28B,kBAEhDxK,EAAe,EAEfhpB,EAAM3L,IACNwC,KAAKkS,cACL/I,EAAMnJ,KAAKkS,YAAY3N,KAAK,aAAaN,GAAGoH,IAEhDlC,EAAMA,EAAI3F,IAAIxD,KAAK+M,MAAM3E,WAAWnE,GAAGoH,IACnCwiB,EAAK1kB,EAAI5E,KAAK,iDAAiDN,GAAGkuB,GACtEnyB,KAAK0S,YAAYmb,IAEjB7tB,KAAKo8B,UACLnrB,GAAWjR,KAAKo8B,SAASjwB,QAAQ,SAAS,IAAI,KAGtDsjC,kBAAmB,WACf,GAAyCC,GAArCh3B,EAAO1Y,KAAM27B,EAAUjjB,EAAK/I,OAChC+/B,GAAe3oC,GAAK40B,EAAS,SAAUxyB,GACnC,GAAIwmC,GAAcj3B,EAAKuY,SAAS9nB,GAAKuP,EAAKM,WAAW/X,QAAQ2wB,OAAOlgB,MAAMxL,GAC1E,IAAIwS,EAAKwL,aAAayrB,GAClB,MAAOxmC,KAGfuP,EAAK8b,OAAOkb,IAEhB9rB,cAAe,SAAUgsB,GACrBlwC,GAAM2T,GAAGkN,gBAAgB5H,GAAGiL,cAAchL,KAAK5Y,KAAM4vC,GACzC,YAARA,GACA5vC,KAAK6vC,sBAET7vC,KAAK8vC,mBAAmBF,GACxB5vC,KAAK+vC,yBAAyBH,IAElCC,oBAAqB,WACjB,GAAIn3B,GAAO1Y,IACP0Y,GAAKyO,gBACLzO,EAAKqO,QAAQ,UAAW,WACpB,OAAS5iB,SAAUuU,EAAK3L,MAAM3E,SAAS,oBAE3CsQ,EAAK3L,MAAMxI,KAAK,kBAAkB2I,UAG1C4iC,mBAAoB,SAAUF,GAC1B,GAAIl3B,GAAO1Y,KAAMyE,EAAYiU,EAAK3L,KAC9B2L,GAAKtU,gBACLK,EAAYiU,EAAKxG,YAAY3N,KAAK,UAElCmU,EAAKmJ,QACLnJ,EAAKqO,QAAQ6oB,EAAK,WACd,OACIzrC,SAAUM,EAAU2D,SAAS,mBAC7BqH,KAAMjS,EAAE8C,IAAIkP,EAAUkJ,EAAKM,WAAW2b,QAAS,SAAU1D,GACrD,OAASA,SAAUA,SAMvC8e,yBAA0B,SAAUH,GAChC,GAAIl3B,GAAO1Y,KAAMyE,EAAYiU,EAAK3L,KAC9B2L,GAAKtU,gBACLK,EAAYiU,EAAK5G,SAEjB4G,EAAKmJ,QAAUnJ,EAAKyM,qBACpBzM,EAAKqO,QAAQ6oB,EAAK,WACd,OACIzrC,SAAUM,EAAUF,KAAK,mBACzBkL,KAAMjS,EAAE8C,IAAIsP,GAAa8I,EAAKM,WAAW2b,QAAS,SAAU1D,GACxD,OAASA,SAAUA,SAMvCie,eAAgB,SAAUz/B,EAAMwD,EAASjL,GACrC,GAAiBjE,GAAKrF,EAAlBga,EAAO1Y,KAAmBiN,EAAO,GAAI2b,EAAiC,MAAtBlQ,EAAKtU,cAAuB4rC,EAAgB,KAAM5tB,EAAa1J,EAAKzX,QAAQmhB,WAAY6qB,GACpInqB,YAAapK,EAAKoK,YAClBC,eAAgBrK,EAAKqK,eACrBoC,oBAAqBzM,EAAKyM,oBAUlC,IARI/C,GAAcA,EAAWwV,UAAYlf,EAAKM,WAAW/X,QAAQ22B,UAC7Dlf,EAAK4pB,wBAA0B,EAC3B5pB,EAAKrU,UACLqU,EAAKrU,QAAQ,GAAGuW,UAAY,IAGpCo1B,EAAgBt3B,EAAK4pB,wBAA0B,EAC/CrvB,EAAU2V,EAAW3V,EAAUzH,EAAmBD,EAAqBmN,EAAKpT,UAAU5G,OAASuU,EAC3FjL,EAAS,EAQT,IAPAiL,EAAU2V,EAAW3V,EAAUjL,EAASiL,EACpCyF,EAAK0K,gBACLnQ,IAEAyF,EAAKyM,sBACLzM,EAAK80B,8BAAgC90B,EAAKM,WAAWnJ,cAEpD9L,EAAM,EAAGrF,EAAS+Q,EAAK/Q,OAAQqF,EAAMrF,EAAQqF,IAC9CkJ,GAAQyL,EAAKw0B,cAAcz9B,EAAK1L,GAAMkP,EAAS,EAAG2V,EAAWxV,GAA+BJ,GAAiBi6B,EAAWrkB,OAG5H3b,IAAQyL,EAAKs0B,UAAUv9B,EAAMw9B,EAE7B+C,IACAt3B,EAAK3L,MAAMrD,OAAOuD,GAClBiB,WAAW,WACHwK,EAAKs1B,mBACLt1B,EAAKwe,cAAcxe,EAAKs1B,kBACxBt1B,EAAKs1B,iBAAmB,QAGhCt1B,EAAK2pB,wBAA0B,MAE/B3pB,EAAK3L,MAAQD,EAAc4L,EAAK3L,MAAO2L,EAAK1L,MAAOC,EAAMjN,KAAKiB,QAAQilB,WAG9EipB,qBAAsB,SAAU1/B,EAAMwD,EAASjL,GAAzB,GACHjE,GAAKrF,EAMZsO,EANJC,EAAO,GAAiBggC,GACpBnqB,YAAa9iB,KAAKglB,kBAClBjC,eAAgB/iB,KAAKilB,qBACrBE,oBAAqBnlB,KAAKolB,0BAElC,IAAIplB,KAAKoE,cAAe,CAEpB,GADI4I,EAAQhN,KAAKkS,YACblK,EAAS,EAET,IADAiL,GAAoBnM,EAAeiC,EAAYtB,EAAiBzH,KAAKsF,WAAW5G,OAC3EqF,EAAM,EAAGrF,EAAS+Q,EAAK/Q,OAAQqF,EAAMrF,EAAQqF,IAC9CkJ,GAAQjN,KAAKktC,cAAcz9B,EAAK1L,GAAMkP,EAAS,EAAGD,GAAiBi6B,OAGvEhgC,GAAOjN,KAAKgtC,UAAUv9B,EAAMw9B,EAEhCngC,GAAcE,EAAM5E,SAAS,SAAU4E,EAAOC,EAAMjN,KAAKiB,QAAQilB,UACjElmB,KAAKiqB,6BAGbmlB,uBAAwB,WAChBpvC,KAAKiB,QAAQ2hB,SAASqtB,iBAAkB,GACxCjwC,KAAK2Z,QAAQpV,KAAK,iBAAiBwmC,OAAO/qC,KAAKgZ,WAAW4F,SAAW5e,KAAKgZ,WAAW+E,aAG7FiS,kBAAmB,SAAU3f,EAAQC,GAAlB,GACkCvM,GAazC+M,EACAC,EACAjS,EAfJmJ,EAAOoI,EAAO,GAAGpI,KAAMvJ,EAASuJ,EAAKvJ,OAAawxC,EAAQ5/B,EAAO,GAAGrI,KAAMkoC,EAAa9/B,EAAO7M,IAAI8M,GAAS8/B,EAAmBD,EAAWzxC,OAAQ2xC,IACrJ,KAAKtsC,EAAM,EAAGA,EAAMrF,GACXwxC,EAAMnsC,GADaA,IAIpBkE,EAAKlE,GAAK9E,MAAMH,SAChBmJ,EAAKlE,GAAK9E,MAAMH,OAASoxC,EAAMnsC,GAAK9E,MAAMH,OAAS,GAG3D,KAAKiF,EAAM,EAAGA,EAAMrF,GACXwxC,EAAMnsC,GADaA,IAIpB+M,EAAgB7I,EAAKlE,GAAKhC,aAC1BgP,EAAgBm/B,EAAMnsC,GAAKhC,aAC3BjD,EAAS,EACTgS,EAAgBC,EAChBjS,EAASgS,EACFA,EAAgBC,IACvBjS,EAASiS,GAEbs/B,EAAQlyC,KAAKW,EAEjB,KAAKiF,EAAM,EAAGA,EAAMqsC,EAAkBrsC,IAClCosC,EAAWpsC,GAAK9E,MAAM4H,QAAU,MAEpC,KAAK9C,EAAM,EAAGA,EAAMrF,EAAQqF,IACpBssC,EAAQtsC,KACRkE,EAAKlE,GAAK9E,MAAMH,OAASoxC,EAAMnsC,GAAK9E,MAAMH,OAASuxC,EAAQtsC,GAAO,EAAI,KAG9E,KAAKA,EAAM,EAAGA,EAAMqsC,EAAkBrsC,IAClCosC,EAAWpsC,GAAK9E,MAAM4H,QAAU,KAIxCnH,IAAM4wC,YACN5wC,GAAM4wC,WAAWzwC,OAAOygB,GAAKtM,WAE7BtU,GAAM6wC,WACN7wC,GAAM6wC,SAAS1wC,OAAOygB,GAAKtM,WAC3BsM,GAAKtM,UAAUw8B,uBAAyB,SAAUvxB,GA8B9C,QAAS6U,KACD2c,GAAYC,IAAiBhuC,GAC7BsW,EAAW3H,IAAI,SAAUs/B,GACzB33B,EAAW4G,KAAK8wB,KAEhBnX,EAAKzgB,UACL63B,KAGR,QAASA,KACLC,EAAK1sC,SAASpD,SAASe,KACvB,IAAIZ,GAAUzD,EAAEqC,UAAW05B,EAAKt4B,QAAQof,KACpCwwB,cAAc,EACd5xB,SAAU,SAAUwvB,GAChBxvB,EAASkD,QACLvC,KAAM6uB,EAAE7uB,KACRkxB,WAAYrC,EAAEsC,QACd9xB,SAAU,GAAMwvB,EAAEsC,QAAUtC,EAAEhZ,WAAa,EAC3CA,WAAYgZ,EAAEhZ,eAI1B/1B,IAAMsxC,QAAQC,QAAQC,EAAOjwC,GAASkwC,OAAO,WACzCP,EAAKzlC,WACNimC,KAAK,SAAUrrB,GACd3iB,EAAO0wB,QAAQ/N,KAChBsrB,KAAK,SAAUC,GACdluC,EAAOwwB,OAAO0d,KAGtB,QAASC,KAAT,GACQR,GAAU/3B,EAAW4G,OACrB6V,EAAagb,EAAWz3B,EAAWyc,aAAe,CACtD5zB,GAAK6H,OAAO8nC,EAASjtC,KAAK,OACtBwsC,EAAUtb,EACVzc,EAAW4G,KAAKmxB,EAAU,IAE1B/3B,EAAWE,OAAO,SAAUq4B,GAC5Bzd,KApE4B,GA4BhCjyB,GACA6uC,EA5BAnX,EAAOv5B,KACPoD,EAAS,GAAI5F,GAAEm2B,SACf3a,EAAaugB,EAAKvgB,WAClBy3B,EAAWlX,EAAKt4B,QAAQof,IAAIowB,SAC5Be,EAAWjY,EAAK5f,QAAQpV,KAAK,8BAC7BqsC,EAAOpzC,EAAE,SAASiG,KAClBmF,SAAU,WACVye,UACAxJ,WAEAqzB,EAAQ3X,EAAK5f,QAAQu3B,QAAQztC,KAC7B3E,OAAQ,OACRD,MAAO,SACRqF,SAAS0sC,EA+DZ,OA9DAM,GAAM3sC,KAAK,mBAAmBd,KAC1B3E,OAAQ,OACRD,MAAO,OACPmb,SAAU,YAEdk3B,EAAM3sC,KAAK,4CAA4Cd,KACnD3E,OAAQ,OACRD,MAAO,OACPmb,SAAU,YAEdk3B,EAAM3sC,KAAK,sDAAsD4G,SACjE+lC,EAAM3sC,KAAK,kCAAkCd,KAAMknB,aAAc,IACjE3qB,KAAKyxC,iBAAiBxyB,GAClBpd,EAAOqvC,EAAM3sC,KAAK,8BAA8B2I,QAChDwjC,EAAe13B,EAAW4G,OA0C1B6wB,GACAz3B,EAAWG,KAAK,SAAUo4B,GAC1Bv4B,EAAW4G,KAAK,IAEhB2xB,IAEGnuC,EAAOywB,WAElBvT,GAAKtM,UAAU09B,SAAW,SAAUzyB,GAWhC,QAAS6U,KACD2c,GAAYC,IAAiBhuC,GAC7BsW,EAAWE,OAAO,SAAUy4B,GAC5B34B,EAAW3H,IAAI,SAAU,WACrBjO,EAAO0wB,QAAQ8d,KAEnB54B,EAAW4G,KAAK8wB,IAEhBttC,EAAO0wB,QAAQ8d,GAGvB,QAASD,KACLpY,EAAKsY,gBAAiBhzC,MAAO06B,EAAK5f,QAAQ9a,UAAaizC,WAAYvY,EAAKt4B,QAAQof,IAAIyxB,aAAcC,KAAK,SAAUhsB,GAAV,GAC/FgrB,GAAU/3B,EAAW4G,OACrB6V,EAAagb,EAAWz3B,EAAWyc,aAAe,EAClDuc,GACApyB,KAAMmG,EACN+qB,WAAYC,EACZ9xB,SAAU8xB,EAAUtb,EACpBA,WAAYA,EAEhBxW,GAASkD,OAAO6vB,GAChBJ,EAAIloC,OAAOsoC,EAAKpyB,MACZmxB,EAAUtb,EACVzc,EAAW4G,KAAKmxB,EAAU,GAE1Bjd,MAELud,KAAK,SAAUC,GACdluC,EAAOwwB,OAAO0d,KAxCA,GAKlBluC,GACA4V,EACAy3B,EAEAmB,EACAlB,EATAnX,EAAOv5B,IACX,OAAIu5B,GAAKt4B,QAAQof,IAAI4xB,WAA2C,QAA9B1Y,EAAKt4B,QAAQof,IAAI4xB,UACxC1Y,EAAKiX,uBAAuBvxB,IAEnC7b,EAAS,GAAI5F,GAAEm2B,SACf3a,EAAaugB,EAAKvgB,WAClBy3B,EAAWlX,EAAKt4B,QAAQof,IAAIowB,SAChCzwC,KAAKyxC,iBAAiBxyB,GAClB2yB,EAAM,GAAIlyC,IAAMsxC,QAAQkB,MACxBxB,EAAe13B,EAAW4G,OAiC1B6wB,GACAz3B,EAAWG,KAAK,SAAUw4B,GAC1B34B,EAAW4G,KAAK,IAEhB+xB,IAEGvuC,EAAOywB,YAElBvT,GAAKtM,UAAUy9B,iBAAmB,SAAU/d,GAAV,GAQ1Bye,GAPAC,EAAU50C,EAAE,uEAChB40C,GAAQtkC,QAAQ9N,KAAK2Z,QAAQu3B,QAAQztC,KACjCmF,SAAU,WACViV,IAAK,EACLwJ,KAAM,KAEVrnB,KAAK2Z,QAAQjQ,OAAO0oC,GAChBD,EAAK30C,EAAE,wCAA0C0G,SAASkuC,GAASC,kBACnEvhB,KAAM,QACNwhB,WAAY,GACZ3zB,IAAK,EACLtV,IAAK,EACLhJ,MAAO,IACRoP,KAAK,oBACRikB,EAASzU,SAAS,SAAU3N,GACxB6gC,EAAG9xC,MAAMiR,EAAE2N,YACZkyB,OAAO,WACNzxC,GAAMga,QAAQ04B,GACdA,EAAQjnC,aA8HpBkI,GAAGk/B,OAAOjyB,IACVjN,GAAGk/B,OAAO95B,KACZhZ,OAAOC,MAAM2C,QACR5C,OAAOC,OACE,kBAAVnC,SAAwBA,OAAO+E,IAAM/E,OAAS,SAAUgF,EAAIC,EAAIC,IACrEA,GAAMD","file":"kendo.grid.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.grid', [\n        'kendo.data',\n        'kendo.columnsorter',\n        'kendo.editable',\n        'kendo.window',\n        'kendo.filtermenu',\n        'kendo.columnmenu',\n        'kendo.groupable',\n        'kendo.pager',\n        'kendo.selectable',\n        'kendo.sortable',\n        'kendo.reorderable',\n        'kendo.resizable',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.ooxml',\n        'kendo.excel',\n        'kendo.progressbar',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'grid',\n        name: 'Grid',\n        category: 'web',\n        description: 'The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.',\n        depends: [\n            'data',\n            'columnsorter',\n            'sortable'\n        ],\n        features: [\n            {\n                id: 'grid-editing',\n                name: 'Editing',\n                description: 'Support for record editing',\n                depends: [\n                    'editable',\n                    'window'\n                ]\n            },\n            {\n                id: 'grid-filtering',\n                name: 'Filtering',\n                description: 'Support for record filtering',\n                depends: ['filtermenu']\n            },\n            {\n                id: 'grid-columnmenu',\n                name: 'Column menu',\n                description: 'Support for header column menu',\n                depends: ['columnmenu']\n            },\n            {\n                id: 'grid-grouping',\n                name: 'Grouping',\n                description: 'Support for grid grouping',\n                depends: ['groupable']\n            },\n            {\n                id: 'grid-filtercell',\n                name: 'Row filter',\n                description: 'Support for grid header filtering',\n                depends: ['filtercell']\n            },\n            {\n                id: 'grid-paging',\n                name: 'Paging',\n                description: 'Support for grid paging',\n                depends: ['pager']\n            },\n            {\n                id: 'grid-selection',\n                name: 'Selection',\n                description: 'Support for row selection',\n                depends: ['selectable']\n            },\n            {\n                id: 'grid-column-reorder',\n                name: 'Column reordering',\n                description: 'Support for column reordering',\n                depends: ['reorderable']\n            },\n            {\n                id: 'grid-column-resize',\n                name: 'Column resizing',\n                description: 'Support for column resizing',\n                depends: ['resizable']\n            },\n            {\n                id: 'grid-mobile',\n                name: 'Grid adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'grid-excel-export',\n                name: 'Excel export',\n                description: 'Export grid data as Excel spreadsheet',\n                depends: ['excel']\n            },\n            {\n                id: 'grid-pdf-export',\n                name: 'PDF export',\n                description: 'Export grid data as PDF',\n                depends: [\n                    'pdf',\n                    'drawing',\n                    'progressbar'\n                ]\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, DataSource = kendo.data.DataSource, ObservableObject = kendo.data.ObservableObject, tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml, activeElement = kendo._activeElement, Widget = ui.Widget, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, keys = kendo.keys, isPlainObject = $.isPlainObject, extend = $.extend, map = $.map, grep = $.grep, isArray = $.isArray, inArray = $.inArray, push = Array.prototype.push, proxy = $.proxy, isFunction = kendo.isFunction, isEmptyObject = $.isEmptyObject, contains = $.contains, math = Math, PROGRESS = 'progress', ERROR = 'error', DATA_CELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', SELECTION_CELL_SELECTOR = 'tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)', NAVROW = 'tr:not(.k-footer-template):visible', NAVCELL = ':not(.k-group-cell):not(.k-hierarchy-cell):visible', ITEMROW = 'tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible', FIRSTITEMROW = ITEMROW + ':first', LASTITEMROW = ITEMROW + ':last', FIRSTNAVITEM = NAVROW + ':first>' + NAVCELL + ':first', HEADERCELLS = 'th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)', NS = '.kendoGrid', EDIT = 'edit', BEFOREEDIT = 'beforeEdit', SAVE = 'save', REMOVE = 'remove', DETAILINIT = 'detailInit', FILTERMENUINIT = 'filterMenuInit', COLUMNMENUINIT = 'columnMenuInit', FILTERMENUOPEN = 'filterMenuOpen', COLUMNMENUOPEN = 'columnMenuOpen', CELLCLOSE = 'cellClose', CHANGE = 'change', COLUMNHIDE = 'columnHide', COLUMNSHOW = 'columnShow', SAVECHANGES = 'saveChanges', DATABOUND = 'dataBound', DETAILEXPAND = 'detailExpand', DETAILCOLLAPSE = 'detailCollapse', ITEM_CHANGE = 'itemchange', PAGE = 'page', PAGING = 'paging', SCROLL = 'scroll', SYNC = 'sync', FOCUSED = 'k-state-focused', FOCUSABLE = ':kendoFocusable', SELECTED = 'k-state-selected', CHECKBOX = 'k-checkbox', CHECKBOXINPUT = 'input[data-role=\\'checkbox\\'].' + CHECKBOX, NORECORDSCLASS = 'k-grid-norecords', COLUMNRESIZE = 'columnResize', COLUMNREORDER = 'columnReorder', COLUMNLOCK = 'columnLock', COLUMNUNLOCK = 'columnUnlock', NAVIGATE = 'navigate', CLICK = 'click', HEIGHT = 'height', TABINDEX = 'tabIndex', FUNCTION = 'function', STRING = 'string', BOTTOM = 'bottom', CONTAINER_FOR = 'container-for', FIELD = 'field', INPUT = 'input', INCELL = 'incell', INLINE = 'inline', UNIQUE_ID = 'uid', DELETECONFIRM = 'Are you sure you want to delete this record?', NORECORDS = 'No records available.', CONFIRMDELETE = 'Delete', CANCELDELETE = 'Cancel', COLLAPSE = 'Collapse', EXPAND = 'Expand', ARIALABEL = 'aria-label', formatRegExp = /(\\}|\\#)/gi, templateHashRegExp = /#/gi, whitespaceRegExp = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', nonDataCellsRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-group-cell|k-hierarchy-cell)' + '(' + whitespaceRegExp + '|$)'), filterRowRegExp = new RegExp('(^|' + whitespaceRegExp + ')' + '(k-filter-row)' + '(' + whitespaceRegExp + '|$)'), COMMANDBUTTONTMPL = '# if (iconClass) {#' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\"><span class=\"#=iconClass#\"></span>#=text#</a>' + '# } else { #' + '<a role=\"button\" class=\"k-button k-button-icontext #=className#\" #=attr# href=\"\\\\#\">#=text#</a>' + '# } #', SELECTCOLUMNTMPL = '# var checkboxGuid = kendo.guid(); #' + '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" id=\"#= checkboxGuid #\" aria-label=\"Select row\" aria-checked=\"false\" type=\"checkbox\">' + '<label for=\"#= checkboxGuid #\" class=\"k-checkbox-label k-no-text\">&\\\\#8203;</label>', SELECTCOLUMNHEADERTMPL = '# var checkboxGuid = kendo.guid(); #' + '<input class=\"' + CHECKBOX + '\" data-role=\"checkbox\" aria-label=\"Select all rows\" aria-checked=\"false\" type=\"checkbox\" id=\"#= checkboxGuid #\">' + '<label for=\"#= checkboxGuid #\" class=\"k-checkbox-label k-no-text\">##&\\\\#8203;##</label>', isRtl = false, browser = kendo.support.browser, isIE7 = browser.msie && browser.version == 7, isIE8 = browser.msie && browser.version == 8;\n        var isIE11 = browser.msie && browser.version === 11;\n        var VirtualScrollable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._refreshHandler = proxy(that.refresh, that);\n                that.setDataSource(options.dataSource);\n                that.wrap();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                }\n                that.dataSource = dataSource;\n                that.dataSource.bind(CHANGE, that._refreshHandler);\n                that.dataSource.options.useRanges = true;\n            },\n            options: {\n                name: 'VirtualScrollable',\n                itemHeight: $.noop,\n                prefetch: true,\n                maxScrollHeight: 250000\n            },\n            events: [\n                PAGING,\n                PAGE,\n                SCROLL\n            ],\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n                that.wrapper.add(that.verticalScrollbar).off(NS);\n                if (that.drag) {\n                    that.drag.destroy();\n                    that.drag = null;\n                }\n                that.wrapper = that.element = that.verticalScrollbar = null;\n                that._refreshHandler = null;\n            },\n            wrap: function () {\n                var that = this, scrollbar = kendo.support.scrollbar() + 1, element = that.element, wrapper;\n                element.css({\n                    width: 'auto',\n                    overflow: 'hidden'\n                }).css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                that.content = element.children().first();\n                wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>').parent().bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                that._wrapper();\n                if (kendo.support.kineticScrollNeeded) {\n                    that.drag = new kendo.UserEvents(that.wrapper, {\n                        global: true,\n                        allowSelection: true,\n                        start: function (e) {\n                            e.sender.capture();\n                        },\n                        move: function (e) {\n                            that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                            wrapper.scrollLeft(wrapper.scrollLeft() - e.x.delta);\n                            e.preventDefault();\n                        }\n                    });\n                }\n                that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" />').css({ width: scrollbar }).appendTo(element).bind('scroll' + NS, proxy(that._scroll, that));\n            },\n            _wrapper: function () {\n                var that = this;\n                if (isIE11) {\n                    that.wrapper.css({ 'overflow-y': SCROLL });\n                    that.element.css(isRtl ? 'padding-left' : 'padding-right', 0);\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var scrollbar = this.verticalScrollbar, scrollTop = scrollbar.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                    e.preventDefault();\n                    this.verticalScrollbar.scrollTop(scrollTop + -delta);\n                }\n            },\n            _scroll: function (e) {\n                var that = this, delayLoading = !that.options.prefetch, scrollTop = e.currentTarget.scrollTop, dataSource = that.dataSource, rowHeight = that.itemHeight, skip = dataSource.skip() || 0, start = that._rangeStart || skip, height = that.element.innerHeight(), isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop), firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0), lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight), lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n                if (that._preventScroll) {\n                    that._preventScroll = false;\n                    return;\n                }\n                that._scrollTop = scrollTop - start * rowHeight;\n                that._scrollbarTop = scrollTop;\n                that._scrolling = delayLoading;\n                if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                    that.wrapper[0].scrollTop = that._scrollTop;\n                }\n                that.trigger(SCROLL);\n                if (delayLoading) {\n                    if (that._scrollingTimeout) {\n                        clearTimeout(that._scrollingTimeout);\n                    }\n                    that._scrollingTimeout = setTimeout(function () {\n                        that._scrolling = false;\n                        that._page(that._rangeStart, that.dataSource.take());\n                    }, 100);\n                }\n            },\n            scrollToTop: function () {\n                this._scrollTo(0);\n            },\n            scrollToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n            },\n            _scrollWrapperToTop: function () {\n                this.wrapper.scrollTop(0);\n            },\n            _scrollWrapperToBottom: function () {\n                this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n            },\n            _scrollWrapperOnColumnResize: function () {\n                var that = this;\n                var wrapper = this.wrapper;\n                var initialScrollTop = wrapper.scrollTop();\n                if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                    if (!that._wrapperScrolled || that._isScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                        that._wrapperScrolled = true;\n                    }\n                } else if (that._wrapperScrolled) {\n                    if (!that._isWrapperScrolledToBottom()) {\n                        wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                        that._scrollTop = wrapper.scrollTop();\n                    }\n                    that._wrapperScrolled = false;\n                }\n            },\n            _scrollTo: function (scrollTop) {\n                var that = this;\n                var scrollbar = that.verticalScrollbar;\n                if (scrollbar.scrollTop() !== scrollTop) {\n                    that._preventScroll = true;\n                }\n                that.wrapper.scrollTop(scrollTop);\n                that._scrollTop = that.wrapper.scrollTop();\n                scrollbar.scrollTop(scrollTop);\n                that._scrollbarTop = scrollbar.scrollTop();\n            },\n            _isScrolledToTop: function () {\n                return this.verticalScrollbar.scrollTop() === 0;\n            },\n            _isScrolledToBottom: function () {\n                var scrollbar = this.verticalScrollbar;\n                var scrollTop = scrollbar.scrollTop();\n                return scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10);\n            },\n            _isWrapperScrolledToBottom: function () {\n                var wrapper = this.wrapper;\n                return wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10);\n            },\n            itemIndex: function (rowIndex) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                return rangeStart + rowIndex;\n            },\n            _isElementVisible: function (element) {\n                return this._isElementVisibleInWrapper(element);\n            },\n            _isElementVisibleInWrapper: function (element) {\n                var that = this;\n                var wrapper = that.wrapper;\n                var offsetTop;\n                var halfHeight;\n                element = $(element);\n                if (element[0] && contains(wrapper[0], element[0])) {\n                    offsetTop = parseInt(element.position().top, 10);\n                    halfHeight = element.outerHeight() / 2;\n                    if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && offsetTop + halfHeight <= wrapper.height()) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            position: function (index) {\n                var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n                var pageSize = this.dataSource.pageSize();\n                var result;\n                if (index > rangeStart) {\n                    result = index - rangeStart + 1;\n                } else {\n                    result = rangeStart - index - 1;\n                }\n                return result > pageSize ? pageSize : result;\n            },\n            scrollIntoView: function (row) {\n                var container = this.wrapper[0];\n                var containerHeight = container.clientHeight;\n                var containerScroll = !this._isScrolledToBottom() ? this._scrollTop || container.scrollTop : container.scrollTop;\n                var elementOffset = row[0].offsetTop;\n                var elementHeight = row[0].offsetHeight;\n                if (containerScroll > elementOffset) {\n                    this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n                } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                    this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n                }\n            },\n            _fetch: function (firstItemIndex, lastItemIndex, scrollingUp) {\n                var that = this, dataSource = that.dataSource, itemHeight = that.itemHeight, take = dataSource.take(), rangeStart = that._rangeStart || dataSource.skip() || 0, currentSkip = math.floor(firstItemIndex / take) * take, fetching = false, prefetchAt = 0.33;\n                var scrollbar = that.verticalScrollbar;\n                var webkitCorrection = browser.webkit ? 1 : 0;\n                if (firstItemIndex < rangeStart) {\n                    fetching = true;\n                    rangeStart = math.max(0, lastItemIndex - take);\n                    that._scrollTop = scrollbar.scrollTop() - rangeStart * itemHeight;\n                    that._page(rangeStart, take);\n                } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n                    fetching = true;\n                    rangeStart = math.min(firstItemIndex, dataSource.total() - take);\n                    if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar.height() - webkitCorrection) {\n                        that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper.height();\n                    } else {\n                        that._scrollTop = itemHeight;\n                    }\n                    that._page(rangeStart, take);\n                } else if (!that._fetching && that.options.prefetch) {\n                    if (firstItemIndex < currentSkip + take - take * prefetchAt && firstItemIndex > take) {\n                        dataSource.prefetch(currentSkip - take, take, $.noop);\n                    }\n                    if (lastItemIndex > currentSkip + take * prefetchAt) {\n                        dataSource.prefetch(currentSkip + take, take, $.noop);\n                    }\n                }\n                return fetching;\n            },\n            fetching: function () {\n                return this._fetching;\n            },\n            _page: function (skip, take, callback) {\n                var that = this, delayLoading = !that.options.prefetch, dataSource = that.dataSource;\n                callback = isFunction(callback) ? callback : $.noop;\n                if (that.trigger(PAGING, {\n                        skip: skip,\n                        take: take\n                    })) {\n                    return;\n                }\n                clearTimeout(that._timeout);\n                that._fetching = true;\n                that._rangeStart = skip;\n                if (dataSource.inRange(skip, take)) {\n                    kendo.ui.progress($(that.wrapper).parent(), true);\n                    dataSource.range(skip, take, function () {\n                        kendo.ui.progress($(that.wrapper).parent(), false);\n                        callback();\n                        that.trigger(PAGE);\n                    });\n                } else {\n                    if (!delayLoading) {\n                        kendo.ui.progress(that.wrapper.parent(), true);\n                    }\n                    that._timeout = setTimeout(function () {\n                        if (!that._scrolling) {\n                            if (delayLoading) {\n                                kendo.ui.progress(that.wrapper.parent(), true);\n                            }\n                            dataSource.range(skip, take, function () {\n                                kendo.ui.progress(that.wrapper.parent(), false);\n                                callback();\n                                that.trigger(PAGE);\n                            });\n                        }\n                    }, 100);\n                }\n            },\n            repaintScrollbar: function (shouldScrollWrapper) {\n                var that = this, html = '', maxHeight = that.options.maxScrollHeight, dataSource = that.dataSource, scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0, wrapperElement = that.wrapper[0], totalHeight, idx, itemHeight;\n                var wasScrolledToBottom = that._isScrolledToBottom();\n                itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n                var addScrollBarHeight = wrapperElement.scrollWidth > wrapperElement.offsetWidth ? scrollbar : 0;\n                totalHeight = dataSource.total() * itemHeight + addScrollBarHeight;\n                for (idx = 0; idx < math.floor(totalHeight / maxHeight); idx++) {\n                    html += '<div style=\"width:1px;height:' + maxHeight + 'px\"></div>';\n                }\n                if (totalHeight % maxHeight) {\n                    html += '<div style=\"width:1px;height:' + totalHeight % maxHeight + 'px\"></div>';\n                }\n                that.verticalScrollbar.html(html);\n                if (wasScrolledToBottom && !that._isScrolledToBottom()) {\n                    that.scrollToBottom();\n                }\n                if (typeof that._scrollTop !== 'undefined' && !!shouldScrollWrapper) {\n                    wrapperElement.scrollTop = that._scrollTop;\n                    that._scrollWrapperOnColumnResize();\n                }\n            },\n            refresh: function (e) {\n                var that = this, dataSource = that.dataSource, rangeStart = that._rangeStart;\n                var action = (e || {}).action;\n                var shouldScrollWrapper = that._isScrolledToBottom() || !action || action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC;\n                kendo.ui.progress(that.wrapper.parent(), false);\n                clearTimeout(that._timeout);\n                that.repaintScrollbar(shouldScrollWrapper);\n                if (that.drag) {\n                    that.drag.cancel();\n                }\n                if (typeof rangeStart !== 'undefined' && !that._fetching) {\n                    if (!action || action !== SYNC && action !== ITEM_CHANGE) {\n                        that._rangeStart = dataSource.skip();\n                    }\n                    if (dataSource.page() === 1 && (!action || action !== SYNC && action !== ITEM_CHANGE)) {\n                        that.verticalScrollbar[0].scrollTop = 0;\n                    }\n                }\n                that._fetching = false;\n            }\n        });\n        function attrEquals(attrName, attrValue) {\n            return '[' + kendo.attr(attrName) + '=' + attrValue + ']';\n        }\n        function groupCells(count) {\n            return new Array(count + 1).join('<td class=\"k-group-cell\">&nbsp;</td>');\n        }\n        function stringifyAttributes(attributes) {\n            var attr, result = ' ';\n            if (attributes) {\n                if (typeof attributes === STRING) {\n                    return attributes;\n                }\n                for (attr in attributes) {\n                    if (attributes[attr] !== '') {\n                        result += attr + '=\"' + attributes[attr] + '\"';\n                    }\n                }\n            }\n            return result;\n        }\n        var defaultCommands = {\n            create: {\n                text: 'Add new record',\n                className: 'k-grid-add',\n                iconClass: 'k-icon k-i-plus'\n            },\n            cancel: {\n                text: 'Cancel changes',\n                className: 'k-grid-cancel-changes',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            save: {\n                text: 'Save changes',\n                className: 'k-grid-save-changes',\n                iconClass: 'k-icon k-i-check'\n            },\n            destroy: {\n                text: 'Delete',\n                className: 'k-grid-delete',\n                iconClass: 'k-icon k-i-close'\n            },\n            edit: {\n                text: 'Edit',\n                className: 'k-grid-edit',\n                iconClass: 'k-icon k-i-edit'\n            },\n            update: {\n                text: 'Update',\n                className: 'k-primary k-grid-update',\n                iconClass: 'k-icon k-i-check'\n            },\n            canceledit: {\n                text: 'Cancel',\n                className: 'k-grid-cancel',\n                iconClass: 'k-icon k-i-cancel'\n            },\n            excel: {\n                text: 'Export to Excel',\n                className: 'k-grid-excel',\n                iconClass: 'k-icon k-i-file-excel'\n            },\n            pdf: {\n                text: 'Export to PDF',\n                className: 'k-grid-pdf',\n                iconClass: 'k-icon k-i-file-pdf'\n            }\n        };\n        function cursor(context, value) {\n            $('th, th .k-grid-filter, th .k-link', context).add(document.body).css('cursor', value);\n        }\n        function reorder(selector, source, dest, before, count) {\n            var sourceIndex = source;\n            source = $();\n            count = count || 1;\n            for (var idx = 0; idx < count; idx++) {\n                source = source.add(selector.eq(sourceIndex + idx));\n            }\n            if (typeof dest == 'number') {\n                source[before ? 'insertBefore' : 'insertAfter'](selector.eq(dest));\n            } else {\n                source.appendTo(dest);\n            }\n        }\n        function elements(lockedContent, content, filter) {\n            return $(lockedContent).add(content).find(filter);\n        }\n        function attachCustomCommandEvent(context, container, commands) {\n            var idx, length, command, commandName;\n            commands = !isArray(commands) ? [commands] : commands;\n            for (idx = 0, length = commands.length; idx < length; idx++) {\n                command = commands[idx];\n                if (isPlainObject(command) && command.click) {\n                    commandName = command.name || command.text;\n                    container.on(CLICK + NS, 'a.k-grid-' + (commandName || '').replace(/\\s/g, ''), { commandName: commandName }, proxy(command.click, context));\n                }\n            }\n        }\n        function normalizeColumns(columns, encoded, hide) {\n            return map(columns, function (column) {\n                column = typeof column === STRING ? { field: column } : column;\n                var hidden;\n                if (!isVisible(column) || hide) {\n                    column.attributes = addHiddenStyle(column.attributes);\n                    column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                    column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                    hidden = true;\n                }\n                if (column.columns) {\n                    column.columns = normalizeColumns(column.columns, encoded, hidden);\n                }\n                var uid = kendo.guid();\n                column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                return extend({\n                    encoded: encoded,\n                    hidden: hidden\n                }, column);\n            });\n        }\n        function columnParent(column, columns) {\n            var parents = [];\n            columnParents(column, columns, parents);\n            return parents[parents.length - 1];\n        }\n        function columnParents(column, columns, parents) {\n            parents = parents || [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (column === columns[idx]) {\n                    return true;\n                } else if (columns[idx].columns) {\n                    var inserted = parents.length;\n                    parents.push(columns[idx]);\n                    if (!columnParents(column, columns[idx].columns, parents)) {\n                        parents.splice(inserted, parents.length - inserted);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        function setColumnVisibility(column, visible) {\n            var method = visible ? removeHiddenStyle : addHiddenStyle;\n            column.hidden = !visible;\n            column.attributes = method(column.attributes);\n            column.footerAttributes = method(column.footerAttributes);\n            column.headerAttributes = method(column.headerAttributes);\n        }\n        function isCellVisible() {\n            return this.style.display !== 'none';\n        }\n        function isVisible(column) {\n            return visibleColumns([column]).length > 0;\n        }\n        function visibleColumns(columns) {\n            return grep(columns, function (column) {\n                var result = !column.hidden;\n                if (result && column.columns) {\n                    result = visibleColumns(column.columns).length > 0;\n                }\n                return result;\n            });\n        }\n        function toJQuery(elements) {\n            return $(elements).map(function () {\n                return this.toArray();\n            });\n        }\n        function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n            var lockedColumnDepth = depth(lockedColumns(columns));\n            var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n            var rowSpan = cell.rowSpan;\n            if (sourceLockedColumnsCount) {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan - (lockedColumnDepth - nonLockedColumnDepth) || 1;\n                } else {\n                    cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n                }\n            } else {\n                if (lockedColumnDepth > nonLockedColumnDepth) {\n                    cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n                } else {\n                    cell.rowSpan = rowSpan - (nonLockedColumnDepth - lockedColumnDepth) || 1;\n                }\n            }\n        }\n        function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups) {\n            var sourcesDepth = depth(sources);\n            var targetDepth = depth([target]);\n            if (sourcesDepth > targetDepth) {\n                var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>');\n                var rows = destination.children(':not(.k-filter-row)');\n                $(new Array(sourcesDepth - targetDepth + 1).join('<tr>' + groupCells + '</tr>')).insertAfter(rows.last());\n            }\n            addRowSpanValue(destination, sourcesDepth - targetDepth);\n            moveCells(leafs, columns, container, destination);\n        }\n        function updateCellIndex(thead, columns, offset) {\n            offset = offset || 0;\n            var position;\n            var cell;\n            var allColumns = columns;\n            columns = leafColumns(columns);\n            var cells = {};\n            var rows = thead.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            for (var idx = 0, length = columns.length; idx < length; idx++) {\n                position = columnPosition(columns[idx], allColumns);\n                if (!cells[position.row]) {\n                    cells[position.row] = rows.eq(position.row).find('.k-header').filter(filter);\n                }\n                cell = cells[position.row].eq(position.cell);\n                cell.attr(kendo.attr('index'), offset + idx);\n            }\n            return columns.length;\n        }\n        function depth(columns) {\n            var result = 1;\n            var max = 0;\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].columns) {\n                    var temp = depth(columns[idx].columns);\n                    if (temp > max) {\n                        max = temp;\n                    }\n                }\n            }\n            return result + max;\n        }\n        function moveCells(leafs, columns, container, destination) {\n            var sourcePosition = columnVisiblePosition(leafs[0], columns);\n            var ths = container.find('>tr:not(.k-filter-row):eq(' + sourcePosition.row + ')>th.k-header');\n            var t = $();\n            var sourceIndex = sourcePosition.cell;\n            var idx;\n            for (idx = 0; idx < leafs.length; idx++) {\n                t = t.add(ths.eq(sourceIndex + idx));\n            }\n            destination.find('>tr:not(.k-filter-row)').eq(sourcePosition.row).append(t);\n            var children = [];\n            for (idx = 0; idx < leafs.length; idx++) {\n                if (leafs[idx].columns) {\n                    children = children.concat(leafs[idx].columns);\n                }\n            }\n            if (children.length) {\n                moveCells(children, columns, container, destination);\n            }\n        }\n        function columnPosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                cellCounts[row]++;\n            }\n            return result;\n        }\n        function findParentColumnWithChildren(columns, index, source, rtl) {\n            var target;\n            var locked = source.locked;\n            do {\n                target = columns[index];\n                index += rtl ? 1 : -1;\n            } while (target && index > -1 && index < columns.length && target != source && !target.columns && target.locked == locked);\n            return target;\n        }\n        function findReorderTarget(columns, target, source, before) {\n            if (target.columns) {\n                target = target.columns;\n                return target[before ? 0 : target.length - 1];\n            } else {\n                var parent = columnParent(target, columns);\n                var parentColumns;\n                if (parent) {\n                    parentColumns = parent.columns;\n                } else {\n                    parentColumns = columns;\n                }\n                var index = inArray(target, parentColumns);\n                if (index === 0 && before) {\n                    index++;\n                } else if (index == parentColumns.length - 1 && !before) {\n                    index--;\n                } else if (index > 0 || index === 0 && !before) {\n                    index += before ? -1 : 1;\n                }\n                var sourceIndex = inArray(source, parentColumns);\n                target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n                if (target && target != source && target.columns) {\n                    return findReorderTarget(columns, target, source, before);\n                }\n            }\n            return null;\n        }\n        function columnVisiblePosition(column, columns, row, cellCounts) {\n            var result;\n            var idx;\n            row = row || 0;\n            cellCounts = cellCounts || {};\n            cellCounts[row] = cellCounts[row] || 0;\n            for (idx = 0; idx < columns.length; idx++) {\n                if (columns[idx] == column) {\n                    result = {\n                        cell: cellCounts[row],\n                        row: row\n                    };\n                    break;\n                } else if (columns[idx].columns) {\n                    result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                    if (result) {\n                        break;\n                    }\n                }\n                if (!columns[idx].hidden) {\n                    cellCounts[row]++;\n                }\n            }\n            return result;\n        }\n        function flatColumnsInDomOrder(columns) {\n            var result = flatColumns(lockedColumns(columns));\n            return result.concat(flatColumns(nonLockedColumns(columns)));\n        }\n        function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n            var column = flatColumns[sourceIndex];\n            var target = flatColumns[targetIndex];\n            var parent = columnParent(column, columns);\n            columns = parent ? parent.columns : columns;\n            return inArray(target, columns);\n        }\n        function flatColumns(columns) {\n            var result = [];\n            var children = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                result.push(columns[idx]);\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                result = result.concat(flatColumns(children));\n            }\n            return result;\n        }\n        function hiddenLeafColumnsCount(columns) {\n            var counter = 0;\n            var column;\n            for (var idx = 0; idx < columns.length; idx++) {\n                column = columns[idx];\n                if (column.columns) {\n                    counter += hiddenLeafColumnsCount(column.columns);\n                } else if (column.hidden) {\n                    counter++;\n                }\n            }\n            return counter;\n        }\n        function columnsWidth(cols) {\n            var colWidth, width = 0;\n            for (var idx = 0, length = cols.length; idx < length; idx++) {\n                colWidth = cols[idx].style.width;\n                if (colWidth && colWidth.indexOf('%') == -1) {\n                    width += parseInt(colWidth, 10);\n                }\n            }\n            return width;\n        }\n        function removeRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            var rowSpan;\n            for (var idx = 0; idx < cells.length; idx++) {\n                rowSpan = cells[idx].rowSpan;\n                if (rowSpan > 1) {\n                    cells[idx].rowSpan = rowSpan - count || 1;\n                }\n            }\n        }\n        function addRowSpanValue(container, count) {\n            var cells = container.find('tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                cells[idx].rowSpan += count;\n            }\n        }\n        function removeEmptyRows(container) {\n            var rows = container.find('tr:not(.k-filter-row)');\n            var emptyRowsCount = rows.filter(function () {\n                return !$(this).children().length;\n            }).remove().length;\n            var cells = rows.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n            for (var idx = 0; idx < cells.length; idx++) {\n                if (cells[idx].rowSpan > 1) {\n                    cells[idx].rowSpan -= emptyRowsCount;\n                }\n            }\n            return rows.length - emptyRowsCount;\n        }\n        function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n            var idx, row, length, children = [];\n            for (idx = 0, length = columns.length; idx < length; idx++) {\n                row = rows[rowIndex] || [];\n                row.push(cells.eq(offset + idx));\n                rows[rowIndex] = row;\n                if (columns[idx].columns) {\n                    children = children.concat(columns[idx].columns);\n                }\n            }\n            if (children.length) {\n                mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n            }\n        }\n        function lockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked;\n            });\n        }\n        function nonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked;\n            });\n        }\n        function visibleNonLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return !column.locked && isVisible(column);\n            });\n        }\n        function visibleLockedColumns(columns) {\n            return grep(columns, function (column) {\n                return column.locked && isVisible(column);\n            });\n        }\n        function visibleLeafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (columns[idx].hidden) {\n                    continue;\n                }\n                if (columns[idx].columns) {\n                    result = result.concat(visibleLeafColumns(columns[idx].columns));\n                } else {\n                    result.push(columns[idx]);\n                }\n            }\n            return result;\n        }\n        function leafColumns(columns) {\n            var result = [];\n            for (var idx = 0; idx < columns.length; idx++) {\n                if (!columns[idx].columns) {\n                    result.push(columns[idx]);\n                    continue;\n                }\n                result = result.concat(leafColumns(columns[idx].columns));\n            }\n            return result;\n        }\n        function leafDataCells(container) {\n            var rows = container.find('>tr:not(.k-filter-row)');\n            var filter = function () {\n                var el = $(this);\n                return !el.hasClass('k-group-cell') && !el.hasClass('k-hierarchy-cell');\n            };\n            var cells = $();\n            if (rows.length > 1) {\n                cells = rows.find('th').filter(filter).filter(function () {\n                    return this.rowSpan > 1;\n                });\n            }\n            cells = cells.add(rows.last().find('th').filter(filter));\n            var indexAttr = kendo.attr('index');\n            cells.sort(function (a, b) {\n                a = $(a);\n                b = $(b);\n                var indexA = a.attr(indexAttr);\n                var indexB = b.attr(indexAttr);\n                if (indexA === undefined) {\n                    indexA = $(a).index();\n                }\n                if (indexB === undefined) {\n                    indexB = $(b).index();\n                }\n                indexA = parseInt(indexA, 10);\n                indexB = parseInt(indexB, 10);\n                return indexA > indexB ? 1 : indexA < indexB ? -1 : 0;\n            });\n            return cells;\n        }\n        function parentColumnsCells(cell) {\n            var container = cell.closest('table');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row);\n            if (level > 0) {\n                var parent = headerRows.eq(level - 1);\n                var parentCellsWithChildren = parent.find('th:not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return !$(this).attr('rowspan');\n                });\n                var offset = 0;\n                var index = row.find('th:not(.k-group-cell,.k-hierarchy-cell)').index(cell);\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)').filter(function () {\n                    return this.colSpan > 1;\n                });\n                for (var idx = 0; idx < prevCells.length; idx++) {\n                    offset += prevCells[idx].colSpan || 1;\n                }\n                index += Math.max(offset - 1, 0);\n                offset = 0;\n                for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                    var parentCell = parentCellsWithChildren.eq(idx);\n                    if (parentCell.attr('data-colspan')) {\n                        offset += parentCell[0].getAttribute('data-colspan');\n                    } else {\n                        offset += 1;\n                    }\n                    if (index >= idx && index < offset) {\n                        result = parentColumnsCells(parentCell).add(result);\n                        break;\n                    }\n                }\n            }\n            return result;\n        }\n        function childColumnsCells(cell) {\n            var container = cell.closest('thead');\n            var result = $().add(cell);\n            var row = cell.closest('tr');\n            var headerRows = container.find('tr:not(.k-filter-row)');\n            var level = headerRows.index(row) + cell[0].rowSpan;\n            var colSpanAttr = kendo.attr('colspan');\n            if (level <= headerRows.length - 1) {\n                var child = row.next();\n                var prevCells = cell.prevAll(':not(.k-group-cell,.k-hierarchy-cell)');\n                var idx;\n                prevCells = prevCells.filter(function () {\n                    return !this.rowSpan || this.rowSpan === 1;\n                });\n                var offset = 0;\n                for (idx = 0; idx < prevCells.length; idx++) {\n                    offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n                }\n                var cells = child.find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n                idx = 0;\n                while (idx < colSpan) {\n                    child = cells.eq(idx + offset);\n                    result = result.add(childColumnsCells(child));\n                    var value = parseInt(child.attr(colSpanAttr), 10);\n                    if (value > 1) {\n                        colSpan -= value - 1;\n                    }\n                    idx++;\n                }\n            }\n            return result;\n        }\n        function appendContent(tbody, table, html, empty) {\n            var placeholder, tmp = tbody;\n            if (empty) {\n                tbody.empty();\n            }\n            if (tbodySupportsInnerHtml) {\n                tbody[0].innerHTML = html;\n            } else {\n                placeholder = document.createElement('div');\n                placeholder.innerHTML = '<table><tbody>' + html + '</tbody></table>';\n                tbody = placeholder.firstChild.firstChild;\n                table[0].replaceChild(tbody, tmp[0]);\n                tbody = $(tbody);\n            }\n            return tbody;\n        }\n        function addHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (!style) {\n                style = 'display:none';\n            } else {\n                style = style.replace(/((.*)?display)(.*)?:([^;]*)/i, '$1:none');\n                if (style === attr.style) {\n                    style = style.replace(/(.*)?/i, 'display:none;$1');\n                }\n            }\n            return extend({}, attr, { style: style });\n        }\n        function removeHiddenStyle(attr) {\n            attr = attr || {};\n            var style = attr.style;\n            if (style) {\n                attr.style = style.replace(/(display\\s*:\\s*none\\s*;?)*/gi, '');\n            }\n            return attr;\n        }\n        function normalizeCols(table, visibleColumns, hasDetails, groups) {\n            var colgroup = table.find('>colgroup'), width, cols = map(visibleColumns, function (column) {\n                    width = column.width;\n                    if (width && parseInt(width, 10) !== 0) {\n                        return kendo.format('<col style=\"width:{0}\"/>', typeof width === STRING ? width : width + 'px');\n                    }\n                    return '<col />';\n                });\n            if (hasDetails || colgroup.find('.k-hierarchy-col').length) {\n                cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n            }\n            if (colgroup.length) {\n                colgroup.remove();\n            }\n            colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(''));\n            if (!colgroup.is('colgroup')) {\n                colgroup = $('<colgroup/>').append(colgroup);\n            }\n            table.prepend(colgroup);\n            if (browser.msie && browser.version == 8) {\n                table.css('display', 'inline-table');\n                window.setTimeout(function () {\n                    table.css('display', '');\n                }, 1);\n            }\n        }\n        function normalizeHeaderCells(container, columns) {\n            var lastIndex = 0;\n            var idx, len;\n            var th = container.find('th:not(.k-group-cell)');\n            for (idx = 0, len = columns.length; idx < len; idx++) {\n                if (columns[idx].locked) {\n                    th.eq(idx).insertBefore(th.eq(lastIndex));\n                    th = container.find('th:not(.k-group-cell)');\n                    lastIndex++;\n                }\n            }\n        }\n        function convertToObject(array) {\n            var result = {}, item, idx, length;\n            for (idx = 0, length = array.length; idx < length; idx++) {\n                item = array[idx];\n                result[item.value] = item.text;\n            }\n            return result;\n        }\n        function formatGroupValue(value, format, columnValues, encoded) {\n            var isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0], groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n            groupValue = groupValue != null ? groupValue : '';\n            return format ? kendo.format(format, groupValue) : encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n        }\n        function setCellVisibility(cells, index, visible) {\n            var pad = 0, state, cell = cells[pad];\n            while (cell) {\n                state = visible ? true : cell.style.display !== 'none';\n                if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                    cell.style.display = visible ? '' : 'none';\n                    break;\n                }\n                cell = cells[++pad];\n            }\n        }\n        function hideColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) - 1);\n                        cell.find('col').eq(columnIndex).remove();\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, false);\n                }\n            }\n        }\n        function groupRows(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                result.push(item);\n                if (item.hasSubgroups) {\n                    result = result.concat(groupRows(item.items));\n                }\n            }\n            return result;\n        }\n        function groupFooters(data) {\n            var result = [];\n            var item;\n            for (var idx = 0; idx < data.length; idx++) {\n                item = data[idx];\n                if (!('field' in item && 'value' in item && 'items' in item)) {\n                    break;\n                }\n                if (item.hasSubgroups) {\n                    result = result.concat(groupFooters(item.items));\n                }\n                result.push(item.aggregates);\n            }\n            return result;\n        }\n        function showColumnCells(rows, columnIndex) {\n            var idx = 0, length = rows.length, cell, row, columns;\n            for (; idx < length; idx += 1) {\n                row = rows.eq(idx);\n                if (row.is('.k-grouping-row,.k-detail-row')) {\n                    cell = row.children(':not(.k-group-cell):first,.k-detail-cell').last();\n                    cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                } else {\n                    if (row.hasClass('k-grid-edit-row') && (cell = row.children('.k-edit-container')[0])) {\n                        cell = $(cell);\n                        cell.attr('colspan', parseInt(cell.attr('colspan'), 10) + 1);\n                        normalizeCols(cell.find('>form>table'), visibleColumns(columns), false, 0);\n                        row = cell.find('tr:first');\n                    }\n                    setCellVisibility(row[0].cells, columnIndex, true);\n                }\n            }\n        }\n        function updateColspan(toAdd, toRemove, num) {\n            num = num || 1;\n            var item, idx, length;\n            for (idx = 0, length = toAdd.length; idx < length; idx++) {\n                item = toAdd.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) + num);\n                item = toRemove.eq(idx).children().last();\n                item.attr('colspan', parseInt(item.attr('colspan'), 10) - num);\n            }\n        }\n        function tableWidth(table) {\n            var idx, length, width = 0;\n            var cols = table.find('>colgroup>col');\n            for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                width += parseInt(cols[idx].style.width, 10);\n            }\n            return width;\n        }\n        var Grid = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options, events) {\n                var that = this;\n                options = isArray(options) ? { dataSource: options } : options;\n                Widget.fn.init.call(that, element, options);\n                if (events) {\n                    that._events = events;\n                }\n                isRtl = kendo.support.isRtl(element);\n                that._element();\n                that._aria();\n                that._columns($.extend(true, [], that.options.columns));\n                that._dataSource();\n                that._tbody();\n                that._pageable();\n                that._thead();\n                that._groupable();\n                that._toolbar();\n                that._setContentHeight();\n                that._templates();\n                that._navigatable();\n                that._selectable();\n                that._clipboard();\n                that._details();\n                that._editable();\n                that._attachCustomCommandsEvent();\n                that._minScreenSupport();\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                } else {\n                    that._group = that._groups() > 0;\n                    that._footer();\n                }\n                if (that.lockedContent) {\n                    that.wrapper.addClass('k-grid-lockedcolumns');\n                    that._resizeHandler = function () {\n                        that.resize();\n                    };\n                    $(window).on('resize' + NS, that._resizeHandler);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                CHANGE,\n                'dataBinding',\n                'cancel',\n                DATABOUND,\n                DETAILEXPAND,\n                DETAILCOLLAPSE,\n                DETAILINIT,\n                FILTERMENUINIT,\n                FILTERMENUOPEN,\n                COLUMNMENUINIT,\n                COLUMNMENUOPEN,\n                EDIT,\n                BEFOREEDIT,\n                SAVE,\n                REMOVE,\n                SAVECHANGES,\n                CELLCLOSE,\n                COLUMNRESIZE,\n                COLUMNREORDER,\n                COLUMNSHOW,\n                COLUMNHIDE,\n                COLUMNLOCK,\n                COLUMNUNLOCK,\n                NAVIGATE,\n                'page',\n                'sort',\n                'filter',\n                'group',\n                'groupExpand',\n                'groupCollapse'\n            ],\n            setDataSource: function (dataSource) {\n                var that = this;\n                var scrollable = that.options.scrollable;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                that._pageable();\n                that._thead();\n                if (scrollable) {\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(0);\n                    } else {\n                        that.content.scrollLeft(0);\n                    }\n                }\n                if (that.options.groupable) {\n                    that._groupable();\n                }\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.setDataSource(that.options.dataSource);\n                }\n                if (that.options.navigatable) {\n                    that._navigatable();\n                }\n                if (that.options.selectable) {\n                    that._selectable();\n                }\n                if (that.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            options: {\n                name: 'Grid',\n                columns: [],\n                toolbar: null,\n                autoBind: true,\n                filterable: false,\n                scrollable: true,\n                sortable: false,\n                selectable: false,\n                allowCopy: false,\n                navigatable: false,\n                pageable: false,\n                persistSelection: false,\n                editable: false,\n                groupable: false,\n                rowTemplate: '',\n                altRowTemplate: '',\n                noRecords: false,\n                dataSource: {},\n                height: null,\n                resizable: false,\n                reorderable: false,\n                columnMenu: false,\n                detailTemplate: null,\n                columnResizeHandleWidth: 3,\n                mobile: '',\n                messages: {\n                    editable: {\n                        cancelDelete: CANCELDELETE,\n                        confirmation: DELETECONFIRM,\n                        confirmDelete: CONFIRMDELETE\n                    },\n                    commands: {\n                        create: defaultCommands.create.text,\n                        cancel: defaultCommands.cancel.text,\n                        save: defaultCommands.save.text,\n                        destroy: defaultCommands.destroy.text,\n                        edit: defaultCommands.edit.text,\n                        update: defaultCommands.update.text,\n                        canceledit: defaultCommands.canceledit.text,\n                        excel: defaultCommands.excel.text,\n                        pdf: defaultCommands.pdf.text\n                    },\n                    noRecords: NORECORDS,\n                    expandCollapseColumnHeader: ''\n                }\n            },\n            destroy: function () {\n                var that = this, element;\n                that._angularItems('cleanup');\n                that._destroyColumnAttachments();\n                Widget.fn.destroy.call(that);\n                this._navigatableTables = null;\n                if (that._resizeHandler) {\n                    $(window).off('resize' + NS, that._resizeHandler);\n                }\n                if (that.pager && that.pager.element) {\n                    that.pager.destroy();\n                }\n                that.pager = null;\n                if (that.groupable && that.groupable.element) {\n                    that.groupable.element.kendoGroupable('destroy');\n                }\n                that.groupable = null;\n                if (that.options.reorderable) {\n                    that.wrapper.data('kendoReorderable').destroy();\n                }\n                if (that.selectable && that.selectable.element) {\n                    that.selectable.destroy();\n                    that.clearArea();\n                    if (that.options.persistSelection === true) {\n                        that._selectedIds = null;\n                    }\n                    if (that.copyHandler) {\n                        that.wrapper.off('keydown', that.copyHandler);\n                        that.unbind(that.copyHandler);\n                    }\n                    if (that.updateClipBoardState) {\n                        that.unbind(that.updateClipBoardState);\n                        that.updateClipBoardState = null;\n                    }\n                    if (that.clearAreaHandler) {\n                        that.wrapper.off('keyup', that.clearAreaHandler);\n                    }\n                }\n                that.selectable = null;\n                if (that.resizable) {\n                    that.resizable.destroy();\n                    if (that._resizeUserEvents) {\n                        if (that._resizeHandleDocumentClickHandler) {\n                            $(document).off('click', that._resizeHandleDocumentClickHandler);\n                        }\n                        that._resizeUserEvents.destroy();\n                        that._resizeUserEvents = null;\n                    }\n                    that.resizable = null;\n                }\n                that._destroyVirtualScrollable();\n                that._destroyEditable();\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                    that._refreshHandler = that._progressHandler = that._errorHandler = null;\n                }\n                element = that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find('>.k-grid-toolbar'));\n                if (that.content) {\n                    element = element.add(that.content).add(that.content.find('>.k-virtual-scrollable-wrap'));\n                }\n                if (that.lockedHeader) {\n                    that._removeLockedContainers();\n                }\n                if (that.pane) {\n                    that.pane.destroy();\n                }\n                if (that.minScreenResizeHandler) {\n                    $(window).off('resize', that.minScreenResizeHandler);\n                }\n                if (that._draggableInstance && that._draggableInstance.element) {\n                    that._draggableInstance.destroy();\n                }\n                that._draggableInstance = null;\n                element.off(NS);\n                kendo.destroy(that.wrapper);\n                that.rowTemplate = that.altRowTemplate = that.lockedRowTemplate = that.lockedAltRowTemplate = that.detailTemplate = that.footerTemplate = that.groupFooterTemplate = that.lockedGroupFooterTemplate = that.noRecordsTemplate = null;\n                that.scrollables = that.thead = that.tbody = that.element = that.table = that.content = that.footer = that.wrapper = that.lockedTable = that.lockedContent = that.lockedHeader = that.lockedFooter = that._groupableClickHandler = that._groupRows = that._setContentWidthHandler = null;\n            },\n            getOptions: function () {\n                var options = this.options;\n                options.dataSource = null;\n                var result = extend(true, {}, this.options);\n                result.columns = kendo.deepExtend([], this.columns);\n                var dataSource = this.dataSource;\n                var initialData = dataSource.options.data && dataSource._data;\n                dataSource.options.data = null;\n                result.dataSource = $.extend(true, {}, dataSource.options);\n                dataSource.options.data = initialData;\n                result.dataSource.data = initialData;\n                result.dataSource.page = dataSource.page();\n                result.dataSource.filter = dataSource.filter();\n                result.dataSource.pageSize = dataSource.pageSize();\n                result.dataSource.sort = dataSource.sort();\n                result.dataSource.group = dataSource.group();\n                result.dataSource.aggregate = dataSource.aggregate();\n                if (result.dataSource.transport) {\n                    result.dataSource.transport.dataSource = null;\n                }\n                if (result.pageable && result.pageable.pageSize) {\n                    result.pageable.pageSize = dataSource.pageSize();\n                }\n                result.$angular = undefined;\n                return result;\n            },\n            setOptions: function (options) {\n                var currentOptions = this.getOptions();\n                kendo.deepExtend(currentOptions, options);\n                if (!options.dataSource) {\n                    currentOptions.dataSource = this.dataSource;\n                }\n                var wrapper = this.wrapper;\n                var events = this._events;\n                var element = this.element;\n                this.destroy();\n                this.options = null;\n                if (this._isMobile) {\n                    var mobileWrapper = wrapper.closest(kendo.roleSelector('pane')).parent();\n                    mobileWrapper.after(wrapper);\n                    mobileWrapper.remove();\n                    wrapper.removeClass('k-grid-mobile');\n                }\n                if (wrapper[0] !== element[0]) {\n                    wrapper.before(element);\n                    wrapper.remove();\n                }\n                element.empty();\n                this.init(element, currentOptions, events);\n                this._setEvents(currentOptions);\n            },\n            items: function () {\n                if (this.lockedContent) {\n                    return this._items(this.tbody).add(this._items(this.lockedTable.children('tbody')));\n                } else {\n                    return this._items(this.tbody);\n                }\n            },\n            _items: function (container) {\n                return container.children().filter(function () {\n                    var tr = $(this);\n                    return !tr.hasClass('k-grouping-row') && !tr.hasClass('k-detail-row') && !tr.hasClass('k-group-footer');\n                });\n            },\n            dataItems: function () {\n                var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n                if (this.lockedContent) {\n                    var n = dataItems.length, tmp = new Array(2 * n);\n                    for (var i = n; --i >= 0;) {\n                        tmp[i] = tmp[i + n] = dataItems[i];\n                    }\n                    dataItems = tmp;\n                }\n                return dataItems;\n            },\n            _destroyColumnAttachments: function () {\n                var that = this;\n                that.resizeHandle = null;\n                if (!that.thead) {\n                    return;\n                }\n                this.angular('cleanup', function () {\n                    return { elements: that.thead.get() };\n                });\n                that.thead.add(that.lockedHeader).find('th').each(function () {\n                    var th = $(this), filterMenu = th.data('kendoFilterMenu'), sortable = th.data('kendoColumnSorter'), columnMenu = th.data('kendoColumnMenu');\n                    if (filterMenu) {\n                        filterMenu.destroy();\n                    }\n                    if (sortable) {\n                        sortable.destroy();\n                    }\n                    if (columnMenu) {\n                        columnMenu.destroy();\n                    }\n                });\n            },\n            _attachCustomCommandsEvent: function () {\n                var that = this, columns = leafColumns(that.columns || []), command, idx, length;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    command = columns[idx].command;\n                    if (command) {\n                        attachCustomCommandEvent(that, that.wrapper, command);\n                    }\n                }\n            },\n            _aria: function () {\n                var id = this.element.attr('id') || 'aria';\n                if (id) {\n                    this._cellId = id + '_active_cell';\n                }\n            },\n            _element: function () {\n                var that = this, table = that.element;\n                if (!table.is('table')) {\n                    if (that.options.scrollable) {\n                        table = that.element.find('> .k-grid-content > table');\n                    } else {\n                        table = that.element.children('table');\n                    }\n                    if (!table.length) {\n                        table = $('<table />').appendTo(that.element);\n                    }\n                }\n                if (isIE7) {\n                    table.attr('cellspacing', 0);\n                }\n                that.table = table.attr('role', that._hasDetails() ? 'treegrid' : 'grid');\n                that._wrapper();\n            },\n            _createResizeHandle: function (container, th) {\n                var that = this;\n                var indicatorWidth = that.options.columnResizeHandleWidth;\n                var scrollable = that.options.scrollable;\n                var resizeHandle = that.resizeHandle;\n                var groups = this._groups();\n                var left;\n                if (resizeHandle && that.lockedContent && resizeHandle.data('th')[0] !== th[0]) {\n                    resizeHandle.off(NS).remove();\n                    resizeHandle = null;\n                }\n                if (!resizeHandle) {\n                    resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                    container.append(resizeHandle);\n                }\n                if (!isRtl) {\n                    left = th[0].offsetWidth;\n                    var cells = leafDataCells(th.closest('thead')).filter(':visible');\n                    for (var idx = 0; idx < cells.length; idx++) {\n                        if (cells[idx] == th[0]) {\n                            break;\n                        }\n                        left += cells[idx].offsetWidth;\n                    }\n                    if (groups > 0) {\n                        left += outerWidth(container.find('.k-group-cell:first')) * groups;\n                    }\n                    if (that._hasDetails()) {\n                        left += outerWidth(container.find('.k-hierarchy-cell:first'));\n                    }\n                } else {\n                    left = th.position().left;\n                    if (scrollable) {\n                        var headerWrap = th.closest('.k-grid-header-wrap, .k-grid-header-locked'), ieCorrection = browser.msie ? headerWrap.scrollLeft() : 0, webkitCorrection = browser.webkit ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft() : 0, firefoxCorrection = browser.mozilla ? headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - (headerWrap[0].scrollWidth - headerWrap[0].offsetWidth - headerWrap.scrollLeft()) : 0;\n                        left -= webkitCorrection - firefoxCorrection + ieCorrection;\n                    }\n                }\n                resizeHandle.css({\n                    top: th.position().top,\n                    left: left - indicatorWidth,\n                    height: outerHeight(th),\n                    width: indicatorWidth * 3\n                }).data('th', th).show();\n                resizeHandle.off('dblclick' + NS).on('dblclick' + NS, function () {\n                    that._autoFitLeafColumn(th.data('index'));\n                });\n            },\n            _positionColumnResizeHandle: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that.thead.add(lockedHead).on('mousemove' + NS, 'th', function (e) {\n                    var button = typeof e.buttons !== 'undefined' ? e.buttons : e.which || e.button;\n                    var th = $(this);\n                    if (th.hasClass('k-group-cell') || th.hasClass('k-hierarchy-cell')) {\n                        return;\n                    }\n                    if (typeof button !== 'undefined' && button !== 0) {\n                        return;\n                    }\n                    that._createResizeHandle(th.closest('div'), th);\n                });\n            },\n            _resizeHandleDocumentClick: function (e) {\n                if ($(e.target).closest('.k-column-active').length) {\n                    return;\n                }\n                $(document).off(e);\n                this._hideResizeHandle();\n            },\n            _hideResizeHandle: function () {\n                if (this.resizeHandle) {\n                    this.resizeHandle.data('th').removeClass('k-column-active');\n                    if (this.lockedContent && !this._isMobile) {\n                        this.resizeHandle.off(NS).remove();\n                        this.resizeHandle = null;\n                    } else {\n                        this.resizeHandle.hide();\n                    }\n                }\n            },\n            _positionColumnResizeHandleTouch: function () {\n                var that = this, lockedHead = that.lockedHeader ? that.lockedHeader.find('thead:first') : $();\n                that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                    filter: 'th:not(.k-group-cell):not(.k-hierarchy-cell)',\n                    threshold: 10,\n                    hold: function (e) {\n                        var th = $(e.target);\n                        e.preventDefault();\n                        th.addClass('k-column-active');\n                        that._createResizeHandle(th.closest('div'), th);\n                        if (!that._resizeHandleDocumentClickHandler) {\n                            that._resizeHandleDocumentClickHandler = proxy(that._resizeHandleDocumentClick, that);\n                        }\n                        $(document).on('click', that._resizeHandleDocumentClickHandler);\n                    }\n                });\n            },\n            _resizable: function () {\n                var that = this, options = that.options, container, columnStart, columnWidth, columnMinWidth, gridWidth, isMobile = this._isMobile, scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0, isLocked, col, th;\n                if (options.resizable) {\n                    container = options.scrollable ? that.wrapper.find('.k-grid-header-wrap:first') : that.wrapper;\n                    if (isMobile) {\n                        that._positionColumnResizeHandleTouch(container);\n                    } else {\n                        that._positionColumnResizeHandle(container);\n                    }\n                    if (that.resizable) {\n                        that.resizable.destroy();\n                    }\n                    that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                        handle: (!!options.scrollable ? '' : '>') + '.k-resize-handle',\n                        hint: function (handle) {\n                            return $('<div class=\"k-grid-resize-indicator\" />').css({ height: outerHeight(handle.data('th')) + that.tbody.attr('clientHeight') });\n                        },\n                        start: function (e) {\n                            th = $(e.currentTarget).data('th');\n                            if (isMobile) {\n                                that._hideResizeHandle();\n                            }\n                            var header = th.closest('table'), index = $.inArray(th[0], leafDataCells(th.closest('thead')).filter(':visible'));\n                            isLocked = header.parent().hasClass('k-grid-header-locked');\n                            var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                            if (that.footer && that.lockedContent) {\n                                footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                            }\n                            cursor(that.wrapper, 'col-resize');\n                            if (options.scrollable) {\n                                col = header.find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')').add(contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')')).add(footer.find('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')'));\n                            } else {\n                                col = contentTable.children('colgroup').find('col:not(.k-group-col):not(.k-hierarchy-col):eq(' + index + ')');\n                            }\n                            columnStart = e.x.location;\n                            columnWidth = outerWidth(th);\n                            columnMinWidth = leafColumns(that.columns)[index].minResizableWidth || 10;\n                            gridWidth = isLocked ? outerWidth(contentTable.children('tbody')) : outerWidth(that.tbody);\n                            if (browser.webkit) {\n                                that.wrapper.addClass('k-grid-column-resizing');\n                            }\n                        },\n                        resize: function (e) {\n                            var rtlMultiplier = isRtl ? -1 : 1, currentWidth = columnWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                            if (options.scrollable) {\n                                var footer;\n                                if (isLocked && that.lockedFooter) {\n                                    footer = that.lockedFooter.children('table');\n                                } else if (that.footer) {\n                                    footer = that.footer.find('>.k-grid-footer-wrap>table');\n                                }\n                                if (!footer || !footer[0]) {\n                                    footer = $();\n                                }\n                                var header = th.closest('table');\n                                var contentTable = isLocked ? that.lockedTable : that.table;\n                                var constrain = false;\n                                var totalWidth = that.wrapper.width() - scrollbar;\n                                var width = currentWidth;\n                                if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                    width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                    if (width < 0) {\n                                        width = currentWidth;\n                                    }\n                                    constrain = true;\n                                }\n                                if (width > 10 && width >= columnMinWidth) {\n                                    col.css('width', width);\n                                    if (gridWidth) {\n                                        if (constrain) {\n                                            width = totalWidth - scrollbar * 2;\n                                        } else {\n                                            width = gridWidth + e.x.location * rtlMultiplier - columnStart * rtlMultiplier;\n                                        }\n                                        contentTable.add(header).add(footer).css('width', width);\n                                        if (!isLocked) {\n                                            that._footerWidth = width;\n                                        }\n                                    }\n                                }\n                                that._scrollVirtualWrapperOnColumnResize();\n                            } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                                col.css('width', currentWidth);\n                            }\n                        },\n                        resizeend: function () {\n                            var newWidth = outerWidth(th), column, header;\n                            cursor(that.wrapper, '');\n                            if (browser.webkit) {\n                                that.wrapper.removeClass('k-grid-column-resizing');\n                            }\n                            if (columnWidth != newWidth) {\n                                header = that.lockedHeader ? that.lockedHeader.find('thead:first tr:first').add(that.thead.find('tr:first')) : th.parent();\n                                var index = th.attr(kendo.attr('index'));\n                                if (!index) {\n                                    index = header.find('th:not(.k-group-cell):not(.k-hierarchy-cell)').index(th);\n                                }\n                                column = leafColumns(that.columns)[index];\n                                column.width = newWidth;\n                                that.trigger(COLUMNRESIZE, {\n                                    column: column,\n                                    oldWidth: columnWidth,\n                                    newWidth: newWidth\n                                });\n                                that._applyLockedContainersWidth();\n                                that._syncLockedContentHeight();\n                                that._syncLockedHeaderHeight();\n                            }\n                            that._hideResizeHandle();\n                            th = null;\n                        }\n                    });\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that._draggableInstance) {\n                        that._draggableInstance.destroy();\n                    }\n                    var header = that.wrapper.children('.k-grid-header');\n                    that._draggableInstance = that.wrapper.kendoDraggable({\n                        group: kendo.guid(),\n                        autoScroll: true,\n                        filter: that.content ? '.k-grid-header:first ' + HEADERCELLS : 'table:first>.k-grid-header ' + HEADERCELLS,\n                        dragstart: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling').bind('scroll' + NS + 'scrolling', function (e) {\n                                if (that.virtualScrollable) {\n                                    that.content.find('>.k-virtual-scrollable-wrap').scrollLeft(this.scrollLeft);\n                                } else {\n                                    that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                                }\n                            });\n                        },\n                        dragend: function () {\n                            header.children('.k-grid-header-wrap').unbind('scroll' + NS + 'scrolling');\n                        },\n                        drag: function () {\n                            that._hideResizeHandle();\n                        },\n                        hint: function (target) {\n                            var title = target.attr(kendo.attr('title'));\n                            if (title) {\n                                title = kendo.htmlEncode(title);\n                            }\n                            return $('<div class=\"k-header k-drag-clue\" />').css({\n                                width: target.width(),\n                                paddingLeft: target.css('paddingLeft'),\n                                paddingRight: target.css('paddingRight'),\n                                lineHeight: target.height() + 'px',\n                                paddingTop: target.css('paddingTop'),\n                                paddingBottom: target.css('paddingBottom')\n                            }).html(title || target.attr(kendo.attr('field')) || target.text()).prepend('<span class=\"k-icon k-drag-status k-i-cancel\" />');\n                        }\n                    }).data('kendoDraggable');\n                }\n            },\n            _reorderable: function () {\n                var that = this;\n                if (that.options.reorderable) {\n                    if (that.wrapper.data('kendoReorderable')) {\n                        that.wrapper.data('kendoReorderable').destroy();\n                    }\n                    that.wrapper.kendoReorderable({\n                        draggable: that._draggableInstance,\n                        dragOverContainers: function (sourceIndex, targetIndex) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                        },\n                        inSameContainer: function (e) {\n                            return $(e.source).parent()[0] === $(e.target).parent()[0] && targetParentContainerIndex(flatColumnsInDomOrder(that.columns), that.columns, e.sourceIndex, e.targetIndex) > -1;\n                        },\n                        change: function (e) {\n                            var columns = flatColumnsInDomOrder(that.columns);\n                            var column = columns[e.oldIndex];\n                            var newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n                            that.trigger(COLUMNREORDER, {\n                                newIndex: newIndex,\n                                oldIndex: inArray(column, columns),\n                                column: column\n                            });\n                            that.reorderColumn(newIndex, column, e.position === 'before');\n                        }\n                    });\n                }\n            },\n            _reorderHeader: function (sources, target, before) {\n                var that = this;\n                var sourcePosition = columnPosition(sources[0], that.columns);\n                var destPosition = columnPosition(target, that.columns);\n                var leafs = [];\n                for (var idx = 0; idx < sources.length; idx++) {\n                    if (sources[idx].columns) {\n                        leafs = leafs.concat(sources[idx].columns);\n                    }\n                }\n                var ths = elements(that.lockedHeader, that.thead, 'tr:eq(' + sourcePosition.row + ')>th.k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                var sourceLockedColumns = lockedColumns(sources).length;\n                var targetLockedColumns = lockedColumns([target]).length;\n                if (leafs.length) {\n                    if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find('thead'), that.thead, this._groups());\n                    } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                        moveCellsBetweenContainers(sources, target, leafs, that.columns, that.thead, that.lockedHeader.find('thead'), this._groups());\n                    }\n                    if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                        target = findReorderTarget(that.columns, target, sources[0], before);\n                        if (target) {\n                            that._reorderHeader(leafs, target, before);\n                        }\n                    }\n                } else if (sourceLockedColumns !== targetLockedColumns) {\n                    updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n                }\n                reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n            },\n            _reorderContent: function (sources, destination, before) {\n                var that = this;\n                var lockedRows = $();\n                var source = sources[0];\n                var visibleSources = visibleColumns(sources);\n                var sourceIndex = inArray(source, leafColumns(that.columns));\n                var destIndex = inArray(destination, leafColumns(that.columns));\n                var colSourceIndex = inArray(source, visibleLeafColumns(that.columns));\n                var colDest = inArray(destination, visibleLeafColumns(that.columns));\n                var lockedCount = lockedColumns(that.columns).length;\n                var isLocked = !!destination.locked;\n                var footer = that.footer || that.wrapper.find('.k-grid-footer');\n                var headerCol, footerCol;\n                headerCol = footerCol = colDest;\n                if (destination.hidden) {\n                    if (isLocked) {\n                        colDest = that.lockedTable.find('colgroup');\n                        headerCol = that.lockedHeader.find('colgroup');\n                        footerCol = $(that.lockedFooter).find('>table>colgroup');\n                    } else {\n                        colDest = that.tbody.prev();\n                        headerCol = that.thead.prev();\n                        footerCol = footer.find('.k-grid-footer-wrap').find('>table>colgroup');\n                    }\n                }\n                if (that._hasFilterRow()) {\n                    reorder(that.wrapper.find('.k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                reorder(elements(that.lockedHeader, that.thead.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, headerCol, before, visibleSources.length);\n                if (that.options.scrollable) {\n                    reorder(elements(that.lockedTable, that.tbody.prev(), 'col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, colDest, before, visibleSources.length);\n                }\n                if (footer && footer.length) {\n                    reorder(elements(that.lockedFooter, footer.find('.k-grid-footer-wrap'), '>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)'), colSourceIndex, footerCol, before, visibleSources.length);\n                    reorder(footer.find('.k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n                var rows = that.tbody.children(':not(.k-grouping-row,.k-detail-row)');\n                if (that.lockedTable) {\n                    if (lockedCount > destIndex) {\n                        if (lockedCount <= sourceIndex) {\n                            updateColspan(that.lockedTable.find('>tbody>tr.k-grouping-row'), that.table.find('>tbody>tr.k-grouping-row'), sources.length);\n                        }\n                    } else if (lockedCount > sourceIndex) {\n                        updateColspan(that.table.find('>tbody>tr.k-grouping-row'), that.lockedTable.find('>tbody>tr.k-grouping-row'), sources.length);\n                    }\n                    lockedRows = that.lockedTable.find('>tbody>tr:not(.k-grouping-row,.k-detail-row)');\n                }\n                for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                    reorder(elements(lockedRows[idx], rows[idx], '>td:not(.k-group-cell,.k-hierarchy-cell)'), sourceIndex, destIndex, before, sources.length);\n                }\n            },\n            _autoFitLeafColumn: function (leafIndex) {\n                this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n            },\n            autoFitColumn: function (column) {\n                var that = this, options = that.options, columns = that.columns, index, th, headerTable, isLocked, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, col, minWidth, contentDiv, scrollLeft, notGroupOrHierarchyCol = 'col:not(.k-group-col):not(.k-hierarchy-col)', notGroupOrHierarchyVisibleCell = 'td:visible:not(.k-group-cell):not(.k-hierarchy-cell)';\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                minWidth = column.minResizableWidth;\n                index = inArray(column, leafColumns(columns));\n                isLocked = column.locked;\n                if (isLocked) {\n                    headerTable = that.lockedHeader.children('table');\n                } else {\n                    headerTable = that.thead.parent();\n                }\n                th = headerTable.find('[data-index=\\'' + index + '\\']');\n                var contentTable = isLocked ? that.lockedTable : that.table, footer = that.footer || $();\n                if (that.footer && that.lockedContent) {\n                    footer = isLocked ? that.footer.children('.k-grid-footer-locked') : that.footer.children('.k-grid-footer-wrap');\n                }\n                var footerTable = footer.find('table').first();\n                if (that.lockedHeader && !isLocked) {\n                    index -= visibleLocked;\n                }\n                for (var j = 0; j < columns.length; j++) {\n                    if (columns[j] === column) {\n                        break;\n                    } else {\n                        if (columns[j].hidden) {\n                            index--;\n                        }\n                    }\n                }\n                if (options.scrollable) {\n                    col = headerTable.find(notGroupOrHierarchyCol).eq(index).add(contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index)).add(footerTable.find('colgroup').find(notGroupOrHierarchyCol).eq(index));\n                    if (!isLocked) {\n                        contentDiv = contentTable.parent();\n                        scrollLeft = contentDiv.scrollLeft();\n                    }\n                } else {\n                    col = contentTable.children('colgroup').find(notGroupOrHierarchyCol).eq(index);\n                }\n                var tables = headerTable.add(contentTable).add(footerTable);\n                var oldColumnWidth = outerWidth(th);\n                col.width('');\n                tables.css('table-layout', 'fixed');\n                col.width('auto');\n                tables.addClass('k-autofitting');\n                tables.css('table-layout', '');\n                var newColumnWidth = Math.ceil(Math.max(outerWidth(th), outerWidth(contentTable.find('tr:not(.k-grouping-row)').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)), outerWidth(footerTable.find('tr').eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)))) + 1;\n                if (minWidth && minWidth > newColumnWidth) {\n                    newColumnWidth = minWidth;\n                }\n                col.width(newColumnWidth);\n                column.width = newColumnWidth;\n                if (options.scrollable) {\n                    var cols = headerTable.find('col'), colWidth, totalWidth = 0;\n                    for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            totalWidth += parseInt(colWidth, 10);\n                        } else if (cols.eq(idx).hasClass('k-group-col')) {\n                            totalWidth += parseInt(cols.eq(idx).width(), 10);\n                        } else {\n                            totalWidth = 0;\n                            break;\n                        }\n                    }\n                    if (totalWidth) {\n                        tables.each(function () {\n                            this.style.width = totalWidth + 'px';\n                        });\n                    }\n                }\n                if (browser.msie && browser.version == 8) {\n                    tables.css('display', 'inline-table');\n                    setTimeout(function () {\n                        tables.css('display', 'table');\n                    }, 1);\n                }\n                tables.removeClass('k-autofitting');\n                if (scrollLeft) {\n                    contentDiv.scrollLeft(scrollLeft);\n                }\n                that.trigger(COLUMNRESIZE, {\n                    column: column,\n                    oldWidth: oldColumnWidth,\n                    newWidth: newColumnWidth\n                });\n                that._applyLockedContainersWidth();\n                that._syncLockedContentHeight();\n                that._syncLockedHeaderHeight();\n            },\n            reorderColumn: function (destIndex, column, before) {\n                var that = this, parent = columnParent(column, that.columns), columns = parent ? parent.columns : that.columns, sourceIndex = inArray(column, columns), destColumn = columns[destIndex], lockChanged, isLocked = !!destColumn.locked, lockedCount = lockedColumns(that.columns).length;\n                if (sourceIndex === destIndex) {\n                    return;\n                }\n                if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                    return;\n                }\n                if (column.locked && !isLocked && lockedCount == 1) {\n                    return;\n                }\n                that._hideResizeHandle();\n                if (before === undefined) {\n                    before = destIndex < sourceIndex;\n                }\n                var sourceColumns = [column];\n                that._reorderHeader(sourceColumns, destColumn, before);\n                if (that.lockedHeader) {\n                    removeEmptyRows(that.thead);\n                    removeEmptyRows(that.lockedHeader);\n                }\n                if (destColumn.columns) {\n                    destColumn = leafColumns(destColumn.columns);\n                    destColumn = destColumn[before ? 0 : destColumn.length - 1];\n                }\n                if (column.columns) {\n                    sourceColumns = leafColumns(column.columns);\n                }\n                that._reorderContent(sourceColumns, destColumn, before);\n                lockChanged = !!column.locked;\n                lockChanged = lockChanged != isLocked;\n                column.locked = isLocked;\n                columns.splice(before ? destIndex : destIndex + 1, 0, column);\n                columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n                that._templates();\n                that._updateColumnCellIndex();\n                that._updateTablesWidth();\n                that._applyLockedContainersWidth();\n                that._syncLockedHeaderHeight();\n                that._syncLockedContentHeight();\n                that._updateFirstColumnClass();\n                if (!lockChanged) {\n                    return;\n                }\n                if (isLocked) {\n                    that.trigger(COLUMNLOCK, { column: column });\n                } else {\n                    that.trigger(COLUMNUNLOCK, { column: column });\n                }\n            },\n            _updateColumnCellIndex: function () {\n                var header;\n                var offset = 0;\n                if (this.lockedHeader) {\n                    header = this.lockedHeader.find('thead');\n                    offset = updateCellIndex(header, lockedColumns(this.columns));\n                }\n                updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n            },\n            lockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length - 1;\n                this.reorderColumn(index, column, false);\n            },\n            unlockColumn: function (column) {\n                var columns = this.columns;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else {\n                    column = grep(columns, function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !column.locked || column.hidden) {\n                    return;\n                }\n                var index = lockedColumns(columns).length;\n                this.reorderColumn(index, column, true);\n            },\n            cellIndex: function (td) {\n                var lockedColumnOffset = 0;\n                if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                    lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n                }\n                return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n            },\n            _modelForContainer: function (container) {\n                container = $(container);\n                if (!container.is('tr') && this._editMode() !== 'popup') {\n                    container = container.closest('tr');\n                }\n                var id = container.attr(kendo.attr('uid'));\n                return this.dataSource.getByUid(id);\n            },\n            _editable: function () {\n                var that = this, selectable = that.selectable && that.selectable.options.multiple, editable = that.options.editable, handler = function () {\n                        var target = activeElement(), cell = that._editContainer;\n                        if (cell && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest('.k-animation-container').length) {\n                            if (that.editable.end()) {\n                                that.closeCell();\n                            } else {\n                                that._scrollVirtualWrapper();\n                            }\n                        }\n                    };\n                if (editable) {\n                    this.wrapper.addClass('k-editable');\n                    var mode = that._editMode();\n                    if (mode === 'incell') {\n                        that.table.add(that.lockedTable).on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, function (e) {\n                            var target = $(e.target);\n                            if (that._editMode() === 'incell' && target.hasClass('k-checkbox-label') && target.prev().attr(kendo.attr('bind'))) {\n                                e.preventDefault();\n                            }\n                        });\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tr:not(.k-grouping-row) > td', function (e) {\n                                var td = $(this), isLockedCell = that.lockedTable && td.closest('table')[0] === that.lockedTable[0];\n                                if (td.hasClass('k-hierarchy-cell') || td.hasClass('k-detail-cell') || td.hasClass('k-group-cell') || td.hasClass('k-edit-cell') || td.has('a.k-grid-delete').length || td.has('button.k-grid-delete').length || td.closest('tbody')[0] !== that.tbody[0] && !isLockedCell || $(e.target).is(':input')) {\n                                    return;\n                                }\n                                if (that.editable) {\n                                    if (that.editable.end()) {\n                                        if (selectable) {\n                                            $(activeElement()).blur();\n                                        }\n                                        that.closeCell();\n                                        that.editCell(td);\n                                    } else {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                } else {\n                                    that.editCell(td);\n                                }\n                            }).on('focusin' + NS, function () {\n                                if (!$.contains(this, activeElement())) {\n                                    clearTimeout(that.timer);\n                                    that.timer = null;\n                                }\n                            }).on('focusout' + NS, function () {\n                                that.timer = setTimeout(handler, 1);\n                            });\n                        }\n                    } else {\n                        if (editable.update !== false) {\n                            that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit', function (e) {\n                                e.preventDefault();\n                                that.editRow($(this).closest('tr'));\n                            });\n                            if (that._isVirtualInlineEditable()) {\n                                that.wrapper.on('focusout' + NS, 'tr:not(.k-grouping-row) > td', function () {\n                                    if (that.editable && !that.editable.end()) {\n                                        that._scrollVirtualWrapper();\n                                    }\n                                });\n                            }\n                        }\n                    }\n                    if (editable.destroy !== false) {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete', function (e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            that.removeRow($(this).closest('tr'));\n                        });\n                    } else {\n                        that.wrapper.on(CLICK + NS, 'tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete', function (e) {\n                            e.stopPropagation();\n                            if (!that._confirmation()) {\n                                e.preventDefault();\n                            }\n                        });\n                    }\n                }\n            },\n            editCell: function (cell) {\n                cell = $(cell);\n                var that = this, column = leafColumns(that.columns)[that.cellIndex(cell)], model = that._modelForContainer(cell);\n                that.closeCell();\n                if (model && isColumnEditable(column, model) && !column.command) {\n                    if (that.trigger(BEFOREEDIT, { model: model })) {\n                        return;\n                    }\n                    that._attachModelChange(model);\n                    that._editContainer = cell;\n                    if (that._shouldClearEditableState) {\n                        that._clearEditableState();\n                    }\n                    that.editable = cell.addClass('k-edit-cell').kendoEditable({\n                        fields: {\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        },\n                        model: model,\n                        target: that,\n                        change: function (e) {\n                            if (that.trigger(SAVE, {\n                                    values: e.values,\n                                    container: cell,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        },\n                        skipFocus: that._isVirtualIncellEditable() && that._editableState ? true : false\n                    }).data('kendoEditable');\n                    var tr = cell.parent().addClass('k-grid-edit-row');\n                    if (that.lockedContent) {\n                        adjustRowHeight(tr[0], that._relatedRow(tr).addClass('k-grid-edit-row')[0]);\n                    }\n                    that.trigger(EDIT, {\n                        container: cell,\n                        model: model\n                    });\n                }\n            },\n            _adjustLockedHorizontalScrollBar: function () {\n                var table = this.table, content = table.parent();\n                var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n                this.lockedContent.height(content.height() - scrollbar);\n            },\n            _syncLockedContentHeight: function () {\n                if (this.lockedTable) {\n                    if (!this.touchScroller) {\n                        this._adjustLockedHorizontalScrollBar();\n                    }\n                    this._adjustRowsHeight(this.table, this.lockedTable);\n                }\n            },\n            _syncLockedHeaderHeight: function () {\n                if (this.lockedHeader) {\n                    var lockedTable = this.lockedHeader.children('table');\n                    var table = this.thead.parent();\n                    this._adjustRowsHeight(lockedTable, table);\n                    syncTableHeight(lockedTable, table);\n                }\n            },\n            _syncLockedFooterHeight: function () {\n                if (this.lockedFooter && this.footer && this.footer.length) {\n                    this._adjustRowsHeight(this.lockedFooter.children('table'), this.footer.find('.k-grid-footer-wrap > table'));\n                }\n            },\n            _destroyEditable: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        var container = that.editView ? that.editView.element : that._editContainer;\n                        if (container) {\n                            container.off(CLICK + NS, 'a.k-grid-cancel', that._editCancelClickHandler);\n                            container.off(CLICK + NS, 'a.k-grid-update', that._editUpdateClickHandler);\n                        }\n                        that._detachModelChange();\n                        that.editable.destroy();\n                        that.editable = null;\n                        that._editContainer = null;\n                        that._destroyEditView();\n                    }\n                };\n                if (that.editable) {\n                    if (that._editMode() === 'popup' && !that._isMobile) {\n                        that._editContainer.data('kendoWindow').bind('deactivate', destroy).close();\n                    } else {\n                        destroy();\n                    }\n                }\n                if (that._actionSheet) {\n                    that._actionSheet.destroy();\n                    that._actionSheet = null;\n                }\n            },\n            _destroyEditView: function () {\n                if (this.editView) {\n                    this.editView.purge();\n                    this.editView = null;\n                    this.pane.navigate('');\n                }\n            },\n            _attachModelChange: function (model) {\n                var that = this;\n                that._modelChangeHandler = function (e) {\n                    that._modelChange({\n                        field: e.field,\n                        model: this\n                    });\n                };\n                model.bind('change', that._modelChangeHandler);\n            },\n            _detachModelChange: function () {\n                var that = this, container = that._editContainer, model = that._modelForContainer(container);\n                if (model) {\n                    model.unbind(CHANGE, that._modelChangeHandler);\n                }\n            },\n            closeCell: function (isCancel) {\n                var that = this, cell = that._editContainer, column, tr, model;\n                if (!cell) {\n                    return;\n                }\n                model = that._modelForContainer(cell);\n                if (isCancel && that.trigger('cancel', {\n                        container: cell,\n                        model: model\n                    })) {\n                    return;\n                }\n                that.trigger(CELLCLOSE, {\n                    type: isCancel ? 'cancel' : 'save',\n                    model: model,\n                    container: cell\n                });\n                cell.removeClass('k-edit-cell');\n                column = leafColumns(that.columns)[that.cellIndex(cell)];\n                tr = cell.parent().removeClass('k-grid-edit-row');\n                if (that.lockedContent) {\n                    that._relatedRow(tr).removeClass('k-grid-edit-row');\n                }\n                that._destroyEditable();\n                that._displayCell(cell, column, model);\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.trigger('itemChange', {\n                    item: tr,\n                    data: model,\n                    ns: ui\n                });\n                if (that.lockedContent) {\n                    adjustRowHeight(tr.css('height', '')[0], that._relatedRow(tr).css('height', '')[0]);\n                }\n            },\n            _displayCell: function (cell, column, dataItem) {\n                var that = this, state = {\n                        storage: {},\n                        count: 0\n                    }, settings = extend({}, kendo.Template, that.options.templateSettings), tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                if (state.count > 0) {\n                    tmpl = proxy(tmpl, state.storage);\n                }\n                cell.empty().html(tmpl(dataItem));\n                that.angular('compile', function () {\n                    return {\n                        elements: cell,\n                        data: [{ dataItem: dataItem }]\n                    };\n                });\n            },\n            removeRow: function (row) {\n                if (!this._confirmation(row)) {\n                    return;\n                }\n                this._removeRow(row);\n            },\n            _removeRow: function (row) {\n                var that = this, model, modelId, key, mode = that._editMode();\n                if (mode !== 'incell') {\n                    that.cancelRow();\n                }\n                row = $(row);\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row = row.hide();\n                model = that._modelForContainer(row);\n                if (model && !that.trigger(REMOVE, {\n                        row: row,\n                        model: model\n                    })) {\n                    if (that.options.persistSelection) {\n                        modelId = that.dataSource.options.schema.model.id;\n                        key = model[modelId];\n                        delete that._selectedIds[key];\n                    }\n                    that.dataSource.remove(model);\n                    if (mode === 'inline' || mode === 'popup') {\n                        that.dataSource.sync();\n                    }\n                } else if (mode === 'incell') {\n                    that._destroyEditable();\n                }\n            },\n            _editMode: function () {\n                var mode = 'incell', editable = this.options.editable;\n                if (editable !== true) {\n                    if (typeof editable == 'string') {\n                        mode = editable;\n                    } else {\n                        mode = editable.mode || mode;\n                    }\n                }\n                return mode;\n            },\n            editRow: function (row) {\n                var model;\n                var that = this;\n                if (row instanceof ObservableObject) {\n                    model = row;\n                } else {\n                    row = $(row);\n                    model = that._modelForContainer(row);\n                }\n                var mode = that._editMode();\n                var container;\n                that.cancelRow();\n                if (model) {\n                    row = that.tbody.children('[' + kendo.attr('uid') + '=' + model.uid + ']');\n                    that._attachModelChange(model);\n                    if (mode === 'popup') {\n                        that._createPopupEditor(model);\n                    } else if (mode === 'inline') {\n                        that._createInlineEditor(row, model);\n                    } else if (mode === 'incell') {\n                        $(row).children(DATA_CELL).each(function () {\n                            var cell = $(this);\n                            var column = leafColumns(that.columns)[that.cellIndex(cell)];\n                            model = that._modelForContainer(cell);\n                            if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable) {\n                                that.editCell(cell);\n                                return false;\n                            }\n                        });\n                    }\n                    container = that.editView ? that.editView.element : that._editContainer;\n                    if (container) {\n                        if (!this._editCancelClickHandler) {\n                            this._editCancelClickHandler = proxy(this._editCancelClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-cancel', this._editCancelClickHandler);\n                        if (!this._editUpdateClickHandler) {\n                            this._editUpdateClickHandler = proxy(this._editUpdateClick, this);\n                        }\n                        container.on(CLICK + NS, 'a.k-grid-update', this._editUpdateClickHandler);\n                    }\n                }\n            },\n            _editUpdateClick: function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.saveRow();\n            },\n            _editCancelClick: function (e) {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var model = that.editable.options.model;\n                var container = that.editView ? that.editView.element : that._editContainer;\n                e.preventDefault();\n                e.stopPropagation();\n                if (that.trigger('cancel', {\n                        container: container,\n                        model: model\n                    })) {\n                    return;\n                }\n                var currentIndex = that.items().index($(that.current()).parent());\n                that.cancelRow();\n                if (navigatable) {\n                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                    focusTable(that.table, true);\n                }\n            },\n            _createPopupEditor: function (model) {\n                var that = this;\n                var html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form' + (that._isMobile ? ' k-mobile-list' : '') + '\"><div class=\"k-edit-form-container\">';\n                var column;\n                var command;\n                var fields = [];\n                var idx;\n                var length;\n                var tmpl;\n                var updateText;\n                var cancelText;\n                var updateIconClass;\n                var cancelIconClass;\n                var tempCommand;\n                var columns = leafColumns(that.columns);\n                var attr;\n                var editable = that.options.editable;\n                var template = editable.template;\n                var options = isPlainObject(editable) ? editable.window : {};\n                var settings = extend({}, kendo.Template, that.options.templateSettings);\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                options = options || {};\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                } else {\n                    for (idx = 0, length = columns.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.selectable) {\n                            continue;\n                        }\n                        if (!column.command) {\n                            html += '<div class=\"k-edit-label\"><label for=\"' + column.field + '\">' + (column.title || column.field || '') + '</label></div>';\n                            if (isColumnEditable(column, model)) {\n                                fields.push({\n                                    field: column.field,\n                                    format: column.format,\n                                    editor: column.editor,\n                                    values: column.values\n                                });\n                                html += '<div ' + kendo.attr('container-for') + '=\"' + column.field + '\" class=\"k-edit-field\"></div>';\n                            } else {\n                                var state = {\n                                    storage: {},\n                                    count: 0\n                                };\n                                tmpl = kendo.template(that._cellTmpl(column, state), settings);\n                                if (state.count > 0) {\n                                    tmpl = proxy(tmpl, state.storage);\n                                }\n                                html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                            }\n                        } else if (column.command) {\n                            tempCommand = getCommand(column.command, 'edit');\n                            if (tempCommand) {\n                                command = tempCommand;\n                            }\n                        }\n                    }\n                }\n                if (command) {\n                    if (isPlainObject(command)) {\n                        if (isPlainObject(command.text)) {\n                            updateText = command.text.update;\n                            cancelText = command.text.cancel;\n                        }\n                        if (isPlainObject(command.iconClass)) {\n                            updateIconClass = command.iconClass.update;\n                            cancelIconClass = command.iconClass.cancel;\n                        }\n                        if (command.attr) {\n                            attr = command.attr;\n                        }\n                    }\n                }\n                var container;\n                if (!that._isMobile) {\n                    html += '<div class=\"k-edit-buttons k-state-default\">';\n                    html += that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr,\n                        iconClass: updateIconClass\n                    }) + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr,\n                        iconClass: cancelIconClass\n                    });\n                    html += '</div></div></div>';\n                    container = that._editContainer = $(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: 'Edit',\n                        visible: false,\n                        close: function (e) {\n                            if (e.userTriggered) {\n                                e.sender.element.focus();\n                                if (that.trigger('cancel', {\n                                        container: container,\n                                        model: model\n                                    })) {\n                                    e.preventDefault();\n                                    return;\n                                }\n                                var currentIndex = that.items().index($(that.current()).parent());\n                                that.cancelRow();\n                                if (that.options.navigatable) {\n                                    that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                    focusTable(that.table, true);\n                                }\n                            }\n                        }\n                    }, options));\n                } else {\n                    html += '</div></div>';\n                    that.editView = that.pane.append('<div data-' + kendo.ns + 'role=\"view\" data-' + kendo.ns + 'use-native-scrolling=\"true\" data-' + kendo.ns + 'init-widgets=\"false\" class=\"k-grid-edit-form\">' + '<div data-' + kendo.ns + 'role=\"header\" class=\"k-header\">' + that._createButton({\n                        name: 'update',\n                        text: updateText,\n                        attr: attr\n                    }) + (options.title || 'Edit') + that._createButton({\n                        name: 'canceledit',\n                        text: cancelText,\n                        attr: attr\n                    }) + '</div>' + html + '</div>');\n                    container = that._editContainer = that.editView.element.find('.k-popup-edit-form');\n                }\n                that.editable = that._editContainer.kendoEditable({\n                    fields: fields,\n                    model: model,\n                    clearContainer: false,\n                    target: that\n                }).data('kendoEditable');\n                if (that._isMobile) {\n                    container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                        $(this).next().children('input').click();\n                    });\n                }\n                that._openPopUpEditor();\n                that.trigger(EDIT, {\n                    container: container,\n                    model: model\n                });\n            },\n            _openPopUpEditor: function () {\n                if (!this._isMobile) {\n                    this._editContainer.data('kendoWindow').center().open();\n                } else {\n                    this.pane.navigate(this.editView, this._editAnimation);\n                }\n            },\n            _createInlineEditor: function (row, model) {\n                var that = this;\n                var column;\n                var cell;\n                var command;\n                var fields = [];\n                if (that.trigger(BEFOREEDIT, { model: model })) {\n                    return;\n                }\n                if (that.lockedContent) {\n                    row = row.add(that._relatedRow(row));\n                }\n                row.children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                    cell = $(this);\n                    column = leafColumns(that.columns)[that.cellIndex(cell)];\n                    if (!column.command && isColumnEditable(column, model)) {\n                        fields.push({\n                            field: column.field,\n                            format: column.format,\n                            editor: column.editor,\n                            values: column.values\n                        });\n                        cell.attr(kendo.attr('container-for'), column.field);\n                        cell.empty();\n                    } else if (column.command) {\n                        command = getCommand(column.command, 'edit');\n                        if (command) {\n                            cell.empty();\n                            var updateText, cancelText, updateIconClass, cancelIconClass, attr;\n                            if (isPlainObject(command)) {\n                                if (isPlainObject(command.text)) {\n                                    updateText = command.text.update;\n                                    cancelText = command.text.cancel;\n                                }\n                                if (isPlainObject(command.iconClass)) {\n                                    updateIconClass = command.iconClass.update;\n                                    cancelIconClass = command.iconClass.cancel;\n                                }\n                                if (command.attr) {\n                                    attr = command.attr;\n                                }\n                            }\n                            $(that._createButton({\n                                name: 'update',\n                                text: updateText,\n                                attr: attr,\n                                iconClass: updateIconClass\n                            }) + that._createButton({\n                                name: 'canceledit',\n                                text: cancelText,\n                                attr: attr,\n                                iconClass: cancelIconClass\n                            })).appendTo(cell);\n                        }\n                    }\n                });\n                that._editContainer = row;\n                that._editContainer.addClass('k-grid-edit-row');\n                if (that._shouldClearEditableState) {\n                    that._clearEditableState();\n                }\n                that.editable = new kendo.ui.Editable(that._editContainer, {\n                    target: that,\n                    fields: fields,\n                    model: model,\n                    skipFocus: that._isVirtualInlineEditable() && that._editableState && that._editableState.field ? true : false,\n                    clearContainer: false\n                });\n                if (row.length > 1) {\n                    adjustRowHeight(row[0], row[1]);\n                    that._applyLockedContainersWidth();\n                }\n                that.trigger(EDIT, {\n                    container: row,\n                    model: model\n                });\n            },\n            cancelRow: function (notify) {\n                var that = this, container = that._editContainer, model;\n                var virtualScrollable = that.virtualScrollable;\n                var isScrolledToBottom = virtualScrollable && virtualScrollable._isScrolledToBottom();\n                if (container) {\n                    model = that._modelForContainer(container);\n                    if (!model || notify && that.trigger('cancel', {\n                            container: container,\n                            model: model\n                        })) {\n                        return;\n                    }\n                    that._destroyEditable();\n                    that.dataSource.cancelChanges(model);\n                    if (that._isVirtualEditable() && isScrolledToBottom) {\n                        that._restoreVirtualView();\n                    }\n                    that._clearEditableState();\n                    if (that._editMode() !== 'popup') {\n                        that._displayRow(container);\n                    } else {\n                        that._displayRow(that.tbody.find('[' + kendo.attr('uid') + '=' + model.uid + ']'));\n                    }\n                }\n            },\n            saveRow: function () {\n                var that = this;\n                var container = this._editContainer;\n                var model = this._modelForContainer(container);\n                var deferred = $.Deferred();\n                var valid;\n                if (!container || !this.editable) {\n                    return deferred.resolve().promise();\n                }\n                valid = that.editable && that.editable.end();\n                if (!valid || this.trigger(SAVE, {\n                        container: container,\n                        model: model\n                    })) {\n                    if (!valid) {\n                        that._scrollVirtualWrapper();\n                    }\n                    return deferred.reject().promise();\n                }\n                that._clearEditableState();\n                return this.dataSource.sync();\n            },\n            _displayRow: function (row) {\n                var that = this, model = that._modelForContainer(row), related, newRow, nextRow, isSelected = row.hasClass('k-state-selected'), isAlt = row.hasClass('k-alt');\n                if (model) {\n                    if (that.lockedContent) {\n                        related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                        that._relatedRow(row.last()).replaceWith(related);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: row.get() };\n                    });\n                    newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                    if (!row.is(':visible')) {\n                        newRow.hide();\n                    }\n                    row.replaceWith(newRow);\n                    that.trigger('itemChange', {\n                        item: newRow,\n                        data: model,\n                        ns: ui\n                    });\n                    if (related && related.length) {\n                        that.trigger('itemChange', {\n                            item: related,\n                            data: model,\n                            ns: ui\n                        });\n                    }\n                    var angularElements = newRow;\n                    var angularData = [{ dataItem: model }];\n                    if (related && related.length) {\n                        angularElements = newRow.add(related);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: angularElements.get(),\n                            data: angularData\n                        };\n                    });\n                    if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                        that.select(newRow.add(related));\n                    }\n                    if (related) {\n                        adjustRowHeight(newRow[0], related[0]);\n                    }\n                    nextRow = newRow.next();\n                    if (nextRow.hasClass('k-detail-row') && nextRow.is(':visible')) {\n                        newRow.find('.k-hierarchy-cell .k-icon').removeClass('k-i-expand').addClass('k-i-collapse');\n                    }\n                }\n            },\n            _showMessage: function (messages, row) {\n                var that = this;\n                if (!that._isMobile) {\n                    return window.confirm(messages.title);\n                }\n                var template = kendo.template('<ul>' + '<li class=\"km-actionsheet-title\">#:title#</li>' + '<li><a href=\"\\\\#\" class=\"k-button k-grid-delete\">#:confirmDelete#</a></li>' + '</ul>');\n                var html = $(template(messages)).appendTo(that.view.element);\n                var actionSheet = that._actionSheet = new kendo.mobile.ui.ActionSheet(html, {\n                    cancel: messages.cancelDelete,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var item = $(e.currentTarget).parent();\n                        if (!item.hasClass('km-actionsheet-cancel')) {\n                            that._removeRow(row);\n                        }\n                    },\n                    popup: that._actionSheetPopupOptions\n                });\n                actionSheet.open(row);\n                return false;\n            },\n            _confirmation: function (row) {\n                var that = this, editable = that.options.editable, confirmation = editable === true || typeof editable === STRING ? that.options.messages.editable.confirmation : editable.confirmation;\n                if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                    confirmation = that.options.messages.editable.confirmation;\n                }\n                if (confirmation !== false && confirmation != null) {\n                    if (typeof confirmation === FUNCTION) {\n                        confirmation = confirmation(that._modelForContainer(row));\n                    }\n                    return that._showMessage({\n                        confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                        cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                        title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                    }, row);\n                }\n                return true;\n            },\n            cancelChanges: function () {\n                var that = this;\n                that.dataSource.cancelChanges();\n                if (that._isVirtualEditable()) {\n                    that._virtualPageToTop(function () {\n                        that.virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            saveChanges: function () {\n                var that = this;\n                var valid = that.editable && that.editable.end();\n                if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                    that.dataSource.sync();\n                } else if (!valid) {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            addRow: function () {\n                var that = this, index, dataSource = that.dataSource, mode = that._editMode(), createAt = that.options.editable.createAt || '', pageSize = dataSource.pageSize(), view = dataSource.view() || [];\n                var createAtBottom = createAt.toLowerCase() === BOTTOM;\n                var model;\n                var virtualEditable = that._isVirtualEditable();\n                if (that.editable && that.editable.end() || !that.editable) {\n                    if (mode != 'incell') {\n                        that.cancelRow();\n                    }\n                    index = dataSource.indexOf(view[0]);\n                    if (createAtBottom) {\n                        index += view.length;\n                        if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                            index -= 1;\n                        }\n                    }\n                    if (index < 0) {\n                        if (dataSource.page() > dataSource.totalPages()) {\n                            index = (dataSource.page() - 1) * pageSize;\n                        } else {\n                            index = 0;\n                        }\n                    }\n                    if (that.options.navigatable && mode == 'incell') {\n                        that._removeCurrent();\n                    }\n                    if (virtualEditable) {\n                        that._virtualAddRow();\n                    } else {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                    }\n                } else {\n                    that._scrollVirtualWrapper();\n                }\n            },\n            _editModel: function (model) {\n                var that = this;\n                var createAt = that.options.editable.createAt || '';\n                var mode = that._editMode();\n                if (model) {\n                    var id = model.uid, table = that.lockedContent ? that.lockedTable : that.table, row = table.find('tr[' + kendo.attr('uid') + '=' + id + ']'), cell = row.children('td:not(.k-group-cell,.k-hierarchy-cell)').eq(that._firstEditableColumnIndex(row));\n                    if (mode === 'inline' && row.length) {\n                        that.editRow(row);\n                    } else if (mode === 'popup') {\n                        that.editRow(model);\n                    } else if (cell.length) {\n                        that.editCell(cell);\n                    }\n                    if (createAt.toLowerCase() == 'bottom' && that.lockedContent) {\n                        that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                    }\n                }\n            },\n            _virtualAddRow: function () {\n                var that = this;\n                var createAtBottom = (that.options.editable.createAt || '').toLowerCase() === BOTTOM;\n                that._clearEditableState();\n                if (createAtBottom) {\n                    that._virtualAddRowAtBottom();\n                } else {\n                    that._virtualAddRowAtTop();\n                }\n            },\n            _virtualAddRowAtTop: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var model;\n                if (dataSource.page() === 1) {\n                    model = dataSource.insert(0, {});\n                    that._editModel(model);\n                    virtualScrollable.scrollToTop();\n                } else {\n                    that._virtualPageToTop(function () {\n                        model = dataSource.insert(0, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToTop();\n                    });\n                }\n            },\n            _virtualAddRowAtBottom: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var index = dataSource.total();\n                var model;\n                if (dataSource.at(index - 1) instanceof ObservableObject) {\n                    model = dataSource.insert(index, {});\n                    that._virtualPageToBottom(function () {\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                } else {\n                    that._virtualPageToBottom(function () {\n                        model = dataSource.insert(index, {});\n                        that._editModel(model);\n                        virtualScrollable.scrollToBottom();\n                    });\n                }\n            },\n            _virtualPageToTop: function (callback) {\n                var that = this;\n                that._virtualPage(0, that.dataSource.take(), function () {\n                    callback();\n                });\n            },\n            _virtualPageToBottom: function (callback) {\n                var that = this;\n                var dataSource = that.dataSource;\n                var take = dataSource.take();\n                var total = dataSource.total();\n                var skip = total > take ? total - take : 0;\n                that._virtualPage(skip, take, function () {\n                    callback();\n                });\n            },\n            _virtualPage: function (skip, take, callback) {\n                var that = this;\n                if (that._isVirtualEditable()) {\n                    that.virtualScrollable._preventScroll = true;\n                    that.virtualScrollable._page(skip, take, callback);\n                }\n            },\n            _restoreVirtualView: function () {\n                var that = this;\n                var dataSource = that.dataSource;\n                var virtualScrollable = that.virtualScrollable;\n                var scrollbar = virtualScrollable.verticalScrollbar;\n                var wrapper = virtualScrollable.wrapper;\n                var take = dataSource.take();\n                var total = dataSource.total();\n                var rangeStart = dataSource.currentRangeStart();\n                var skip = total >= take ? math.min(rangeStart, total - take) : rangeStart;\n                var initialItemHeight = virtualScrollable.itemHeight;\n                var scrolledItemsCount = scrollbar.scrollTop() / initialItemHeight;\n                that._virtualPage(skip, take, function () {\n                    var itemHeight = virtualScrollable.itemHeight;\n                    var newScrollbarTop = scrolledItemsCount * itemHeight;\n                    if (virtualScrollable._isScrolledToBottom()) {\n                        virtualScrollable.scrollToBottom();\n                    } else {\n                        if (scrollbar.scrollTop() !== newScrollbarTop) {\n                            virtualScrollable._preventScroll = true;\n                        } else {\n                            virtualScrollable._preventScroll = false;\n                        }\n                        scrollbar.scrollTop(newScrollbarTop);\n                        wrapper.scrollTop(scrollbar.scrollTop() - skip * itemHeight);\n                    }\n                });\n            },\n            _firstEditableColumnIndex: function (container) {\n                var that = this, column, columns = leafColumns(that.columns), idx, length, model = that._modelForContainer(container);\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _toolbar: function () {\n                var that = this, wrapper = that.wrapper, toolbar = that.options.toolbar, editable = that.options.editable, container;\n                if (toolbar) {\n                    container = that.wrapper.find('.k-grid-toolbar');\n                    if (!container.length) {\n                        if (!isFunction(toolbar)) {\n                            toolbar = typeof toolbar === STRING ? toolbar : that._toolbarTmpl(toolbar).replace(templateHashRegExp, '\\\\#');\n                            toolbar = proxy(kendo.template(toolbar), that);\n                        }\n                        container = $('<div class=\"k-header k-grid-toolbar\" />').html(toolbar({})).prependTo(wrapper);\n                        that.angular('compile', function () {\n                            return { elements: container.get() };\n                        });\n                    }\n                    if (editable && editable.create !== false) {\n                        container.on(CLICK + NS, '.k-grid-add', function (e) {\n                            e.preventDefault();\n                            that.addRow();\n                        }).on(CLICK + NS, '.k-grid-cancel-changes', function (e) {\n                            e.preventDefault();\n                            that.cancelChanges();\n                        }).on(CLICK + NS, '.k-grid-save-changes', function (e) {\n                            e.preventDefault();\n                            that.saveChanges();\n                        });\n                    }\n                    container.on(CLICK + NS, '.k-grid-excel', function (e) {\n                        e.preventDefault();\n                        that.saveAsExcel();\n                    });\n                    container.on(CLICK + NS, '.k-grid-pdf', function (e) {\n                        e.preventDefault();\n                        that.saveAsPDF();\n                    });\n                }\n            },\n            _toolbarTmpl: function (commands) {\n                var that = this, idx, length, html = '';\n                if (isArray(commands)) {\n                    for (idx = 0, length = commands.length; idx < length; idx++) {\n                        html += that._createButton(commands[idx]);\n                    }\n                }\n                return html;\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-grid-' + (commandName || '').replace(/\\s/g, ''), options = {\n                        className: className,\n                        text: commandName,\n                        attr: '',\n                        iconClass: ''\n                    }, messages = this.options.messages.commands, attributeClassMatch;\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    command = extend(true, {}, command);\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    } else if (command.className === undefined) {\n                        command.className = options.className;\n                    }\n                    if (commandName === 'edit') {\n                        command = extend(true, {}, command);\n                        command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                        command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                    }\n                    if (command.attr) {\n                        if (isPlainObject(command.attr)) {\n                            command.attr = stringifyAttributes(command.attr);\n                        }\n                        if (typeof command.attr === STRING) {\n                            attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n                            if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(' ')) < 0) {\n                                command.className += ' ' + attributeClassMatch[1];\n                            }\n                        }\n                    }\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                }\n                return kendo.template(template)(options);\n            },\n            _hasFooters: function () {\n                return !!this.footerTemplate || !!this.groupFooterTemplate || this.footer && this.footer.length > 0 || this.wrapper.find('.k-grid-footer').length > 0;\n            },\n            _groupable: function () {\n                var that = this;\n                if (that._groupableClickHandler) {\n                    that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n                } else {\n                    that._groupableClickHandler = function (e) {\n                        var element = $(this), groupRow = element.closest('tr');\n                        var group = that._groupRows ? that._groupRows[that.wrapper.find('.k-grouping-row').index(groupRow)] : {};\n                        if (element.hasClass('k-i-collapse')) {\n                            if (!that.trigger('groupCollapse', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.collapseGroup(groupRow);\n                            }\n                        } else {\n                            if (!that.trigger('groupExpand', {\n                                    group: group,\n                                    element: groupRow\n                                })) {\n                                that.expandGroup(groupRow);\n                            }\n                        }\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                }\n                if (that._isLocked()) {\n                    that.lockedTable.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                } else {\n                    that.table.on(CLICK + NS, '.k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse', that._groupableClickHandler);\n                }\n                that._attachGroupable();\n            },\n            _attachGroupable: function () {\n                var that = this, wrapper = that.wrapper, groupable = that.options.groupable, draggables = HEADERCELLS + '[' + kendo.attr('field') + ']', filter = that.content ? '.k-grid-header:first ' + draggables : 'table:first>.k-grid-header ' + draggables;\n                if (groupable && groupable.enabled !== false) {\n                    if (!wrapper.has('div.k-grouping-header')[0]) {\n                        $('<div>&nbsp;</div>').addClass('k-grouping-header').prependTo(wrapper);\n                    }\n                    if (that.groupable) {\n                        that.groupable.destroy();\n                    }\n                    that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                        draggable: that._draggableInstance,\n                        groupContainer: '>div.k-grouping-header',\n                        dataSource: that.dataSource,\n                        draggableElements: filter,\n                        filter: filter,\n                        allowDrag: that.options.reorderable,\n                        change: function (e) {\n                            if (that.trigger('group', { groups: e.groups })) {\n                                e.preventDefault();\n                            } else {\n                                that._clearEditableState();\n                                if (that.dataSource.options.endless) {\n                                    that.dataSource.options.endless = null;\n                                    that._endlessPageSize = that.dataSource.options.pageSize;\n                                    that.dataSource.pageSize(that.dataSource.options.pageSize);\n                                }\n                            }\n                        }\n                    }));\n                }\n            },\n            _continuousItems: function (filter, cell) {\n                if (!this.lockedContent) {\n                    return;\n                }\n                var that = this;\n                var elements = that.table.add(that.lockedTable);\n                var lockedItems = $(filter, elements[0]);\n                var nonLockedItems = $(filter, elements[1]);\n                var columns = cell ? lockedColumns(that.columns).length : 1;\n                var nonLockedColumns = cell ? that.columns.length - columns : 1;\n                var result = [];\n                for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                    push.apply(result, lockedItems.slice(idx, idx + columns));\n                    push.apply(result, nonLockedItems.splice(0, nonLockedColumns));\n                }\n                return result;\n            },\n            _selectable: function () {\n                var that = this, multi, cell, notString = [], isLocked = that._isLocked(), selectable = that.options.selectable;\n                if (selectable) {\n                    if (that.selectable) {\n                        that.selectable.destroy();\n                    }\n                    if (that.options.persistSelection === true) {\n                        that._selectedIds = {};\n                    }\n                    selectable = kendo.ui.Selectable.parseOptions(selectable);\n                    multi = selectable.multiple;\n                    cell = selectable.cell;\n                    if (that._hasDetails()) {\n                        notString[notString.length] = '.k-detail-row';\n                    }\n                    if (that.options.groupable || that._hasFooters() || that._groups()) {\n                        notString[notString.length] = '.k-grouping-row,.k-group-footer';\n                    }\n                    notString = notString.join(',');\n                    if (notString !== '') {\n                        notString = ':not(' + notString + ')';\n                    }\n                    var elements = that.table;\n                    if (isLocked) {\n                        elements = elements.add(that.lockedTable);\n                    }\n                    var filter = '>' + (cell ? SELECTION_CELL_SELECTOR : 'tbody>tr' + notString);\n                    that.selectable = new kendo.ui.Selectable(elements, {\n                        filter: filter,\n                        aria: true,\n                        multiple: multi,\n                        change: function () {\n                            if (that.options.persistSelection && !cell) {\n                                that._persistSelectedRows();\n                            }\n                            that.trigger(CHANGE);\n                        },\n                        useAllItems: isLocked && multi && cell,\n                        relatedTarget: function (items) {\n                            if (cell || !isLocked) {\n                                return;\n                            }\n                            var related;\n                            var result = $();\n                            for (var idx = 0, length = items.length; idx < length; idx++) {\n                                related = that._relatedRow(items[idx]);\n                                if (inArray(related[0], items) < 0) {\n                                    result = result.add(related);\n                                }\n                            }\n                            return result;\n                        },\n                        continuousItems: function () {\n                            return that._continuousItems(filter, cell);\n                        }\n                    });\n                    if (that.options.navigatable) {\n                        elements.on('keydown' + NS, function (e) {\n                            var current = that.current();\n                            var target = e.target;\n                            if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 && !current.is('.k-edit-cell,.k-header') && current.parent().is(':not(.k-grouping-row,.k-detail-row,.k-group-footer)')) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = cell ? current : current.parent();\n                                if (isLocked && !cell) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!e.ctrlKey) {\n                                        that.selectable.clear();\n                                    } else {\n                                        if (current.hasClass(SELECTED)) {\n                                            current.removeClass(SELECTED);\n                                            that.trigger(CHANGE);\n                                            return;\n                                        }\n                                    }\n                                } else {\n                                    that.selectable.clear();\n                                }\n                                if (!cell) {\n                                    that.selectable._lastActive = current;\n                                }\n                                that.selectable.value(current);\n                            } else if (!cell && (e.shiftKey && e.keyCode == keys.LEFT || e.shiftKey && e.keyCode == keys.RIGHT || e.shiftKey && e.keyCode == keys.UP || e.shiftKey && e.keyCode == keys.DOWN || e.keyCode === keys.SPACEBAR && e.shiftKey)) {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                current = current.parent();\n                                if (isLocked) {\n                                    current = current.add(that._relatedRow(current));\n                                }\n                                if (multi) {\n                                    if (!that.selectable._lastActive) {\n                                        that.selectable._lastActive = current;\n                                    }\n                                    that.selectable.selectRange(that.selectable._firstSelectee(), current);\n                                } else {\n                                    that.selectable.clear();\n                                    that.selectable.value(current);\n                                }\n                            }\n                        });\n                    }\n                }\n            },\n            _clipboard: function () {\n                var options = this.options;\n                var selectable = options.selectable;\n                if (selectable && options.allowCopy) {\n                    var grid = this;\n                    if (!options.navigatable) {\n                        grid.table.add(grid.lockedTable).attr('tabindex', 0).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                            if (e.target !== e.currentTarget) {\n                                e.stopImmediatePropagation();\n                            }\n                        }).on('mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, grid));\n                    }\n                    grid.copyHandler = proxy(grid.copySelection, grid);\n                    grid.updateClipBoardState = function () {\n                        if (grid.areaClipBoard) {\n                            grid.areaClipBoard.val(grid.getTSV()).focus().select();\n                        }\n                    };\n                    grid.bind('change', grid.updateClipBoardState);\n                    grid.wrapper.on('keydown', grid.copyHandler);\n                    grid.clearAreaHandler = proxy(grid.clearArea, grid);\n                    grid.wrapper.on('keyup', grid.clearAreaHandler);\n                }\n            },\n            copySelection: function (e) {\n                if (e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey) || $(e.target).is('input:visible,textarea:visible') || window.getSelection && window.getSelection().toString() || document.selection && document.selection.createRange().text) {\n                    return;\n                }\n                if (!this.areaClipBoard) {\n                    this.areaClipBoard = $('<textarea />').css({\n                        position: 'fixed',\n                        top: '50%',\n                        left: '50%',\n                        opacity: 0,\n                        width: 0,\n                        height: 0\n                    }).appendTo(this.wrapper);\n                }\n                this.areaClipBoard.val(this.getTSV()).focus().select();\n            },\n            getTSV: function () {\n                var grid = this;\n                var selected = grid.select();\n                var delimeter = '\\t';\n                var allowCopy = grid.options.allowCopy;\n                var onlyVisible = true;\n                if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                    delimeter = allowCopy.delimeter;\n                }\n                var text = '';\n                if (selected.length) {\n                    if (selected.eq(0).is('tr')) {\n                        selected = selected.find('td:not(.k-group-cell)');\n                    }\n                    if (onlyVisible) {\n                        selected.filter(':visible');\n                    }\n                    var result = [];\n                    var cellsOffset = this.columns.length;\n                    var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                    var inLockedArea = true;\n                    $.each(selected, function (idx, cell) {\n                        cell = $(cell);\n                        var tr = cell.closest('tr');\n                        var rowIndex = tr.index();\n                        var cellIndex = cell.index();\n                        if (onlyVisible) {\n                            cellIndex -= cell.prevAll(':hidden').length;\n                        }\n                        if (lockedCols && inLockedArea) {\n                            inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                        }\n                        if (grid._groups() && inLockedArea) {\n                            cellIndex -= grid._groups();\n                        }\n                        cellIndex = inLockedArea ? cellIndex : cellIndex + lockedCols;\n                        if (cellsOffset > cellIndex) {\n                            cellsOffset = cellIndex;\n                        }\n                        var cellText = cell.text();\n                        if (!result[rowIndex]) {\n                            result[rowIndex] = [];\n                        }\n                        result[rowIndex][cellIndex] = cellText;\n                    });\n                    var rowsOffset = result.length;\n                    result = $.each(result, function (idx, val) {\n                        if (val) {\n                            result[idx] = val.slice(cellsOffset);\n                            if (rowsOffset > idx) {\n                                rowsOffset = idx;\n                            }\n                        }\n                    });\n                    $.each(result.slice(rowsOffset), function (idx, val) {\n                        if (val) {\n                            text += val.join(delimeter) + '\\r\\n';\n                        } else {\n                            text += '\\r\\n';\n                        }\n                    });\n                }\n                return text;\n            },\n            clearArea: function (e) {\n                var table;\n                if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                    if (this.options.navigatable) {\n                        table = $(this.current()).closest('table');\n                    } else {\n                        table = this.table;\n                    }\n                    focusTable(table, true);\n                }\n                if (this.areaClipBoard) {\n                    this.areaClipBoard.remove();\n                    this.areaClipBoard = null;\n                }\n            },\n            _minScreenSupport: function () {\n                var any = this.hideMinScreenCols();\n                if (any) {\n                    this.minScreenResizeHandler = proxy(this.hideMinScreenCols, this);\n                    $(window).on('resize', this.minScreenResizeHandler);\n                }\n            },\n            hideMinScreenCols: function () {\n                var cols = this.columns, screenWidth = window.innerWidth > 0 ? window.innerWidth : screen.width;\n                return this._iterateMinScreenCols(cols, screenWidth);\n            },\n            _iterateMinScreenCols: function (cols, screenWidth) {\n                var any = false;\n                for (var i = 0; i < cols.length; i++) {\n                    var col = cols[i];\n                    var minWidth = col.minScreenWidth;\n                    if (minWidth !== undefined && minWidth !== null) {\n                        any = true;\n                        if (minWidth > screenWidth) {\n                            this.hideColumn(col);\n                        } else {\n                            this.showColumn(col);\n                        }\n                    }\n                    if (!col.hidden && col.columns) {\n                        any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                    }\n                }\n                return any;\n            },\n            _relatedRow: function (row) {\n                var lockedTable = this.lockedTable;\n                row = $(row);\n                if (!lockedTable) {\n                    return row;\n                }\n                var table = row.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr').index(row);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr').eq(index);\n            },\n            _relatedCell: function (cell) {\n                var lockedTable = this.lockedTable;\n                cell = $(cell);\n                if (!lockedTable) {\n                    return cell;\n                }\n                var table = cell.closest(this.table.add(this.lockedTable));\n                var index = table.find('>tbody>tr>td').index(cell);\n                table = table[0] === this.table[0] ? lockedTable : this.table;\n                return table.find('>tbody>tr>td').index(index);\n            },\n            clearSelection: function () {\n                var that = this;\n                if (that.selectable) {\n                    that.selectable.clear();\n                }\n                if (that._checkBoxSelection) {\n                    that._deselectCheckRows(that.select());\n                    return;\n                }\n                if (that.options.persistSelection) {\n                    that._persistSelectedRows();\n                }\n                that.trigger(CHANGE);\n            },\n            select: function (items) {\n                var that = this, selectable = that.selectable, selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable), cell = selectableoptions.cell;\n                items = that.table.add(that.lockedTable).find(items);\n                if (items.length) {\n                    if (selectable && !selectable.options.multiple) {\n                        selectable.clear();\n                        items = items.first();\n                    }\n                    if (that._isLocked()) {\n                        items = items.add(items.map(function () {\n                            if (cell) {\n                                return that._relatedCell(this);\n                            } else {\n                                return that._relatedRow(this);\n                            }\n                        }));\n                    }\n                    if (selectable) {\n                        selectable.value(items);\n                    } else {\n                        items.each(function () {\n                            $(this).addClass(SELECTED).find(CHECKBOXINPUT).prop('checked', true).attr('aria-label', 'Deselect row').attr('aria-checked', true);\n                        });\n                        if (that.select().length === that.items().length) {\n                            that._toggleHeaderCheckState(true);\n                        }\n                        if (that.options.persistSelection) {\n                            that._persistSelectedRows();\n                        }\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n                return selectable ? selectable.value() : that.items().filter('.' + SELECTED);\n            },\n            _toggleHeaderCheckState: function (checked) {\n                var that = this;\n                if (checked) {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', true).attr('aria-checked', true).attr('aria-label', 'Deselect all rows');\n                } else {\n                    that.thead.add(that.lockedHeader).find('tr ' + CHECKBOXINPUT).prop('checked', false).attr('aria-checked', false).attr('aria-label', 'Select all rows');\n                }\n            },\n            _deselectCheckRows: function (items) {\n                var that = this;\n                items = that.table.add(that.lockedTable).find(items);\n                if (that._isLocked()) {\n                    items = items.add(items.map(function () {\n                        return that._relatedRow(this);\n                    }));\n                }\n                items.each(function () {\n                    $(this).removeClass(SELECTED).find(CHECKBOXINPUT).attr('aria-checked', false).prop('checked', false).attr('aria-label', 'Select row');\n                });\n                that._toggleHeaderCheckState(false);\n                if (that.options.persistSelection) {\n                    that._persistSelectedRows();\n                }\n                that.trigger(CHANGE);\n            },\n            _persistSelectedRows: function () {\n                var that = this, key, dataItem, allRows = that.items(), dataSourceOptions = that.dataSource.options, modelId = dataSourceOptions.schema.model.id, selectedViewIds = {};\n                that.select().each(function () {\n                    dataItem = that.dataItem(this);\n                    selectedViewIds[dataItem[modelId]] = true;\n                });\n                for (var i = 0; i < allRows.length; i++) {\n                    dataItem = that.dataItem(allRows[i]);\n                    key = dataItem[modelId];\n                    if (selectedViewIds[key]) {\n                        that._selectedIds[key] = true;\n                    } else {\n                        delete that._selectedIds[key];\n                    }\n                }\n            },\n            selectedKeyNames: function () {\n                var that = this, ids = [];\n                for (var property in that._selectedIds) {\n                    ids.push(property);\n                }\n                ids.sort();\n                return ids;\n            },\n            _updateCurrentAttr: function (current, next) {\n                var headerId = $(current).data('headerId');\n                $(current).removeClass(FOCUSED).closest('table').removeAttr('aria-activedescendant');\n                if (headerId) {\n                    headerId = headerId.replace(this._cellId, '');\n                    $(current).attr('id', headerId);\n                } else {\n                    $(current).removeAttr('id');\n                }\n                next.data('headerId', next.attr('id')).attr('id', this._cellId).addClass(FOCUSED).closest('table').attr('aria-activedescendant', this._cellId);\n                this._current = next;\n            },\n            _scrollCurrent: function () {\n                var current = this._current;\n                var scrollable = this.options.scrollable;\n                if (!current || !scrollable) {\n                    return;\n                }\n                var row = current.parent();\n                var tableContainer = row.closest('table').parent();\n                var isInLockedContainer = tableContainer.is('.k-grid-content-locked,.k-grid-header-locked');\n                var isInContent = tableContainer.is('.k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap');\n                var scrollableContainer = $(this.content).find('>.k-virtual-scrollable-wrap').addBack().last()[0];\n                if (isInContent) {\n                    if (scrollable.virtual) {\n                        var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                        this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                        this.virtualScrollable.scrollIntoView(row);\n                    } else {\n                        this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                    }\n                }\n                if (this.lockedContent) {\n                    this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n                }\n                if (!isInLockedContainer) {\n                    this._scrollTo(current[0], scrollableContainer);\n                }\n            },\n            current: function (next) {\n                return this._setCurrent(next, true);\n            },\n            _setCurrent: function (next, preventTrigger) {\n                var current = this._current;\n                next = $(next);\n                if (next.length) {\n                    if (!current || current[0] !== next[0]) {\n                        this._updateCurrentAttr(current, next);\n                        this._scrollCurrent();\n                        if (!preventTrigger) {\n                            this.trigger(NAVIGATE, { element: next });\n                        }\n                    }\n                }\n                if (next && next.length) {\n                    this._lastCellIndex = next.parent().children(DATA_CELL).index(next);\n                }\n                return this._current;\n            },\n            _removeCurrent: function () {\n                if (this._current) {\n                    this._current.removeClass(FOCUSED);\n                    this._current = null;\n                }\n            },\n            _scrollTo: function (element, container) {\n                var elementToLowercase = element.tagName.toLowerCase();\n                var isHorizontal = elementToLowercase === 'td' || elementToLowercase === 'th';\n                var elementOffset = element[isHorizontal ? 'offsetLeft' : 'offsetTop'];\n                var elementOffsetDir = element[isHorizontal ? 'offsetWidth' : 'offsetHeight'];\n                var containerScroll = container[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n                var containerOffsetDir = container[isHorizontal ? 'clientWidth' : 'clientHeight'];\n                var bottomDistance = elementOffset + elementOffsetDir;\n                var result = 0;\n                var ieCorrection = 0;\n                var firefoxCorrection = 0;\n                if (isRtl && isHorizontal) {\n                    var table = $(element).closest('table')[0];\n                    if (browser.msie) {\n                        ieCorrection = table.offsetLeft;\n                    } else if (browser.mozilla) {\n                        firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                    }\n                }\n                containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n                if (containerScroll > elementOffset) {\n                    result = elementOffset;\n                } else if (bottomDistance > containerScroll + containerOffsetDir) {\n                    if (elementOffsetDir <= containerOffsetDir) {\n                        result = bottomDistance - containerOffsetDir;\n                    } else {\n                        result = elementOffset;\n                    }\n                } else {\n                    result = containerScroll;\n                }\n                result = Math.abs(result + ieCorrection) + firefoxCorrection;\n                container[isHorizontal ? 'scrollLeft' : 'scrollTop'] = result;\n            },\n            _navigatable: function () {\n                var that = this;\n                if (!that.options.navigatable) {\n                    return;\n                }\n                var dataTables = that.table.add(that.lockedTable);\n                var headerTables = that.thead.parent().add($('>table', that.lockedHeader));\n                var tables = dataTables;\n                if (that.options.scrollable) {\n                    tables = tables.add(headerTables);\n                    headerTables.attr(TABINDEX, -1);\n                }\n                this._navigatableTables = tables;\n                tables.off('mousedown' + NS + ' focus' + NS + ' focusout' + NS + ' keydown' + NS);\n                headerTables.on('keydown' + NS, proxy(that._openHeaderMenu, that)).find('a.k-link').attr('tabIndex', -1);\n                dataTables.attr(TABINDEX, math.max(dataTables.attr(TABINDEX) || 0, 0)).on('mousedown' + NS + ' keydown' + NS, '.k-detail-cell', function (e) {\n                    if (e.target !== e.currentTarget) {\n                        e.stopImmediatePropagation();\n                    }\n                });\n                tables.on(kendo.support.touch ? 'touchstart' + NS : 'mousedown' + NS, NAVROW + '>' + NAVCELL, proxy(tableClick, that)).on('focus' + NS, proxy(that._tableFocus, that)).on('focusout' + NS, proxy(that._tableBlur, that)).on('keydown' + NS, proxy(that._tableKeyDown, that));\n            },\n            _openHeaderMenu: function (e) {\n                if (e.altKey && e.keyCode == keys.DOWN) {\n                    this.current().find('.k-grid-filter, .k-header-column-menu').click();\n                    e.stopImmediatePropagation();\n                }\n            },\n            _setTabIndex: function (table) {\n                this._navigatableTables.attr(TABINDEX, -1);\n                table.attr(TABINDEX, 0);\n            },\n            _tableFocus: function (e) {\n                if (kendo.support.touch) {\n                    return;\n                }\n                var current = this.current();\n                var table = $(e.currentTarget);\n                if (current && current.is(':visible')) {\n                    current.addClass(FOCUSED);\n                } else {\n                    this._setCurrent(table.find(FIRSTNAVITEM));\n                }\n                this._setTabIndex(table);\n            },\n            _tableBlur: function () {\n                var current = this.current();\n                if (current) {\n                    current.removeClass(FOCUSED);\n                }\n            },\n            _tableKeyDown: function (e) {\n                var current = this.current();\n                var requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching();\n                var target = $(e.target);\n                var canHandle = !e.isDefaultPrevented() && !target.is(':button,a,:input,a>.k-icon');\n                if (requestInProgress) {\n                    e.preventDefault();\n                    return;\n                }\n                current = current ? current : $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(FIRSTNAVITEM);\n                if (!current.length) {\n                    return;\n                }\n                var handled = false;\n                if (canHandle && e.keyCode == keys.UP) {\n                    handled = this._moveUp(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == keys.DOWN) {\n                    handled = this._moveDown(current, e.shiftKey);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                    handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                    handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, e.currentTarget);\n                }\n                if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                    handled = this._handlePageDown();\n                }\n                if (canHandle && e.keyCode == keys.PAGEUP) {\n                    handled = this._handlePageUp();\n                }\n                if (canHandle && e.keyCode == keys.HOME) {\n                    handled = this._handleHome(current, e.ctrlKey);\n                }\n                if (canHandle && e.keyCode == keys.END) {\n                    handled = this._handleEnd(current, e.ctrlKey);\n                }\n                if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                    handled = this._handleEnterKey(current, e.currentTarget, target);\n                }\n                if (e.keyCode == keys.ESC) {\n                    handled = this._handleEscKey(current, e.currentTarget);\n                }\n                if (e.keyCode == keys.TAB) {\n                    handled = this._handleTabKey(current, e.currentTarget, e.shiftKey);\n                }\n                if (handled) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _moveLeft: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.collapseRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, true);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._prevHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.lockedTable[0], row[0])) {\n                                    next = next.prevAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':last');\n                            } else {\n                                next = this._tabNext(current, currentTable, true);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container);\n                            next = this._prevHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveRight: function (current, altKey, shiftKey, ctrlKey, currentTable) {\n                var next, index;\n                var row = current.parent();\n                var container = row.parent();\n                if (altKey) {\n                    this.expandRow(row);\n                } else if (ctrlKey && current.is('.k-header') && this.options.reorderable) {\n                    this._moveColumn(current, false);\n                } else {\n                    index = container.find(NAVROW).index(row);\n                    next = this._nextHorizontalCell(container, current, index);\n                    if (!next[0]) {\n                        if (shiftKey) {\n                            if (this.lockedTable) {\n                                next = this._relatedRow(row);\n                                if ($.contains(this.table[0], row[0])) {\n                                    next = next.nextAll(ITEMROW + ':first');\n                                }\n                                next = next.children(DATA_CELL + ':first');\n                            } else {\n                                next = this._tabNext(current, currentTable, false);\n                            }\n                        } else {\n                            container = this._horizontalContainer(container, true);\n                            next = this._nextHorizontalCell(container, current, index);\n                            if (next[0] !== current[0]) {\n                                focusTable(container.parent(), true);\n                            }\n                        }\n                    }\n                    this._setCurrent(next);\n                }\n                return true;\n            },\n            _moveUp: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.prevAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':last');\n                } else {\n                    next = this._prevVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container, true);\n                        next = this._prevVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveDown: function (current, shiftKey) {\n                var container = current.parent().parent();\n                var next;\n                if (shiftKey) {\n                    next = current.parent();\n                    next = next.nextAll(ITEMROW + ':first');\n                    next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL + ':first');\n                } else {\n                    next = this._nextVerticalCell(container, current);\n                    if (!next[0]) {\n                        this._lastCellIndex = 0;\n                        container = this._verticalContainer(container);\n                        next = this._nextVerticalCell(container, current);\n                        if (next[0]) {\n                            focusTable(container.parent(), true);\n                        }\n                    }\n                }\n                var tmp = this._lastCellIndex || 0;\n                this._setCurrent(next);\n                this._lastCellIndex = tmp;\n                return true;\n            },\n            _moveColumn: function (current, isLeft) {\n                var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + ':visible');\n                var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n                var oldIndex = elements.index($(current));\n                var offset = isLeft ? -1 : 1;\n                var column = columns[oldIndex];\n                var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n                if (newIndex >= 0) {\n                    this.reorderColumn(newIndex, column, isLeft);\n                }\n            },\n            _handleHome: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var prev;\n                if (ctrl) {\n                    if (this.lockedTable) {\n                        prev = this.lockedTable.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    } else {\n                        prev = this.table.find(FIRSTITEMROW + '>' + NAVCELL + ':first');\n                    }\n                } else if (isInBody || isInLockedTable) {\n                    if (isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    prev = row.children(DATA_CELL + ':first');\n                }\n                if (prev && prev.length) {\n                    this._setCurrent(prev);\n                    return true;\n                }\n            },\n            _handleEnd: function (current, ctrl) {\n                var row = current.parent();\n                var rowContainer = row.parent();\n                var isInLockedTable = this.lockedTable && this.lockedTable.children('tbody')[0] === rowContainer[0];\n                var isInBody = rowContainer[0] === this.tbody[0];\n                var next;\n                if (ctrl) {\n                    next = this.table.find(LASTITEMROW + '>' + NAVCELL + ':last');\n                } else if (isInBody || isInLockedTable) {\n                    if (!isInBody && this.lockedTable) {\n                        row = this._relatedRow(row);\n                    }\n                    next = row.children(DATA_CELL + ':last');\n                }\n                if (next && next.length) {\n                    this._setCurrent(next);\n                    return true;\n                }\n            },\n            _handlePageDown: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() + 1);\n                return true;\n            },\n            _handlePageUp: function () {\n                if (!this.options.pageable) {\n                    return false;\n                }\n                this.dataSource.page(this.dataSource.page() - 1);\n                return true;\n            },\n            _handleTabKey: function (current, currentTable, shiftKey) {\n                var isInCell = this.options.editable && this._editMode() == 'incell';\n                var cell;\n                if (!isInCell || current.is('th')) {\n                    return false;\n                }\n                cell = $(activeElement()).closest('.k-edit-cell');\n                if (cell[0] && cell[0] !== current[0]) {\n                    current = cell;\n                }\n                cell = this._tabNext(current, currentTable, shiftKey);\n                if (cell.length) {\n                    this._handleEditing(current, cell, cell.closest('table'));\n                    return true;\n                }\n                return false;\n            },\n            _handleEscKey: function (current, currentTable) {\n                var active = activeElement();\n                var isInCell = this._editMode() == 'incell';\n                if (!isInEdit(current)) {\n                    if (current.has(active).length) {\n                        focusTable(currentTable, true);\n                        return true;\n                    }\n                    return false;\n                }\n                if (isInCell) {\n                    this.closeCell(true);\n                } else {\n                    var currentIndex = $(current).parent().index();\n                    if (active) {\n                        active.blur();\n                    }\n                    this.cancelRow(true);\n                    if (currentIndex >= 0) {\n                        this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                    }\n                }\n                if (browser.msie && browser.version < 9) {\n                    document.body.focus();\n                }\n                focusTable(currentTable, true);\n                return true;\n            },\n            _toggleCurrent: function (current, editable) {\n                var row = current.parent();\n                if (row.is('.k-grouping-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                if (!editable && row.is('.k-master-row')) {\n                    row.find('.k-icon:first').click();\n                    return true;\n                }\n                return false;\n            },\n            _handleEnterKey: function (current, currentTable, target) {\n                var editable = this.options.editable && this.options.editable.update !== false;\n                var container = target.closest('[role=gridcell]');\n                var link;\n                if (!target.is('table') && !$.contains(current[0], target[0])) {\n                    current = container;\n                }\n                if (current.is('th')) {\n                    link = current.find('.k-link');\n                    if (link.length) {\n                        link.click();\n                    } else {\n                        current.find(CHECKBOXINPUT).focus();\n                    }\n                    return true;\n                }\n                if (this._toggleCurrent(current, editable)) {\n                    return true;\n                }\n                var focusable = current.find(':kendoFocusable:first');\n                if (focusable[0] && !current.hasClass('k-edit-cell') && current.hasClass('k-state-focused')) {\n                    focusable.focus();\n                    return true;\n                }\n                if (editable && !target.is(':button,.k-button,textarea')) {\n                    if (!container[0]) {\n                        container = current;\n                    }\n                    this._handleEditing(container, false, currentTable);\n                    return true;\n                }\n                return false;\n            },\n            _nextHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.nextAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(':visible').first()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).first();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).first();\n                    }\n                }\n                return cells.first();\n            },\n            _prevHorizontalCell: function (table, current, originalIndex) {\n                var cells = current.prevAll(DATA_CELL);\n                if (!cells.length) {\n                    var rows = table.find(NAVROW);\n                    var rowIndex = rows.index(current.parent());\n                    if (rowIndex == -1) {\n                        if (current.hasClass('k-header')) {\n                            var headerRows = [];\n                            var columns = lockedColumns(this.columns);\n                            mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n                            if (headerRows[originalIndex]) {\n                                return headerRows[originalIndex][0];\n                            }\n                            return current;\n                        }\n                        if (current.parent().hasClass('k-filter-row')) {\n                            return rows.last().children(DATA_CELL).last();\n                        }\n                        return rows.eq(originalIndex).children(DATA_CELL).last();\n                    }\n                }\n                return cells.first();\n            },\n            _currentDataIndex: function (table, current) {\n                var index = current.attr('data-index');\n                if (!index) {\n                    return undefined;\n                }\n                var lockedColumnsCount = lockedColumns(this.columns).length;\n                if (lockedColumnsCount && !table.closest('div').hasClass('k-grid-content-locked')[0]) {\n                    return index - lockedColumnsCount;\n                }\n                return index;\n            },\n            _prevVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (index || current.hasClass('k-header')) {\n                    cells = parentColumnsCells(current);\n                    return cells.eq(cells.length - 2);\n                }\n                index = Math.max(row.children(DATA_CELL).index(current), this._lastCellIndex || 0);\n                if (row.hasClass('k-filter-row')) {\n                    return leafDataCells(container).filter(isCellVisible).eq(index);\n                }\n                if (rowIndex == -1) {\n                    row = container.find('tr.k-filter-row:visible');\n                    if (!row[0]) {\n                        return leafDataCells(container).filter(isCellVisible).eq(index);\n                    }\n                } else {\n                    row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n                }\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _nextVerticalCell: function (container, current) {\n                var cells;\n                var row = current.parent();\n                var rows = container.children(NAVROW);\n                var rowIndex = rows.index(row);\n                var index = this._currentDataIndex(container, current);\n                if (rowIndex != -1 && index === undefined && current.hasClass('k-header')) {\n                    return childColumnsCells(current).eq(1);\n                }\n                index = index ? parseInt(index, 10) : row.children(DATA_CELL).index(current);\n                index = Math.max(index, this._lastCellIndex || 0);\n                if (rowIndex == -1) {\n                    row = rows.eq(0);\n                } else {\n                    row = rows.eq(rowIndex + current[0].rowSpan);\n                }\n                var tmpIndex = index;\n                if (this._currentDataIndex(container, current) !== undefined) {\n                    var currentRowCells = row.children(':not(.k-group-cell):not(.k-hierarchy-cell)');\n                    var hiddenColumns = currentRowCells.filter(':hidden');\n                    for (var idx = 0, length = hiddenColumns.length; idx < length; idx++) {\n                        if (currentRowCells.index(hiddenColumns[idx]) < index) {\n                            tmpIndex--;\n                        }\n                    }\n                }\n                index = tmpIndex;\n                cells = row.children(DATA_CELL);\n                if (cells.length > index) {\n                    return cells.eq(index);\n                }\n                return cells.eq(0);\n            },\n            _verticalContainer: function (container, up) {\n                var table = container.parent();\n                var length = this._navigatableTables.length;\n                var step = Math.floor(length / 2);\n                var index = inArray(table[0], this._navigatableTables);\n                if (up) {\n                    step *= -1;\n                }\n                index += step;\n                if (index >= 0 || index < length) {\n                    table = this._navigatableTables.eq(index);\n                }\n                return table.find(up ? 'thead' : 'tbody');\n            },\n            _horizontalContainer: function (container, right) {\n                var length = this._navigatableTables.length;\n                if (length <= 2) {\n                    return container;\n                }\n                var table = container.parent();\n                var index = inArray(table[0], this._navigatableTables);\n                index += right ? 1 : -1;\n                if (right && (index == 2 || index == length)) {\n                    return container;\n                }\n                if (!right && (index == 1 || index < 0)) {\n                    return container;\n                }\n                return this._navigatableTables.eq(index).find('thead, tbody');\n            },\n            _tabNext: function (current, currentTable, back) {\n                var switchRow = true;\n                var next = back ? current.prevAll(DATA_CELL + ':first') : current.nextAll(':visible:first');\n                if (!next.length) {\n                    next = current.parent();\n                    if (this.lockedTable) {\n                        switchRow = back && currentTable == this.lockedTable[0] || !back && currentTable == this.table[0];\n                        next = this._relatedRow(next);\n                    }\n                    if (switchRow) {\n                        next = next[back ? 'prevAll' : 'nextAll']('tr:not(.k-grouping-row):not(.k-detail-row):visible:first');\n                    }\n                    next = next.children(DATA_CELL + (back ? ':last' : ':first'));\n                }\n                return next;\n            },\n            _handleEditing: function (current, next, table) {\n                var that = this, active = $(activeElement()), mode = that._editMode(), isIE = browser.msie, oldIE = isIE && browser.version < 9, editContainer = that._editContainer, focusable, editable = that.options.editable && that.options.editable.update !== false, isEdited;\n                table = $(table);\n                if (mode == 'incell') {\n                    isEdited = current.hasClass('k-edit-cell');\n                } else {\n                    isEdited = current.parent().hasClass('k-grid-edit-row');\n                }\n                if (that.editable) {\n                    if ($.contains(editContainer[0], active[0])) {\n                        if (browser.opera || oldIE) {\n                            active.blur().change().triggerHandler('blur');\n                        } else {\n                            active.blur();\n                            if (isIE) {\n                                active.blur();\n                            }\n                        }\n                    }\n                    if (!that.editable) {\n                        focusTable(table);\n                        return;\n                    }\n                    if (that.editable.end()) {\n                        if (mode == 'incell') {\n                            that.closeCell();\n                        } else {\n                            that.saveRow();\n                            isEdited = true;\n                        }\n                    } else {\n                        if (mode == 'incell') {\n                            that._setCurrent(editContainer);\n                        } else {\n                            that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                        }\n                        focusable = editContainer.find(':kendoFocusable:first')[0];\n                        if (focusable) {\n                            focusable.focus();\n                        }\n                        return;\n                    }\n                }\n                if (next) {\n                    that._setCurrent(next);\n                }\n                if (oldIE) {\n                    document.body.focus();\n                }\n                focusTable(table, true);\n                if (!editable) {\n                    return;\n                }\n                if (!isEdited && !next || next) {\n                    if (mode == 'incell') {\n                        that.editCell(that.current());\n                    } else {\n                        that.editRow(that.current().parent());\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, table = that.table, height = that.options.height, wrapper = that.element;\n                if (!wrapper.is('div')) {\n                    wrapper = wrapper.wrap('<div/>').parent();\n                }\n                that.wrapper = wrapper.addClass('k-grid k-widget k-display-block');\n                if (height) {\n                    that.wrapper.css(HEIGHT, height);\n                    table.css(HEIGHT, 'auto');\n                }\n                that._initMobile();\n            },\n            _initMobile: function () {\n                var options = this.options;\n                var that = this;\n                this._isMobile = options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n                if (this._isMobile) {\n                    var html = this.wrapper.addClass('k-grid-mobile').wrap('<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' + 'data-' + kendo.ns + 'init-widgets=\"false\"></div>').parent();\n                    this.pane = kendo.mobile.ui.Pane.wrap(html);\n                    this.view = this.pane.view();\n                    this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                        align: 'bottom center',\n                        position: 'bottom center',\n                        effect: 'slideIn:up'\n                    };\n                    if (options.height) {\n                        this.pane.element.parent().css(HEIGHT, options.height);\n                    }\n                    this._editAnimation = 'slide';\n                    this.view.bind('show', function () {\n                        if (that._isLocked()) {\n                            that._updateTablesWidth();\n                            that._applyLockedContainersWidth();\n                            that._syncLockedContentHeight();\n                            that._syncLockedHeaderHeight();\n                            that._syncLockedFooterHeight();\n                        }\n                    });\n                }\n            },\n            _tbody: function () {\n                var that = this, table = that.table, tbody;\n                tbody = table.find('>tbody');\n                if (!tbody.length) {\n                    tbody = $('<tbody/>').appendTo(table);\n                }\n                that.tbody = tbody.attr('role', 'rowgroup');\n            },\n            _scrollable: function () {\n                var that = this, header, table, options = that.options, scrollable = options.scrollable, hasVirtualScroll = scrollable !== true && scrollable.virtual && !that.virtualScrollable, scrollbar = !kendo.support.kineticScrollNeeded || hasVirtualScroll ? kendo.support.scrollbar() : 0, headerWrap;\n                if (scrollable) {\n                    header = that.wrapper.children('.k-grid-header');\n                    if (!header[0]) {\n                        header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                    }\n                    header.css(isRtl ? 'padding-left' : 'padding-right', scrollable.virtual ? scrollbar + 1 : scrollbar);\n                    table = $('<table role=\"grid\" />');\n                    if (isIE7) {\n                        table.attr('cellspacing', 0);\n                    }\n                    table.width(that.table[0].style.width);\n                    table.append(that.thead);\n                    header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n                    that.content = that.table.parent();\n                    if (that.content.is('.k-virtual-scrollable-wrap, .km-scroll-container')) {\n                        that.content = that.content.parent();\n                    }\n                    if (!that.content.is('.k-grid-content, .k-virtual-scrollable-wrap')) {\n                        that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                    }\n                    if (hasVirtualScroll) {\n                        that._createVirtualScrollable();\n                    }\n                    headerWrap = header.children('.k-grid-header-wrap');\n                    that.scrollables = headerWrap.add(that.content);\n                    var footer = that.wrapper.find('.k-grid-footer');\n                    if (footer.length) {\n                        that.scrollables = that.scrollables.add(footer.children('.k-grid-footer-wrap'));\n                    }\n                    headerWrap.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                        if (that._scrollLeft !== this.scrollLeft) {\n                            that.scrollables.not(e.currentTarget).scrollLeft(this.scrollLeft);\n                        }\n                    });\n                    if (scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').unbind('scroll' + NS).bind('scroll' + NS, function () {\n                            that.scrollables.scrollLeft(this.scrollLeft);\n                            if (that.lockedContent) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                        });\n                    } else {\n                        var endless = scrollable.endless;\n                        var originalPageSize = that.dataSource.options.pageSize;\n                        if (endless) {\n                            that._endlessPageSize = originalPageSize;\n                        }\n                        that.content.unbind('scroll' + NS).bind('scroll' + NS, function (e) {\n                            that._scrollLeft = this.scrollLeft;\n                            that.scrollables.not(e.currentTarget).scrollLeft(that._scrollLeft);\n                            if (that.lockedContent && e.currentTarget == that.content[0]) {\n                                that.lockedContent[0].scrollTop = this.scrollTop;\n                            }\n                            if (endless) {\n                                if (this.scrollTop + this.clientHeight - this.scrollHeight >= -10 && !that._endlessFetchInProgress && that._endlessPageSize < that.dataSource.total()) {\n                                    that._skipRerenderItemsCount = that._endlessPageSize;\n                                    that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                    that.dataSource.options.endless = true;\n                                    that._endlessFetchInProgress = true;\n                                    that.dataSource.pageSize(that._endlessPageSize);\n                                }\n                            }\n                        });\n                        var touchScroller = that.content.data('kendoTouchScroller');\n                        if (touchScroller) {\n                            touchScroller.destroy();\n                        }\n                        touchScroller = kendo.touchScroller(that.content);\n                        if (touchScroller && touchScroller.movable) {\n                            that.touchScroller = touchScroller;\n                            touchScroller.movable.bind('change', function (e) {\n                                that.scrollables.scrollLeft(-e.sender.x);\n                                if (that.lockedContent) {\n                                    that.lockedContent.scrollTop(-e.sender.y);\n                                }\n                            });\n                            that.one(DATABOUND, function (e) {\n                                e.sender.wrapper.addClass('k-grid-backface');\n                            });\n                        }\n                    }\n                }\n            },\n            _createVirtualScrollable: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = new VirtualScrollable(that.content, {\n                    dataSource: that.dataSource,\n                    itemHeight: function () {\n                        return that._averageRowHeight();\n                    },\n                    page: function () {\n                        that._restoreEditableState();\n                    },\n                    scroll: function () {\n                        that._focusEditable();\n                    }\n                });\n                that.virtualScrollable.bind(PAGING, proxy(that._onVirtualPaging, that));\n            },\n            _onVirtualPaging: function () {\n                var that = this;\n                that._cacheEditableState();\n                if (that._isVirtualIncellEditable()) {\n                    that._shouldClearEditableState = false;\n                    that.closeCell();\n                    that._shouldClearEditableState = true;\n                }\n            },\n            _isVirtualEditable: function () {\n                return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n            },\n            _isVirtualInlineEditable: function () {\n                return this.virtualScrollable && this._editMode() === INLINE;\n            },\n            _isVirtualIncellEditable: function () {\n                return this.virtualScrollable && this._editMode() === INCELL;\n            },\n            _isVirtualPopupEditable: function () {\n                return this.virtualScrollable && this._editMode() === 'popup';\n            },\n            _scrollVirtualWrapper: function () {\n                var that = this;\n                var scrollable = that.virtualScrollable;\n                if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                    if (scrollable._isScrolledToBottom()) {\n                        scrollable._scrollWrapperToBottom();\n                    } else if (scrollable._isScrolledToTop()) {\n                        scrollable._scrollWrapperToTop();\n                    }\n                }\n            },\n            _scrollVirtualWrapperOnColumnResize: function () {\n                var virtualScrollable = this.virtualScrollable;\n                if (virtualScrollable) {\n                    virtualScrollable._scrollWrapperOnColumnResize();\n                }\n            },\n            _restoreEditableState: function () {\n                var that = this;\n                var editableState = that._editableState || {};\n                var editedModel = editableState.model;\n                var dataSource = that.dataSource;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var row;\n                var cell;\n                if ((inlineMode || incellMode) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                    if (inlineMode) {\n                        that._shouldClearEditableState = false;\n                        that.editRow(editedModel);\n                        that._focusEditable();\n                    } else if (incellMode) {\n                        row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                        cell = $(row).children(attrEquals(FIELD, editableState.field));\n                        if (cell[0]) {\n                            that._shouldClearEditableState = false;\n                            that.editCell(cell);\n                            that._focusEditable();\n                        }\n                    }\n                }\n                that._shouldClearEditableState = true;\n            },\n            _focusEditable: function () {\n                var that = this;\n                var editedField = (that._editableState || {}).field;\n                var editContainer = that._editContainer;\n                if (editContainer && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                    if (that._isVirtualInlineEditable()) {\n                        editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).focus();\n                    } else if (that._isVirtualIncellEditable()) {\n                        editContainer.find(FOCUSABLE).eq(0).focus();\n                    }\n                }\n            },\n            _canFocusEditable: function () {\n                var that = this;\n                return (that._isVirtualIncellEditable() || that._isVirtualInlineEditable()) && that.virtualScrollable._isElementVisible(that._editContainer);\n            },\n            _cacheEditableState: function () {\n                var that = this;\n                var editContainer = that._editContainer;\n                var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n                var inlineMode = that._isVirtualInlineEditable();\n                var incellMode = that._isVirtualIncellEditable();\n                var active;\n                var widget;\n                if ((inlineMode || incellMode) && editedModel) {\n                    that._clearEditableState();\n                    active = $(activeElement());\n                    if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                        active.change();\n                        widget = kendo.widgetInstance(active, kendo.ui);\n                        if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                            widget.value(active.val());\n                            widget.trigger(CHANGE);\n                        }\n                    }\n                    if (inlineMode) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: active.closest('[' + kendo.attr(CONTAINER_FOR) + ']').attr(kendo.attr(CONTAINER_FOR))\n                        };\n                    } else if (incellMode) {\n                        that._editableState = {\n                            model: editedModel,\n                            field: editContainer.attr(kendo.attr(FIELD))\n                        };\n                    }\n                }\n            },\n            _clearEditableState: function () {\n                var that = this;\n                if (that.virtualScrollable) {\n                    that._editableState = null;\n                }\n            },\n            _destroyVirtualScrollable: function () {\n                var that = this;\n                that._clearEditableState();\n                if (that.virtualScrollable && that.virtualScrollable.element) {\n                    that.virtualScrollable.destroy();\n                }\n                that.virtualScrollable = null;\n            },\n            _renderNoRecordsContent: function () {\n                var that = this;\n                if (that.options.noRecords) {\n                    var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n                    if (noRecordsElement.length) {\n                        that.angular('cleanup', function () {\n                            return { elements: noRecordsElement.get() };\n                        });\n                        noRecordsElement.remove();\n                    }\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        noRecordsElement = $(that.noRecordsTemplate({})).insertAfter(that.table);\n                        that.angular('compile', function () {\n                            return {\n                                elements: noRecordsElement.get(),\n                                data: [{}]\n                            };\n                        });\n                    }\n                }\n            },\n            _setContentWidth: function (scrollLeft) {\n                var that = this, hiddenDivClass = 'k-grid-content-expander', hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>', resizable = that.resizable, expander;\n                if (that.options.scrollable && that.wrapper.is(':visible')) {\n                    expander = that.table.parent().children('.' + hiddenDivClass);\n                    that._setContentWidthHandler = proxy(that._setContentWidth, that);\n                    if (!that.dataSource || !that.dataSource.view().length) {\n                        if (!expander[0]) {\n                            expander = $(hiddenDiv).appendTo(that.table.parent());\n                            if (resizable) {\n                                resizable.bind('resize', that._setContentWidthHandler);\n                            }\n                        }\n                        if (that.thead) {\n                            expander.width(that.thead.width());\n                            if (!isNaN(parseFloat(scrollLeft, 10))) {\n                                that.content.scrollLeft(scrollLeft);\n                            }\n                        }\n                    } else if (expander[0]) {\n                        expander.remove();\n                        if (resizable) {\n                            resizable.unbind('resize', that._setContentWidthHandler);\n                        }\n                    }\n                    that._applyLockedContainersWidth();\n                    if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                        that.table[0].style.width = '1px';\n                    }\n                }\n            },\n            _applyLockedContainersWidth: function () {\n                if (this.options.scrollable && this.lockedHeader) {\n                    var headerTable = this.thead.parent(), headerWrap = headerTable.parent(), contentWidth = this.wrapper[0].clientWidth, groups = this._groups(), scrollbar = kendo.support.scrollbar(), cols = this.lockedHeader.find('>table>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), nonLockedCols = headerTable.find('>colgroup>col:not(.k-group-col, .k-hierarchy-col)'), width = columnsWidth(cols), nonLockedColsWidth = columnsWidth(nonLockedCols), footerWrap;\n                    if (groups > 0) {\n                        width += outerWidth(this.lockedHeader.find('.k-group-cell:first')) * groups;\n                    }\n                    if (width >= contentWidth) {\n                        width = contentWidth - 3 * scrollbar;\n                    }\n                    this.lockedHeader.add(this.lockedContent).width(width);\n                    headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + 'px';\n                    headerTable.add(this.table).width(nonLockedColsWidth);\n                    if (this.virtualScrollable && !isIE11) {\n                        contentWidth -= scrollbar;\n                    }\n                    this.content[0].style.width = contentWidth - width - 2 + 'px';\n                    if (this.lockedFooter && this.lockedFooter.length) {\n                        this.lockedFooter.width(width);\n                        footerWrap = this.footer.find('.k-grid-footer-wrap');\n                        footerWrap[0].style.width = headerWrap[0].clientWidth + 'px';\n                        footerWrap.children().first().width(nonLockedColsWidth);\n                    }\n                }\n            },\n            _setContentHeight: function () {\n                var that = this, options = that.options, height = that.wrapper.innerHeight(), header = that.wrapper.children('.k-grid-header'), scrollbar = kendo.support.scrollbar();\n                var scrollableHeight = (options.scrollable || {}).height;\n                if (options.scrollable && that.wrapper.is(':visible')) {\n                    height -= outerHeight(header);\n                    if (that.pager && that.pager.element.is(':visible')) {\n                        height -= outerHeight(that.pager.element);\n                    }\n                    if (options.groupable) {\n                        height -= outerHeight(that.wrapper.children('.k-grouping-header'));\n                    }\n                    if (options.toolbar) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-toolbar'));\n                    }\n                    if (that.footerTemplate) {\n                        height -= outerHeight(that.wrapper.children('.k-grid-footer'));\n                    }\n                    var isGridHeightSet = function (el) {\n                        var initialHeight, newHeight;\n                        if (el[0].style.height) {\n                            return true;\n                        } else {\n                            initialHeight = el.height();\n                        }\n                        el.height('auto');\n                        newHeight = el.height();\n                        if (initialHeight != newHeight) {\n                            el.height('');\n                            return true;\n                        }\n                        el.height('');\n                        return false;\n                    };\n                    if (isGridHeightSet(that.wrapper)) {\n                        if (height > scrollbar * 2) {\n                            if (that.lockedContent) {\n                                scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                                that.lockedContent.height(height - scrollbar);\n                            }\n                            that.content.height(height);\n                        } else {\n                            that.content.height(scrollbar * 2 + 1);\n                        }\n                    } else if (scrollableHeight) {\n                        that.content.css('height', scrollableHeight);\n                    }\n                }\n            },\n            _averageRowHeight: function () {\n                var that = this, itemsCount = that._items(that.tbody).length, rowHeight = that._rowHeight;\n                if (itemsCount === 0) {\n                    return rowHeight;\n                }\n                if (!that._rowHeight) {\n                    that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                    that._sum = rowHeight;\n                    that._measures = 1;\n                }\n                var currentRowHeight = outerHeight(that.table) / itemsCount;\n                if (rowHeight !== currentRowHeight) {\n                    that._measures++;\n                    that._sum += currentRowHeight;\n                    that._rowHeight = that._sum / that._measures;\n                }\n                return rowHeight;\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, pageable, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (isPlainObject(dataSource)) {\n                    extend(dataSource, {\n                        table: that.table,\n                        fields: that.columns\n                    });\n                    pageable = options.pageable;\n                    if (isPlainObject(pageable) && pageable.pageSize !== undefined) {\n                        dataSource.pageSize = pageable.pageSize;\n                    }\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind(PROGRESS, that._progressHandler).unbind(ERROR, that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = DataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind(PROGRESS, that._progressHandler).bind(ERROR, that._errorHandler);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _modelChange: function (e) {\n                var that = this, tbody = that.tbody, model = e.model, row = that.tbody.find('tr[' + kendo.attr('uid') + '=' + model.uid + ']'), relatedRow, cell, column, isAlt = row.hasClass('k-alt'), tmp, idx = that._items(tbody).index(row), isLocked = that.lockedContent, selectable, selectableRow, childCells, originalCells, length;\n                if (isLocked) {\n                    relatedRow = that._relatedRow(row);\n                }\n                if (row.add(relatedRow).children('.k-edit-cell').length && !that.options.rowTemplate) {\n                    row.add(relatedRow).children(':not(.k-group-cell,.k-hierarchy-cell)').each(function () {\n                        cell = $(this);\n                        column = leafColumns(that.columns)[that.cellIndex(cell)];\n                        if (column.field === e.field) {\n                            if (!cell.hasClass('k-edit-cell')) {\n                                that._displayCell(cell, column, model);\n                            } else {\n                                cell.addClass('k-dirty-cell');\n                            }\n                        }\n                    });\n                } else if (!row.hasClass('k-grid-edit-row')) {\n                    selectableRow = $().add(row);\n                    if (isLocked) {\n                        tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n                        selectableRow = selectableRow.add(relatedRow);\n                        relatedRow.replaceWith(tmp);\n                    }\n                    that.angular('cleanup', function () {\n                        return { elements: selectableRow.get() };\n                    });\n                    tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n                    row.replaceWith(tmp);\n                    tmp = that._items(tbody).eq(idx);\n                    var angularData = [{ dataItem: model }];\n                    if (isLocked) {\n                        row = row.add(relatedRow);\n                        relatedRow = that._relatedRow(tmp)[0];\n                        adjustRowHeight(tmp[0], relatedRow);\n                        tmp = tmp.add(relatedRow);\n                        angularData.push({ dataItem: model });\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: tmp.get(),\n                            data: angularData\n                        };\n                    });\n                    selectable = that.options.selectable;\n                    if ((selectable || that._checkBoxSelection) && row.hasClass('k-state-selected')) {\n                        that.select(tmp);\n                    }\n                    originalCells = selectableRow.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    childCells = tmp.children(':not(.k-group-cell,.k-hierarchy-cell)');\n                    for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                        column = that.columns[idx];\n                        cell = childCells.eq(idx);\n                        if (selectable && originalCells.eq(idx).hasClass('k-state-selected')) {\n                            cell.addClass('k-state-selected');\n                        }\n                    }\n                    that.trigger('itemChange', {\n                        item: tmp,\n                        data: model,\n                        ns: ui\n                    });\n                }\n            },\n            _pageable: function () {\n                var that = this, wrapper, pageable = that.options.pageable;\n                if (pageable) {\n                    wrapper = that.wrapper.children('div.k-grid-pager');\n                    if (!wrapper.length) {\n                        wrapper = $('<div class=\"k-pager-wrap k-grid-pager\"/>').appendTo(that.wrapper);\n                    }\n                    if (that.pager) {\n                        that.pager.destroy();\n                    }\n                    if (typeof pageable === 'object' && pageable instanceof kendo.ui.Pager) {\n                        that.pager = pageable;\n                    } else {\n                        that.pager = new kendo.ui.Pager(wrapper, extend({}, pageable, { dataSource: that.dataSource }));\n                    }\n                    that.pager.bind('pageChange', function (e) {\n                        if (that.trigger('page', { page: e.index })) {\n                            e.preventDefault();\n                        }\n                    });\n                }\n            },\n            _footer: function () {\n                var that = this, aggregates = that.dataSource.aggregates(), html = '', footerTemplate = that.footerTemplate, options = that.options, footerWrap, footer = that.footer || that.wrapper.find('.k-grid-footer');\n                if (footerTemplate) {\n                    html = $(that._wrapFooter(footerTemplate(aggregates)));\n                    if (footer.length) {\n                        var tmp = html;\n                        that.angular('cleanup', function () {\n                            return { elements: footer.get() };\n                        });\n                        footer.replaceWith(tmp);\n                        footer = that.footer = tmp;\n                    } else {\n                        if (options.scrollable) {\n                            footer = that.footer = options.pageable ? html.insertBefore(that.wrapper.children('div.k-grid-pager')) : html.appendTo(that.wrapper);\n                        } else {\n                            footer = that.footer = html.insertBefore(that.tbody);\n                        }\n                    }\n                    that.angular('compile', function () {\n                        return {\n                            elements: footer.find('td:not(.k-group-cell, .k-hierarchy-cell)').get(),\n                            data: map(that.columns, function (col) {\n                                return {\n                                    column: col,\n                                    aggregate: aggregates[col.field]\n                                };\n                            })\n                        };\n                    });\n                } else if (footer && !that.footer) {\n                    that.footer = footer;\n                }\n                if (footer.length) {\n                    if (options.scrollable) {\n                        footerWrap = footer.attr('tabindex', -1).children('.k-grid-footer-wrap');\n                        that.scrollables = $(that.scrollables.filter(function () {\n                            return !$(this).is('.k-grid-footer-wrap');\n                        }).toArray()).add(footerWrap);\n                    }\n                    if (that._footerWidth) {\n                        footer.find('table').css('width', that._footerWidth);\n                    }\n                    if (footerWrap) {\n                        var offset = that.content.scrollLeft();\n                        if (options.scrollable !== true && options.scrollable.virtual) {\n                            offset = that.wrapper.find('.k-virtual-scrollable-wrap').scrollLeft();\n                        }\n                        footerWrap.scrollLeft(offset);\n                    }\n                }\n                if (that.lockedContent) {\n                    that._appendLockedColumnFooter();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedFooterHeight();\n                }\n            },\n            _wrapFooter: function (footerRow) {\n                var that = this, html = '', scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n                if (that.options.scrollable) {\n                    html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><tbody>' + footerRow + '</tbody></table></div></div>');\n                    that._appendCols(html.find('table'));\n                    html.css(isRtl ? 'padding-left' : 'padding-right', scrollbar);\n                    return html;\n                }\n                return '<tfoot class=\"k-grid-footer\">' + footerRow + '</tfoot>';\n            },\n            _columnMenu: function () {\n                var that = this, menu, columns = leafColumns(that.columns), column, options = that.options, columnMenu = options.columnMenu, menuOptions, sortable, filterable, cells, hasMultiColumnHeaders = grep(that.columns, function (item) {\n                        return item.columns !== undefined;\n                    }).length > 0, isMobile = this._isMobile, initCallback = function (e) {\n                        that.trigger(COLUMNMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, openCallback = function (e) {\n                        that.trigger(COLUMNMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, $angular = options.$angular;\n                if (columnMenu) {\n                    if (typeof columnMenu == 'boolean') {\n                        columnMenu = {};\n                    }\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        var cell = cells.eq(idx);\n                        if (!column.command && (column.field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            menu = cell.data('kendoColumnMenu');\n                            if (menu) {\n                                menu.destroy();\n                            }\n                            sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, { compare: (column.sortable || {}).compare }) : false;\n                            filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend({ pane: that.pane }, options.filterable, column.filterable) : false;\n                            if (column.filterable && column.filterable.dataSource) {\n                                filterable.forceUnique = false;\n                                filterable.checkSource = column.filterable.dataSource;\n                            }\n                            if (filterable) {\n                                filterable.format = column.format;\n                            }\n                            menuOptions = {\n                                dataSource: that.dataSource,\n                                values: column.values,\n                                columns: columnMenu.columns,\n                                sortable: sortable,\n                                filterable: filterable,\n                                messages: columnMenu.messages,\n                                owner: that,\n                                closeCallback: closeCallback,\n                                init: initCallback,\n                                open: openCallback,\n                                pane: that.pane,\n                                sort: sortHandler,\n                                filtering: filterHandler,\n                                filter: isMobile ? ':not(.k-column-active)' : '',\n                                lockedColumns: !hasMultiColumnHeaders && column.lockable !== false && lockedColumns(columns).length > 0\n                            };\n                            if ($angular) {\n                                menuOptions.$angular = $angular;\n                            }\n                            cell.kendoColumnMenu(menuOptions);\n                        }\n                    }\n                }\n            },\n            _headerCells: function () {\n                return this.thead.find('th').filter(function () {\n                    var th = $(this);\n                    return !th.hasClass('k-group-cell') && !th.hasClass('k-hierarchy-cell');\n                });\n            },\n            _filterable: function () {\n                var that = this, columns = leafColumns(that.columns), filterMenu, cells, cell, filterInit = function (e) {\n                        that.trigger(FILTERMENUINIT, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, closeCallback = function (element) {\n                        focusTable(element.closest('table'), true);\n                    }, filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    }, filterOpen = function (e) {\n                        that.trigger(FILTERMENUOPEN, {\n                            field: e.field,\n                            container: e.container\n                        });\n                    }, filterable = that.options.filterable;\n                if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('menu') == -1) {\n                    filterable = false;\n                }\n                if (filterable && !that.options.columnMenu) {\n                    cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        cell = cells.eq(idx);\n                        if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr('data-' + kendo.ns + 'field'))) {\n                            filterMenu = cell.data('kendoFilterMenu');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            filterMenu = cell.data('kendoFilterMultiCheck');\n                            if (filterMenu) {\n                                filterMenu.destroy();\n                            }\n                            var columnFilterable = columns[idx].filterable;\n                            var options = extend({}, filterable, columnFilterable, {\n                                dataSource: that.dataSource,\n                                values: columns[idx].values,\n                                format: columns[idx].format,\n                                closeCallback: closeCallback,\n                                title: columns[idx].title || columns[idx].field,\n                                init: filterInit,\n                                open: filterOpen,\n                                pane: that.pane,\n                                change: filterHandler\n                            });\n                            if (columnFilterable && columnFilterable.messages) {\n                                options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                            }\n                            if (columnFilterable && columnFilterable.dataSource) {\n                                options.forceUnique = false;\n                                options.checkSource = columnFilterable.dataSource;\n                            }\n                            if (columnFilterable && columnFilterable.multi) {\n                                cell.kendoFilterMultiCheck(options);\n                            } else {\n                                cell.kendoFilterMenu(options);\n                            }\n                        }\n                    }\n                }\n            },\n            _filterRow: function () {\n                var that = this;\n                if (!that._hasFilterRow()) {\n                    return;\n                }\n                var settings;\n                var $angular = that.options.$angular;\n                var columns = leafColumns(that.columns), filterable = that.options.filterable, rowheader = that.thead.find('.k-filter-row'), filterHandler = function (e) {\n                        if (that.trigger('filter', {\n                                filter: e.filter,\n                                field: e.field\n                            })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                            if (that.dataSource.options.endless) {\n                                that.dataSource.options.endless = null;\n                                that._endlessPageSize = that.dataSource.options.pageSize;\n                                that.dataSource.pageSize(that.dataSource.options.pageSize);\n                            }\n                        }\n                    };\n                this._updateHeader(this.dataSource.group().length);\n                for (var i = 0; i < columns.length; i++) {\n                    var suggestDataSource, col = columns[i], operators = that.options.filterable.operators, customDataSource = false, th = $('<th/>'), field = col.field;\n                    if (col.hidden) {\n                        th.hide();\n                    }\n                    rowheader.append(th);\n                    if (field && col.filterable !== false) {\n                        var cellOptions = col.filterable && col.filterable.cell || {};\n                        suggestDataSource = that.options.dataSource;\n                        if (suggestDataSource instanceof DataSource) {\n                            suggestDataSource = that.options.dataSource.options;\n                        }\n                        var messages = extend(true, {}, filterable.messages);\n                        if (col.filterable) {\n                            extend(true, messages, col.filterable.messages);\n                        }\n                        if (cellOptions.enabled === false) {\n                            th.html('&nbsp;');\n                            continue;\n                        }\n                        if (cellOptions.dataSource) {\n                            suggestDataSource = cellOptions.dataSource;\n                            customDataSource = true;\n                        }\n                        if (col.filterable && col.filterable.operators) {\n                            operators = col.filterable.operators;\n                        }\n                        settings = {\n                            column: col,\n                            dataSource: that.dataSource,\n                            suggestDataSource: suggestDataSource,\n                            customDataSource: customDataSource,\n                            field: field,\n                            messages: messages,\n                            values: col.values,\n                            template: cellOptions.template,\n                            delay: cellOptions.delay,\n                            inputWidth: cellOptions.inputWidth,\n                            suggestionOperator: cellOptions.suggestionOperator,\n                            minLength: cellOptions.minLength,\n                            dataTextField: cellOptions.dataTextField,\n                            operator: cellOptions.operator,\n                            operators: operators,\n                            showOperators: cellOptions.showOperators,\n                            change: filterHandler\n                        };\n                        if ($angular) {\n                            settings.$angular = $angular;\n                        }\n                        $('<span/>').attr(kendo.attr('field'), field).appendTo(th).kendoFilterCell(settings);\n                    } else {\n                        th.html('&nbsp;');\n                    }\n                }\n            },\n            _sortable: function () {\n                var that = this, columns = leafColumns(that.columns), column, sorterInstance, cell, sortable = that.options.sortable, sortHandler = function (e) {\n                        if (that.trigger('sort', { sort: e.sort })) {\n                            e.preventDefault();\n                        } else {\n                            that._clearEditableState();\n                        }\n                    };\n                if (sortable) {\n                    var cells = leafDataCells(that.thead);\n                    for (var idx = 0, length = cells.length; idx < length; idx++) {\n                        column = columns[idx];\n                        if (column.sortable !== false && !column.command && column.field) {\n                            cell = cells.eq(idx);\n                            sorterInstance = cell.data('kendoColumnSorter');\n                            if (sorterInstance) {\n                                sorterInstance.destroy();\n                            }\n                            cell.attr('data-' + kendo.ns + 'field', column.field).kendoColumnSorter(extend({}, sortable, column.sortable, {\n                                dataSource: that.dataSource,\n                                aria: true,\n                                filter: ':not(.k-column-active)',\n                                change: sortHandler\n                            }));\n                        }\n                    }\n                    cells = null;\n                }\n            },\n            _columns: function (columns) {\n                var that = this, table = that.table, encoded, cols = table.find('col'), lockedCols, dataSource = that.options.dataSource;\n                columns = columns.length ? columns : map(table.find('th'), function (th, idx) {\n                    th = $(th);\n                    var sortable = th.attr(kendo.attr('sortable')), filterable = th.attr(kendo.attr('filterable')), type = th.attr(kendo.attr('type')), groupable = th.attr(kendo.attr('groupable')), field = th.attr(kendo.attr('field')), title = th.attr(kendo.attr('title')), menu = th.attr(kendo.attr('menu'));\n                    if (!field) {\n                        field = th.text().replace(/\\s|[^A-z0-9]/g, '');\n                    }\n                    return {\n                        field: field,\n                        type: type,\n                        title: title,\n                        sortable: sortable !== 'false',\n                        filterable: filterable !== 'false',\n                        groupable: groupable !== 'false',\n                        menu: menu,\n                        template: th.attr(kendo.attr('template')),\n                        width: cols.eq(idx).css('width')\n                    };\n                });\n                encoded = !(that.table.find('tbody tr').length > 0 && (!dataSource || !dataSource.transport));\n                if (that.options.scrollable) {\n                    var initialColumns = columns;\n                    lockedCols = lockedColumns(columns);\n                    columns = nonLockedColumns(columns);\n                    if (lockedCols.length > 0 && columns.length === 0) {\n                        throw new Error('There should be at least one non locked column');\n                    }\n                    normalizeHeaderCells(that.element.find('tr:has(th):first'), initialColumns);\n                    columns = lockedCols.concat(columns);\n                }\n                that.columns = normalizeColumns(columns, encoded);\n                if ($.grep(leafColumns(that.columns), function (col) {\n                        return col.selectable;\n                    }).length) {\n                    if (that.options.persistSelection) {\n                        that._selectedIds = {};\n                    }\n                    that._checkBoxSelection = true;\n                    that.wrapper.on(CLICK + NS, 'tbody > tr ' + CHECKBOXINPUT, proxy(that._checkboxClick, that));\n                    that.wrapper.on(CLICK + NS, 'thead > tr ' + CHECKBOXINPUT, proxy(that._headerCheckboxClick, that));\n                }\n            },\n            _headerCheckboxClick: function (e) {\n                var that = this, checkBox = $(e.target), checked = checkBox.prop('checked'), parentGrid = checkBox.closest('.k-grid.k-widget').getKendoGrid();\n                if (that !== parentGrid) {\n                    return;\n                }\n                if (checked) {\n                    that.select(parentGrid.items());\n                } else {\n                    that.clearSelection();\n                }\n            },\n            _checkboxClick: function (e) {\n                var that = this, row = $(e.target).closest('tr'), isSelecting = !row.hasClass(SELECTED);\n                if (that !== row.closest('.k-grid.k-widget').getKendoGrid()) {\n                    return;\n                }\n                if (isSelecting) {\n                    that.select(row);\n                } else {\n                    that._deselectCheckRows(row);\n                }\n            },\n            _groups: function () {\n                var group = this.dataSource.group();\n                return group ? group.length : 0;\n            },\n            _tmpl: function (rowTemplate, columns, alt, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, idx, length = columns.length, template, state = {\n                        storage: {},\n                        count: 0\n                    }, column, type, hasDetails = that._hasDetails(), className = [], groups = that._groups(), navigatable = that.options.navigatable;\n                var fieldAttr = kendo.attr('field');\n                var field;\n                var dirtyCellTemplate = '';\n                if (!rowTemplate) {\n                    rowTemplate = '<tr';\n                    if (alt) {\n                        className.push('k-alt');\n                    }\n                    if (hasDetails) {\n                        className.push('k-master-row');\n                    }\n                    if (className.length) {\n                        rowTemplate += ' class=\"' + className.join(' ') + '\"';\n                    }\n                    if (length) {\n                        rowTemplate += ' ' + kendo.attr('uid') + '=\"#=' + kendo.expr('uid', settings.paramName) + '#\"';\n                    }\n                    rowTemplate += ' role=\\'row\\'>';\n                    if (groups > 0 && !skipGroupCells) {\n                        rowTemplate += groupCells(groups);\n                    }\n                    if (hasDetails) {\n                        rowTemplate += '<td class=\"k-hierarchy-cell\" aria-expanded=\"false\"><a class=\"k-icon k-i-expand\" href=\"\\\\#\" ' + ARIALABEL + '=\"' + EXPAND + '\" tabindex=\"-1\"></a></td>';\n                    }\n                    for (idx = 0; idx < length; idx++) {\n                        column = columns[idx];\n                        template = column.template;\n                        type = typeof template;\n                        field = column.field;\n                        if (that._editMode() === INCELL && field) {\n                            column.attributes = column.attributes || {};\n                            if (that.virtualScrollable) {\n                                column.attributes[fieldAttr] = field;\n                            }\n                            dirtyCellTemplate = that._dirtyCellTemplate(field, paramName);\n                            column.attributes['class'] = column.attributes['class'] || '';\n                            if (column.attributes['class'].indexOf(dirtyCellTemplate) < 0) {\n                                column.attributes['class'] += dirtyCellTemplate;\n                            }\n                        }\n                        if (column.command) {\n                            column.attributes = column.attributes || {};\n                            if (typeof column.attributes['class'] !== 'undefined') {\n                                column.attributes['class'] += ' k-command-cell';\n                            } else {\n                                column.attributes['class'] = 'k-command-cell';\n                            }\n                        }\n                        rowTemplate += '<td' + stringifyAttributes(column.attributes);\n                        if (navigatable) {\n                            rowTemplate += ' aria-describedby=\\'' + column.headerAttributes.id + '\\'';\n                        }\n                        rowTemplate += ' role=\\'gridcell\\'>';\n                        rowTemplate += that._cellTmpl(column, state);\n                        rowTemplate += '</td>';\n                    }\n                    rowTemplate += '</tr>';\n                }\n                rowTemplate = kendo.template(rowTemplate, settings);\n                if (state.count > 0) {\n                    return proxy(rowTemplate, state.storage);\n                }\n                return rowTemplate;\n            },\n            _dirtyCellTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\' k-dirty-cell\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _headerCellText: function (column) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.headerTemplate, type = typeof template, text = column.title || column.field || '';\n                if (type === FUNCTION) {\n                    text = kendo.template(template, settings)({});\n                } else if (type === STRING) {\n                    text = template;\n                }\n                return text;\n            },\n            _cellTmpl: function (column, state) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), template = column.template, paramName = settings.paramName, field = column.field, html = '', idx, length, format = column.format, type = typeof template, columnValues = column.values;\n                if (column.command) {\n                    if (isArray(column.command)) {\n                        for (idx = 0, length = column.command.length; idx < length; idx++) {\n                            if (column.command[idx].visible) {\n                                html += kendo.format('#= {0}(data)? \\'{1}\\':\\'\\' #', column.command[idx].visible, that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#'));\n                            } else {\n                                html += that._createButton(column.command[idx]).replace(templateHashRegExp, '\\\\#');\n                            }\n                        }\n                        return html;\n                    }\n                    return that._createButton(column.command).replace(templateHashRegExp, '\\\\#');\n                }\n                if (column.selectable) {\n                    return SELECTCOLUMNTMPL;\n                }\n                html += that._dirtyIndicatorTemplate(field, paramName);\n                if (type === FUNCTION) {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === STRING) {\n                    html += template;\n                } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && 'value' in columnValues[0] && field) {\n                    html += '#var v =' + kendo.stringify(convertToObject(columnValues)).replace(templateHashRegExp, '\\\\#') + '#';\n                    html += '#var f = v[';\n                    if (!settings.useWithBlock) {\n                        html += paramName + '.';\n                    }\n                    html += field + ']#';\n                    html += '${f != null ? f : \\'\\'}';\n                } else {\n                    html += column.encoded ? '#:' : '#=';\n                    if (format) {\n                        html += 'kendo.format(\"' + format.replace(formatRegExp, '\\\\$1') + '\",';\n                    }\n                    if (field) {\n                        field = kendo.expr(field, paramName);\n                        html += field + '==null?\\'\\':' + field;\n                    } else {\n                        html += '\\'\\'';\n                    }\n                    if (format) {\n                        html += ')';\n                    }\n                    html += '#';\n                }\n                return html;\n            },\n            _dirtyIndicatorTemplate: function (field, paramName) {\n                var dirtyField;\n                if (field && paramName) {\n                    dirtyField = field.charAt(0) === '[' ? kendo.expr(field, paramName + '.dirtyFields') : paramName + '.dirtyFields[\\'' + field + '\\']';\n                    return '#= ' + paramName + ' && ' + paramName + '.dirty && ' + paramName + '.dirtyFields && ' + dirtyField + ' ? \\'<span class=\"k-dirty\"></span>\\' : \\'\\' #';\n                }\n                return '';\n            },\n            _templates: function () {\n                var that = this, options = that.options, dataSource = that.dataSource, groups = dataSource.group(), footer = that.footer || that.wrapper.find('.k-grid-footer'), aggregates = dataSource.aggregate(), columnLeafs = leafColumns(that.columns), columnsLocked = leafColumns(lockedColumns(that.columns)), columns = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs;\n                if (options.scrollable && columnsLocked.length) {\n                    if (options.rowTemplate || options.altRowTemplate) {\n                        throw new Error('Having both row template and locked columns is not supported');\n                    }\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n                    that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                    that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n                } else {\n                    that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                    that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n                }\n                if (that._hasDetails()) {\n                    that.detailTemplate = that._detailTmpl(options.detailTemplate || '');\n                }\n                if (that._group && !isEmptyObject(aggregates) || !isEmptyObject(aggregates) && !footer.length || grep(columnLeafs, function (column) {\n                        return column.footerTemplate;\n                    }).length) {\n                    that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, 'footerTemplate', 'k-footer-template');\n                }\n                if (groups && grep(columnLeafs, function (column) {\n                        return column.groupFooterTemplate;\n                    }).length) {\n                    aggregates = $.map(groups, function (g) {\n                        return g.aggregates;\n                    });\n                    that.groupFooterTemplate = that._footerTmpl(columns, aggregates, 'groupFooterTemplate', 'k-group-footer', columnsLocked.length);\n                    if (options.scrollable && columnsLocked.length) {\n                        that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, 'groupFooterTemplate', 'k-group-footer');\n                    }\n                }\n                if (that.options.noRecords) {\n                    that.noRecordsTemplate = that._noRecordsTmpl();\n                }\n            },\n            _noRecordsTmpl: function () {\n                var wrapper = '<div class=\"{0}\">{1}</div>';\n                var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n                var scrollableNoGridHeightStyles = this.options.scrollable && !this.wrapper[0].style.height ? ' style=\"margin:0 auto;position:static;\"' : '';\n                var state = {\n                    storage: {},\n                    count: 0\n                };\n                var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template;\n                var html = '';\n                var type;\n                var tmpl;\n                if (this.options.noRecords.template) {\n                    template = this.options.noRecords.template;\n                } else {\n                    template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n                }\n                type = typeof template;\n                if (type === 'function') {\n                    state.storage['tmpl' + state.count] = template;\n                    html += '#=this.tmpl' + state.count + '(' + paramName + ')#';\n                    state.count++;\n                } else if (type === 'string') {\n                    html += template;\n                }\n                tmpl = kendo.template(kendo.format(wrapper, NORECORDSCLASS, html), settings);\n                if (state.count > 0) {\n                    tmpl = $.proxy(tmpl, state.storage);\n                }\n                return tmpl;\n            },\n            _footerTmpl: function (columns, aggregates, templateName, rowClass, skipGroupCells) {\n                var that = this, settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, html = '', idx, length, template, type, storage = {}, count = 0, scope = {}, groups = that._groups(), fieldsMap = that.dataSource._emptyAggregates(aggregates), column;\n                html += '<tr class=\"' + rowClass + '\">';\n                if (groups > 0 && !skipGroupCells) {\n                    html += groupCells(groups);\n                }\n                if (that._hasDetails()) {\n                    html += '<td class=\"k-hierarchy-cell\">&nbsp;</td>';\n                }\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    column = columns[idx];\n                    template = column[templateName];\n                    type = typeof template;\n                    html += '<td' + stringifyAttributes(column.footerAttributes) + '>';\n                    if (template) {\n                        if (type !== FUNCTION) {\n                            scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + '[\\'' + column.field + '\\']' }) : {};\n                            template = kendo.template(template, scope);\n                        }\n                        storage['tmpl' + count] = template;\n                        html += '#=this.tmpl' + count + '(' + paramName + ')#';\n                        count++;\n                    } else {\n                        html += '&nbsp;';\n                    }\n                    html += '</td>';\n                }\n                html += '</tr>';\n                html = kendo.template(html, settings);\n                if (count > 0) {\n                    return proxy(html, storage);\n                }\n                return html;\n            },\n            _detailTmpl: function (template) {\n                var that = this, html = '', settings = extend({}, kendo.Template, that.options.templateSettings), paramName = settings.paramName, templateFunctionStorage = {}, templateFunctionCount = 0, groups = that._groups(), colspan = visibleColumns(leafColumns(that.columns)).length, type = typeof template;\n                html += '<tr class=\"k-detail-row\">';\n                if (groups > 0) {\n                    html += groupCells(groups);\n                }\n                html += '<td class=\"k-hierarchy-cell\"></td><td class=\"k-detail-cell\"' + (colspan ? ' colspan=\"' + colspan + '\"' : '') + '>';\n                if (type === FUNCTION) {\n                    templateFunctionStorage['tmpl' + templateFunctionCount] = template;\n                    html += '#=this.tmpl' + templateFunctionCount + '(' + paramName + ')#';\n                    templateFunctionCount++;\n                } else {\n                    html += template;\n                }\n                html += '</td></tr>';\n                html = kendo.template(html, settings);\n                if (templateFunctionCount > 0) {\n                    return proxy(html, templateFunctionStorage);\n                }\n                return html;\n            },\n            _hasDetails: function () {\n                var that = this;\n                return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n            },\n            _hasFilterRow: function () {\n                var filterable = this.options.filterable;\n                var hasFiltering = filterable && typeof filterable.mode == STRING && filterable.mode.indexOf('row') != -1;\n                var columns = this.columns;\n                var columnsWithoutFiltering = $.grep(columns, function (col) {\n                    return col.filterable === false;\n                });\n                if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                    hasFiltering = false;\n                }\n                return hasFiltering;\n            },\n            _details: function () {\n                var that = this;\n                if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                    throw new Error('Having both detail template and locked columns is not supported');\n                }\n                that.table.on(CLICK + NS, '.k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse', function (e) {\n                    var button = $(this), cell = button.closest('td.k-hierarchy-cell'), expanding = button.hasClass('k-i-expand'), masterRow = button.closest('tr.k-master-row'), detailRow, detailTemplate = that.detailTemplate, data, hasDetails = that._hasDetails(), ariaLabelText = expanding ? COLLAPSE : EXPAND, ariaExpandText = expanding ? true : false;\n                    button.toggleClass('k-i-expand', !expanding).toggleClass('k-i-collapse', expanding).attr(ARIALABEL, ariaLabelText);\n                    cell.attr('aria-expanded', ariaExpandText);\n                    detailRow = masterRow.next();\n                    if (hasDetails && !detailRow.hasClass('k-detail-row')) {\n                        data = that.dataItem(masterRow);\n                        detailRow = $(detailTemplate(data)).addClass(masterRow.hasClass('k-alt') ? 'k-alt' : '').insertAfter(masterRow);\n                        that.angular('compile', function () {\n                            return {\n                                elements: detailRow.get(),\n                                data: [{ dataItem: data }]\n                            };\n                        });\n                        that.trigger(DETAILINIT, {\n                            masterRow: masterRow,\n                            detailRow: detailRow,\n                            data: data,\n                            detailCell: detailRow.find('.k-detail-cell')\n                        });\n                    }\n                    that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, {\n                        masterRow: masterRow,\n                        detailRow: detailRow\n                    });\n                    detailRow.toggle(expanding);\n                    e.preventDefault();\n                    return false;\n                });\n            },\n            dataItem: function (tr) {\n                tr = $(tr)[0];\n                if (!tr) {\n                    return null;\n                }\n                var rows = this.tbody.children(), classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/, idx = tr.sectionRowIndex, j, correctIdx;\n                correctIdx = idx;\n                for (j = 0; j < idx; j++) {\n                    if (classesRegEx.test(rows[j].className)) {\n                        correctIdx--;\n                    }\n                }\n                return this._data[correctIdx];\n            },\n            expandRow: function (tr) {\n                $(tr).find('> td .k-i-expand').click();\n            },\n            collapseRow: function (tr) {\n                $(tr).find('> td .k-i-collapse').click();\n            },\n            _createHeaderCells: function (columns, rowSpan) {\n                var that = this, idx, th, text, html = '', length, leafs = leafColumns(that.columns), field;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    th = columns[idx].column || columns[idx];\n                    text = that._headerCellText(th);\n                    field = '';\n                    var index = inArray(th, leafs);\n                    if (th.selectable) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({});\n                        html += '>' + text + '</th>';\n                    } else if (th.command) {\n                        html += '<th scope=\\'col\\'' + stringifyAttributes(th.headerAttributes);\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += '>' + text + '</th>';\n                    } else {\n                        if (th.field) {\n                            field = kendo.attr('field') + '=\\'' + th.field + '\\' ';\n                        }\n                        html += '<th scope=\\'col\\' role=\\'columnheader\\' ' + field;\n                        html += ' aria-haspopup=\\'true\\'';\n                        if (rowSpan && !columns[idx].colSpan) {\n                            html += ' rowspan=\\'' + rowSpan + '\\'';\n                        }\n                        if (columns[idx].colSpan > 1) {\n                            html += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                            html += kendo.attr('colspan') + '=\\'' + columns[idx].colSpan + '\\'';\n                        }\n                        if (th.title) {\n                            html += kendo.attr('title') + '=\"' + th.title.replace('\"', '&quot;').replace(/'/g, '\\'') + '\" ';\n                        }\n                        if (th.groupable !== undefined) {\n                            html += kendo.attr('groupable') + '=\\'' + th.groupable + '\\' ';\n                        }\n                        if (th.aggregates && th.aggregates.length) {\n                            html += kendo.attr('aggregates') + '=\\'' + th.aggregates + '\\'';\n                        }\n                        if (index > -1) {\n                            html += kendo.attr('index') + '=\\'' + index + '\\'';\n                        }\n                        html += stringifyAttributes(th.headerAttributes);\n                        html += '>' + text + '</th>';\n                    }\n                }\n                return html;\n            },\n            _appendLockedColumnContent: function () {\n                var columns = this.columns, idx, colgroup = this.table.find('colgroup'), cols = colgroup.find('col:not(.k-group-col,.k-hierarchy-col)'), length, lockedCols = $(), skipHiddenCount = 0, container, colSpan, spanIdx, colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        if (isVisible(columns[idx])) {\n                            colSpan = 1;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        } else {\n                            skipHiddenCount++;\n                        }\n                    }\n                }\n                container = $('<div class=\"k-grid-content-locked\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><tbody></tbody></table></div>');\n                colgroup.detach();\n                container.find('colgroup').append(lockedCols);\n                colgroup.insertBefore(this.table.find('tbody'));\n                this.lockedContent = container.insertBefore(this.content);\n                this.lockedTable = container.children('table');\n            },\n            _appendLockedColumnFooter: function () {\n                var that = this;\n                var footer = that.footer;\n                var cells = footer.find('.k-footer-template>td');\n                var cols = footer.find('.k-grid-footer-wrap>table>colgroup>col');\n                var html = $('<div class=\"k-grid-footer-locked\"><table><colgroup /><tbody><tr class=\"k-footer-template\"></tr></tbody></table></div>');\n                var idx, length;\n                var groups = that._groups();\n                var lockedCells = $(), lockedCols = $();\n                lockedCells = lockedCells.add(cells.filter('.k-group-cell'));\n                for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                    lockedCells = lockedCells.add(cells.eq(idx + groups));\n                }\n                lockedCols = lockedCols.add(cols.filter('.k-group-col'));\n                for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                    lockedCols = lockedCols.add(cols.eq(idx + groups));\n                }\n                lockedCells.appendTo(html.find('tr'));\n                lockedCols.appendTo(html.find('colgroup'));\n                that.lockedFooter = html.prependTo(footer);\n            },\n            _appendLockedColumnHeader: function (container) {\n                var that = this, columns = this.columns, idx, html, length, colgroup, tr, trFilter, table, header, filtercellCells, rows = [], skipHiddenCount = 0, cols = $(), hasFilterRow = that._hasFilterRow(), filterCellOffset = 0, filterCells = $(), cell, leafColumnsCount = 0, cells = $();\n                colgroup = that.thead.prev().find('col:not(.k-group-col,.k-hierarchy-col)');\n                header = that.thead.find('tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)');\n                filtercellCells = that.thead.find('.k-filter-row').find('th:not(.k-group-cell,.k-hierarchy-cell)');\n                var colOffset = 0;\n                for (idx = 0, length = columns.length; idx < length; idx++) {\n                    if (columns[idx].locked) {\n                        cell = header.eq(idx);\n                        leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n                        if (isVisible(columns[idx])) {\n                            var colSpan = null;\n                            if (columns[idx].columns) {\n                                colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                            }\n                            colSpan = colSpan || 1;\n                            for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                                cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                            }\n                            colOffset += colSpan - 1;\n                        }\n                        mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n                        leafColumnsCount = leafColumnsCount || 1;\n                        for (var j = 0; j < leafColumnsCount; j++) {\n                            filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                        }\n                        filterCellOffset += leafColumnsCount;\n                    }\n                    if (columns[idx].columns) {\n                        skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                    }\n                    if (!isVisible(columns[idx])) {\n                        skipHiddenCount++;\n                    }\n                }\n                if (rows.length) {\n                    html = '<div class=\"k-grid-header-locked\" style=\"width:1px\"><table' + (isIE7 ? ' cellspacing=\"0\"' : '') + '><colgroup/><thead>';\n                    html += new Array(rows.length + 1).join('<tr></tr>');\n                    html += (hasFilterRow ? '<tr class=\"k-filter-row\" />' : '') + '</thead></table></div>';\n                    table = $(html);\n                    colgroup = table.find('colgroup');\n                    colgroup.append(that.thead.prev().find('col.k-group-col').add(cols));\n                    tr = table.find('thead tr:not(.k-filter-row)');\n                    for (idx = 0, length = rows.length; idx < length; idx++) {\n                        cells = toJQuery(rows[idx]);\n                        tr.eq(idx).append(that.thead.find('tr:eq(' + idx + ') .k-group-cell').add(cells));\n                    }\n                    var count = removeEmptyRows(this.thead);\n                    if (rows.length < count) {\n                        removeRowSpanValue(table, count - rows.length);\n                    }\n                    trFilter = table.find('.k-filter-row');\n                    trFilter.append(that.thead.find('.k-filter-row .k-group-cell').add(filterCells));\n                    this.lockedHeader = table.prependTo(container);\n                    this.thead.find('.k-group-cell').remove();\n                    return true;\n                }\n                return false;\n            },\n            _removeLockedContainers: function () {\n                var elements = this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);\n                kendo.destroy(elements);\n                elements.off(NS).remove();\n                this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n                this.selectable = null;\n            },\n            _thead: function () {\n                var that = this, columns = that.columns, hasDetails = that._hasDetails() && columns.length, hasFilterRow = that._hasFilterRow(), idx, html = '', thead = that.table.find('>thead'), hasTHead = that.element.find('thead:first').length > 0, tr;\n                if (!thead.length) {\n                    thead = $('<thead/>').insertBefore(that.tbody);\n                }\n                if (that.lockedHeader && that.thead) {\n                    tr = that.thead.find('tr:has(th):not(.k-filter-row)').html('');\n                    tr.remove();\n                    tr = $();\n                    that._removeLockedContainers();\n                } else if (hasTHead) {\n                    tr = that.element.find('thead:first tr:has(th):not(.k-filter-row)');\n                } else {\n                    tr = that.element.find('tr:has(th):first');\n                }\n                if (!tr.length) {\n                    tr = thead.children().first();\n                    if (!tr.length) {\n                        var rows = [{\n                                rowSpan: 1,\n                                cells: [],\n                                index: 0\n                            }];\n                        that._prepareColumns(rows, columns);\n                        for (idx = 0; idx < rows.length; idx++) {\n                            html += '<tr>';\n                            if (hasDetails) {\n                                html += '<th class=\"k-hierarchy-cell\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>';\n                            }\n                            html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                            html += '</tr>';\n                        }\n                        tr = $(html);\n                    }\n                }\n                if (hasFilterRow) {\n                    var filterRow = $('<tr/>');\n                    filterRow.addClass('k-filter-row');\n                    if (hasDetails || tr.find('.k-hierarchy-cell').length) {\n                        filterRow.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                    }\n                    var existingFilterRow = (that.thead || thead).find('.k-filter-row');\n                    if (existingFilterRow.length) {\n                        kendo.destroy(existingFilterRow);\n                        existingFilterRow.remove();\n                    }\n                    thead.append(filterRow);\n                }\n                if (!tr.children().length) {\n                    html = '';\n                    if (hasDetails) {\n                        html += '<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>';\n                    }\n                    html += that._createHeaderCells(columns);\n                    tr.html(html);\n                } else if (hasDetails && !tr.find('.k-hierarchy-cell')[0]) {\n                    tr.prepend('<th class=\"k-hierarchy-cell\" scope=\"col\">&nbsp;</th>');\n                }\n                tr.attr('role', 'row').find('th').addClass('k-header');\n                if (!that.options.scrollable) {\n                    thead.addClass('k-grid-header');\n                }\n                tr.find('script').remove().end().prependTo(thead);\n                if (that.thead) {\n                    that._destroyColumnAttachments();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: thead.find('th').get() };\n                });\n                this.angular('compile', function () {\n                    return {\n                        elements: thead.find('th').get(),\n                        data: map(columns, function (col) {\n                            return { column: col };\n                        })\n                    };\n                });\n                that.thead = thead.attr('role', 'rowgroup');\n                that._sortable();\n                that._filterable();\n                that._filterRow();\n                that._scrollable();\n                that._updateCols();\n                that._columnMenu();\n                var syncHeight;\n                var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n                if (hasLockedColumns) {\n                    syncHeight = that._appendLockedColumnHeader(that.thead.closest('.k-grid-header'));\n                    that._appendLockedColumnContent();\n                    that.lockedContent.bind('DOMMouseScroll' + NS + ' mousewheel' + NS, proxy(that._wheelScroll, that));\n                }\n                that._updateColumnCellIndex();\n                that._updateFirstColumnClass();\n                that._resizable();\n                that._draggable();\n                that._reorderable();\n                that._updateHeader(that._groups());\n                if (hasLockedColumns) {\n                    if (syncHeight) {\n                        that._syncLockedHeaderHeight();\n                    }\n                    that._applyLockedContainersWidth();\n                }\n                if (that.groupable) {\n                    that._attachGroupable();\n                }\n            },\n            _retrieveFirstColumn: function (columns, rows) {\n                var result = $();\n                if (rows.length && columns[0]) {\n                    var column = columns[0];\n                    while (column.columns && column.columns.length) {\n                        column = column.columns[0];\n                        rows = rows.filter(':not(:first())');\n                    }\n                    result = result.add(rows);\n                }\n                return result;\n            },\n            _updateFirstColumnClass: function () {\n                var that = this, columns = that.columns || [], hasDetails = that._hasDetails() && columns.length;\n                if (!hasDetails && !that._groups()) {\n                    var tr = that.thead.find('>tr:not(.k-filter-row):not(:first)');\n                    columns = nonLockedColumns(columns);\n                    var rows = that._retrieveFirstColumn(columns, tr);\n                    if (that._isLocked()) {\n                        tr = that.lockedHeader.find('thead>tr:not(.k-filter-row):not(:first)');\n                        columns = lockedColumns(that.columns);\n                        rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                    }\n                    rows.each(function () {\n                        var ths = $(this).find('th');\n                        ths.removeClass('k-first');\n                        ths.eq(0).addClass('k-first');\n                    });\n                }\n            },\n            _prepareColumns: function (rows, columns, parentCell, parentRow) {\n                var row = parentRow || rows[rows.length - 1];\n                var childRow = rows[row.index + 1];\n                var totalColSpan = 0;\n                for (var idx = 0; idx < columns.length; idx++) {\n                    var cell = {\n                        column: columns[idx],\n                        colSpan: 0\n                    };\n                    row.cells.push(cell);\n                    if (columns[idx].columns && columns[idx].columns.length) {\n                        if (!childRow) {\n                            childRow = {\n                                rowSpan: 0,\n                                cells: [],\n                                index: rows.length\n                            };\n                            rows.push(childRow);\n                        }\n                        cell.colSpan = columns[idx].columns.length;\n                        this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                        totalColSpan += cell.colSpan - 1;\n                        row.rowSpan = rows.length - row.index;\n                    }\n                }\n                if (parentCell) {\n                    parentCell.colSpan += totalColSpan;\n                }\n            },\n            _wheelScroll: function (e) {\n                if (e.ctrlKey) {\n                    return;\n                }\n                var content = this.content;\n                if (this.options.scrollable.virtual) {\n                    content = this.virtualScrollable.verticalScrollbar;\n                }\n                var scrollTop = content.scrollTop(), delta = kendo.wheelDeltaY(e);\n                if (delta) {\n                    if (content[0].scrollHeight > content[0].clientHeight && (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 || content[0].scrollTop > 0 && delta > 0)) {\n                        e.preventDefault();\n                    }\n                    content.scrollTop(scrollTop + -delta);\n                }\n            },\n            _isLocked: function () {\n                return this.lockedHeader != null;\n            },\n            _updateHeaderCols: function () {\n                var table = this.thead.parent().add(this.table);\n                if (this._isLocked()) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n                }\n            },\n            _updateCols: function (table) {\n                table = table || this.thead.parent().add(this.table);\n                this._appendCols(table, this._isLocked());\n            },\n            _updateLockedCols: function (table) {\n                if (this._isLocked()) {\n                    table = table || this.lockedHeader.find('table').add(this.lockedTable);\n                    normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _appendCols: function (table, locked) {\n                if (locked) {\n                    normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n                } else {\n                    normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n                }\n            },\n            _autoColumns: function (schema) {\n                if (schema && schema.toJSON) {\n                    var that = this, field, encoded;\n                    schema = schema.toJSON();\n                    encoded = !(that.table.find('tbody tr').length > 0 && (!that.dataSource || !that.dataSource.transport));\n                    for (field in schema) {\n                        that.columns.push({\n                            field: field,\n                            encoded: encoded,\n                            headerAttributes: { id: kendo.guid() }\n                        });\n                    }\n                    that._thead();\n                    that._templates();\n                }\n            },\n            _rowsHtml: function (data, templates) {\n                var that = this, html = '', idx, rowTemplate = templates.rowTemplate, altRowTemplate = templates.altRowTemplate, length;\n                for (idx = 0, length = data.length; idx < length; idx++) {\n                    if (that._skipRerenderItemsCount > 0) {\n                        that._skipRerenderItemsCount--;\n                    } else {\n                        if (idx % 2) {\n                            html += altRowTemplate(data[idx]);\n                        } else {\n                            html += rowTemplate(data[idx]);\n                        }\n                    }\n                    that._data.push(data[idx]);\n                }\n                return html;\n            },\n            _groupRowHtml: function (group, colspan, level, groupHeaderBuilder, templates, skipColspan) {\n                var that = this, html = '', idx, length, field = group.field, column = grep(leafColumns(that.columns), function (column) {\n                        return column.field == field;\n                    })[0] || {}, template = column.groupHeaderTemplate, text = (column.title || field) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded), footerDefaults = that._groupAggregatesDefaultObject || {}, groupItems = group.items, aggregates = extend({}, footerDefaults, group.aggregates), headerData = extend({}, {\n                        field: group.field,\n                        value: group.value,\n                        items: groupItems,\n                        aggregates: aggregates\n                    }, group.aggregates[group.field]), groupFooterTemplate = templates.groupFooterTemplate;\n                if (template) {\n                    text = typeof template === FUNCTION ? template(headerData) : kendo.template(template)(headerData);\n                }\n                if (!that._skipRerenderItemsCount) {\n                    html += groupHeaderBuilder(colspan, level, text);\n                } else {\n                    groupHeaderBuilder(colspan, level, text);\n                }\n                if (group.hasSubgroups) {\n                    for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                        if (!that._skipRerenderItemsCount) {\n                            html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan);\n                        } else {\n                            that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan);\n                        }\n                    }\n                } else {\n                    html += that._rowsHtml(groupItems, templates);\n                }\n                if (groupFooterTemplate) {\n                    var footerData = {};\n                    for (var aggregate in aggregates) {\n                        footerData[aggregate] = extend({}, aggregates[aggregate], {\n                            group: {\n                                field: group.field,\n                                value: group.value,\n                                items: groupItems\n                            }\n                        });\n                    }\n                    html += groupFooterTemplate(footerData);\n                }\n                return html;\n            },\n            collapseGroup: function (group) {\n                var level, that = this, groupToCollapse = group, groupable = this.options.groupable, showFooter = groupable.showFooter, footerCount = showFooter ? 0 : 1, offset, relatedGroup = $(), idx, length, tr;\n                group = $(group);\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-collapse').addClass('k-i-expand').removeClass('k-i-collapse');\n                group.find('td[aria-expanded=\\'true\\']:first').attr('aria-expanded', false).find('a').attr(ARIALABEL, EXPAND);\n                group = group.nextAll('tr');\n                var toHide = [];\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (tr.hasClass('k-grouping-row')) {\n                        footerCount++;\n                    } else if (tr.hasClass('k-group-footer')) {\n                        footerCount--;\n                    }\n                    if (offset <= level || tr.hasClass('k-group-footer') && footerCount < 0) {\n                        break;\n                    }\n                    if (relatedGroup.length) {\n                        toHide.push(relatedGroup[idx]);\n                    }\n                    toHide.push(tr[0]);\n                }\n                $(toHide).hide();\n                if (this.options.scrollable.endless && this.content) {\n                    setTimeout(function () {\n                        that.content.scroll();\n                        that._groupToCollapse = groupToCollapse;\n                    });\n                }\n            },\n            expandGroup: function (group) {\n                group = $(group);\n                var that = this, showFooter = that.options.groupable.showFooter, level, tr, offset, relatedGroup = $(), idx, length, footersVisibility = [], groupsCount = 1;\n                if (this._isLocked()) {\n                    if (!group.closest('div').hasClass('k-grid-content-locked')) {\n                        relatedGroup = group.nextAll('tr');\n                        group = this.lockedTable.find('>tbody>tr:eq(' + group.index() + ')');\n                    } else {\n                        relatedGroup = this.tbody.children('tr:eq(' + group.index() + ')').nextAll('tr');\n                    }\n                }\n                level = group.find('.k-group-cell').length;\n                group.find('.k-i-expand').addClass('k-i-collapse').removeClass('k-i-expand');\n                group.find('td[aria-expanded=\\'false\\']:first').attr('aria-expanded', true).find('a').attr(ARIALABEL, COLLAPSE);\n                group = group.nextAll('tr');\n                for (idx = 0, length = group.length; idx < length; idx++) {\n                    tr = group.eq(idx);\n                    offset = tr.find('.k-group-cell').length;\n                    if (offset <= level) {\n                        break;\n                    }\n                    if (offset == level + 1 && !tr.hasClass('k-detail-row')) {\n                        tr.show();\n                        relatedGroup.eq(idx).show();\n                        if (tr.hasClass('k-grouping-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            that.expandGroup(tr);\n                        }\n                        if (tr.hasClass('k-master-row') && tr.find('.k-icon').hasClass('k-i-collapse')) {\n                            tr.next().show();\n                            relatedGroup.eq(idx + 1).show();\n                        }\n                    }\n                    if (tr.hasClass('k-grouping-row')) {\n                        if (showFooter) {\n                            footersVisibility.push(tr.is(':visible'));\n                        }\n                        groupsCount++;\n                    }\n                    if (tr.hasClass('k-group-footer')) {\n                        if (showFooter) {\n                            tr.toggle(footersVisibility.pop());\n                        }\n                        if (groupsCount == 1) {\n                            tr.show();\n                            relatedGroup.eq(idx).show();\n                        } else {\n                            groupsCount--;\n                        }\n                    }\n                }\n            },\n            _updateHeader: function (groups) {\n                var that = this, container = that._isLocked() ? that.lockedHeader.find('thead') : that.thead, filterCells = container.find('tr.k-filter-row').find('th.k-group-cell').length, length = container.find('tr:first').find('th.k-group-cell').length, rows = container.children('tr:not(:first)').filter(function () {\n                        return !$(this).children(':visible').length;\n                    });\n                if (groups > length) {\n                    $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">' + that.options.messages.expandCollapseColumnHeader + '</th>')).prependTo(container.children('tr:not(.k-filter-row)'));\n                    if (that.element.is(':visible')) {\n                        rows.find('th.k-group-cell').hide();\n                    }\n                } else if (groups < length) {\n                    container.find('tr').each(function () {\n                        $(this).find('th.k-group-cell').filter(':eq(' + groups + '),' + ':gt(' + groups + ')').remove();\n                    });\n                }\n                if (groups > filterCells) {\n                    $(new Array(groups - filterCells + 1).join('<th class=\"k-group-cell k-header\" scope=\"col\">&nbsp;</th>')).prependTo(container.find('.k-filter-row'));\n                }\n            },\n            _firstDataItem: function (data, grouped) {\n                if (data && grouped) {\n                    if (data.hasSubgroups) {\n                        data = this._firstDataItem(data.items[0], grouped);\n                    } else {\n                        data = data.items[0];\n                    }\n                }\n                return data;\n            },\n            _updateTablesWidth: function () {\n                var that = this, tables;\n                if (!that._isLocked()) {\n                    return;\n                }\n                tables = $('>.k-grid-footer>.k-grid-footer-wrap>table', that.wrapper).add(that.thead.parent()).add(that.table);\n                that._footerWidth = tableWidth(tables.eq(0));\n                tables.width(that._footerWidth);\n                tables = $('>.k-grid-footer>.k-grid-footer-locked>table', that.wrapper).add(that.lockedHeader.find('>table')).add(that.lockedTable);\n                tables.width(tableWidth(tables.eq(0)));\n            },\n            hideColumn: function (column) {\n                var that = this, cell, tables, idx, cols, colWidth, position, width = 0, headerCellIndex, length, footer = that.footer || that.wrapper.find('.k-grid-footer'), columns = that.columns, visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).filter(isCellVisible).length : 0, columnIndex;\n                if (typeof column == 'number') {\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item === column;\n                    })[0];\n                } else {\n                    column = grep(flatColumns(columns), function (item) {\n                        return item.field === column;\n                    })[0];\n                }\n                if (!column || !isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnVisiblePosition(column, columns);\n                    setColumnVisibility(column, false);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, false);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        this.hideColumn(column.columns[idx]);\n                    }\n                    that.trigger(COLUMNHIDE, { column: column });\n                    return;\n                }\n                columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n                setColumnVisibility(column, false);\n                that._setParentsVisibility(column, false);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnIndex;\n                if (that.lockedHeader && visibleLocked > columnIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= visibleLocked;\n                }\n                cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                cell[0].style.display = 'none';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnIndex, false);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnIndex, false);\n                }\n                if (that.lockedTable && visibleLocked > columnIndex) {\n                    hideColumnCells(that.lockedTable.find('>tbody>tr'), columnIndex);\n                } else {\n                    hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                    that._syncLockedFooterHeight();\n                } else {\n                    cols = that.thead.prev().find('col');\n                    for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                        colWidth = cols[idx].style.width;\n                        if (colWidth && colWidth.indexOf('%') == -1) {\n                            width += parseInt(colWidth, 10);\n                        } else {\n                            width = 0;\n                            break;\n                        }\n                    }\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    that._footerWidth = null;\n                    if (width) {\n                        tables.each(function () {\n                            this.style.width = width + 'px';\n                        });\n                        that._footerWidth = width;\n                    }\n                    if (browser.msie && browser.version == 8) {\n                        tables.css('display', 'inline-table');\n                        setTimeout(function () {\n                            tables.css('display', 'table');\n                        }, 1);\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNHIDE, { column: column });\n            },\n            _setParentsVisibility: function (column, visible) {\n                var columns = this.columns;\n                var idx;\n                var parents = [];\n                var parent;\n                var position;\n                var cell;\n                var colSpan;\n                var predicate = visible ? function (p) {\n                    return visibleColumns(p.columns).length && p.hidden;\n                } : function (p) {\n                    return !visibleColumns(p.columns).length && !p.hidden;\n                };\n                if (columnParents(column, columns, parents) && parents.length) {\n                    for (idx = parents.length - 1; idx >= 0; idx--) {\n                        parent = parents[idx];\n                        position = columnPosition(parent, columns);\n                        cell = elements($('>table>thead', this.lockedHeader), this.thead, '>tr:eq(' + position.row + ')>th:not(.k-group-cell):not(.k-hierarchy-cell)').eq(position.cell);\n                        if (predicate(parent)) {\n                            setColumnVisibility(parent, visible);\n                            cell[0].style.display = visible ? '' : 'none';\n                        }\n                        if (cell.filter('[' + kendo.attr('colspan') + ']').length) {\n                            colSpan = parseInt(cell.attr(kendo.attr('colspan')), 10);\n                            cell[0].colSpan = colSpan - hiddenLeafColumnsCount(parent.columns) || 1;\n                        }\n                    }\n                }\n            },\n            showColumn: function (column) {\n                var that = this, idx, length, cell, tables, width, headerCellIndex, position, colWidth, cols, columns = that.columns, footer = that.footer || that.wrapper.find('.k-grid-footer'), lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find('>table>thead')).length : 0, columnIndex, originalColumn, columnLeafIndex;\n                if (typeof column == 'number') {\n                    columnIndex = column;\n                    column = columns[column];\n                } else if (isPlainObject(column)) {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                } else {\n                    $.each(flatColumns(columns), function (index, item) {\n                        if (item.field === column) {\n                            column = item;\n                            columnIndex = index;\n                            return false;\n                        }\n                    });\n                }\n                if (!column || isVisible(column)) {\n                    return;\n                }\n                if (column.columns && column.columns.length) {\n                    position = columnPosition(column, columns);\n                    originalColumn = flatColumns(that.options.columns)[columnIndex];\n                    setColumnVisibility(column, true);\n                    setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr:eq(' + position.row + ')>th'), position.cell, true);\n                    for (idx = 0; idx < column.columns.length; idx++) {\n                        if (!originalColumn.columns[idx].hidden) {\n                            this.showColumn(column.columns[idx]);\n                        }\n                    }\n                    that.trigger(COLUMNSHOW, { column: column });\n                    return;\n                }\n                columnLeafIndex = inArray(column, leafColumns(columns));\n                setColumnVisibility(column, true);\n                that._setParentsVisibility(column, true);\n                that._templates();\n                that._updateCols();\n                that._updateLockedCols();\n                var container = that.thead;\n                headerCellIndex = columnLeafIndex;\n                if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                    container = that.lockedHeader.find('>table>thead');\n                } else {\n                    headerCellIndex -= lockedColumnsCount;\n                }\n                cell = leafDataCells(container).eq(headerCellIndex);\n                cell[0].style.display = '';\n                setCellVisibility(elements($('>table>thead', that.lockedHeader), that.thead, '>tr.k-filter-row>th'), columnLeafIndex, true);\n                if (footer[0]) {\n                    that._updateCols(footer.find('>.k-grid-footer-wrap>table'));\n                    that._updateLockedCols(footer.find('>.k-grid-footer-locked>table'));\n                    setCellVisibility(footer.find('.k-footer-template>td'), columnLeafIndex, true);\n                }\n                if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                    showColumnCells(that.lockedTable.find('>tbody>tr'), columnLeafIndex);\n                } else {\n                    showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n                }\n                if (that.lockedTable) {\n                    that._updateTablesWidth();\n                    that._applyLockedContainersWidth();\n                    that._syncLockedContentHeight();\n                    that._syncLockedHeaderHeight();\n                } else {\n                    tables = $('>.k-grid-header table:first,>.k-grid-footer table:first', that.wrapper).add(that.table);\n                    if (!column.width) {\n                        tables.width('');\n                    } else {\n                        width = 0;\n                        cols = that.thead.prev().find('col');\n                        for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                            colWidth = cols[idx].style.width;\n                            if (colWidth.indexOf('%') > -1) {\n                                width = 0;\n                                break;\n                            }\n                            width += parseInt(colWidth, 10);\n                        }\n                        that._footerWidth = null;\n                        if (width) {\n                            tables.each(function () {\n                                this.style.width = width + 'px';\n                            });\n                            that._footerWidth = width;\n                        }\n                    }\n                }\n                that._updateFirstColumnClass();\n                that.trigger(COLUMNSHOW, { column: column });\n            },\n            _progress: function (toggle) {\n                var element = this.element;\n                var endless = this.options.scrollable && this.options.scrollable.endless;\n                if (this._editContainer && this._editMode() === 'popup') {\n                    element = this._editContainer;\n                } else if (this.lockedContent || endless) {\n                    element = this.wrapper;\n                } else if (this.element.is('table')) {\n                    element = this.element.parent();\n                } else if (this.content && this.content.length) {\n                    element = this.content;\n                }\n                if (endless && toggle) {\n                    kendo.ui.progress(element, toggle, {\n                        height: this.content.height(),\n                        top: this.content[0].offsetTop,\n                        opacity: true\n                    });\n                } else {\n                    kendo.ui.progress(element, toggle);\n                }\n            },\n            _resize: function (size, force) {\n                this._syncLockedContentHeight();\n                this._syncLockedHeaderHeight();\n                if (this.content) {\n                    this._setContentWidth();\n                    this._setContentHeight();\n                }\n                if (this.virtualScrollable && (force || this._rowHeight)) {\n                    if (force) {\n                        this._rowHeight = null;\n                    }\n                    this.virtualScrollable.repaintScrollbar();\n                }\n            },\n            _isActiveInTable: function () {\n                var active = activeElement();\n                if (!active) {\n                    return false;\n                }\n                return this.table[0] === active || $.contains(this.table[0], active) || this._isLocked() && (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active));\n            },\n            refresh: function (e) {\n                var that = this, data = that.dataSource.view(), navigatable = that.options.navigatable, currentIndex, current = $(that.current()), isCurrentInHeader = false, groups = (that.dataSource.group() || []).length, colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length;\n                var contentScrollLeft;\n                if (e && e.action === 'itemchange' && that.editable) {\n                    return;\n                }\n                if (e && e.action === 'remove' && that.editable && that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                    that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n                }\n                e = e || {};\n                if (e.action === SYNC && that._isVirtualEditable()) {\n                    that._destroyEditable();\n                    that._clearEditableState();\n                    that._restoreVirtualView();\n                    return;\n                }\n                if (that.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                that._angularItems('cleanup');\n                if (!that._endlessFetchInProgress) {\n                    if (navigatable && (that._isActiveInTable() || that._editContainer && that._editContainer.data('kendoWindow'))) {\n                        isCurrentInHeader = current.is('th');\n                        currentIndex = isCurrentInHeader ? current.index() : Math.max(that.cellIndex(current), 0);\n                    }\n                    that._destroyEditable();\n                }\n                if (that.options.scrollable && that.options.scrollable.endless) {\n                    clearTimeout(that._progressTimeOut);\n                    that._progressTimeOut = setTimeout(function () {\n                        if (!that._endlessFetchInProgress) {\n                            that._progress(false);\n                        }\n                    }, 100);\n                } else {\n                    that._progress(false);\n                }\n                that._hideResizeHandle();\n                that._data = [];\n                if (!that.columns.length) {\n                    that._autoColumns(that._firstDataItem(data[0], groups));\n                    colspan = groups + that.columns.length;\n                }\n                that._group = groups > 0 || that._group;\n                if (that._group) {\n                    that._templates();\n                    that._updateCols();\n                    that._updateLockedCols();\n                    that._updateHeader(groups);\n                    that._group = groups > 0;\n                    that._groupRows = groupRows(data);\n                }\n                if (that.content) {\n                    contentScrollLeft = that.content.scrollLeft();\n                }\n                that._renderContent(data, colspan, groups);\n                that._renderLockedContent(data, colspan, groups);\n                that._footer();\n                that._renderNoRecordsContent();\n                that._togglePagerVisibility();\n                that._setContentHeight();\n                that._setContentWidth(that.content && contentScrollLeft);\n                if (that.lockedTable) {\n                    if (that.options.scrollable.virtual) {\n                        that.content.find('>.k-virtual-scrollable-wrap').trigger('scroll');\n                    } else if (that.touchScroller) {\n                        that.touchScroller.movable.trigger('change');\n                    } else {\n                        that.wrapper.one('scroll', function (e) {\n                            e.stopPropagation();\n                        });\n                        that.content.trigger('scroll');\n                    }\n                }\n                if (!that._endlessFetchInProgress) {\n                    that._restoreCurrent(currentIndex, isCurrentInHeader);\n                }\n                if (that.touchScroller) {\n                    that.touchScroller.contentResized();\n                }\n                if (that.selectable) {\n                    that.selectable.resetTouchEvents();\n                }\n                that._muteAngularRebind(function () {\n                    that._angularItems('compile');\n                });\n                if (that._checkBoxSelection) {\n                    that._toggleHeaderCheckState(false);\n                }\n                if (that.options.persistSelection && (that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell || that._checkBoxSelection)) {\n                    that._restoreSelection();\n                }\n                that.trigger(DATABOUND);\n            },\n            _restoreCurrent: function (currentIndex, isCurrentInHeader) {\n                if (currentIndex === undefined || currentIndex < 0) {\n                    return;\n                }\n                this._removeCurrent();\n                if (isCurrentInHeader) {\n                    this._setCurrent(this.thead.find('th:not(.k-group-cell)').eq(currentIndex));\n                } else {\n                    var rowIndex = 0;\n                    if (this._rowVirtualIndex) {\n                        rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                    } else {\n                        currentIndex = 0;\n                    }\n                    var row = $();\n                    if (this.lockedTable) {\n                        row = this.lockedTable.find('>tbody>tr').eq(rowIndex);\n                    }\n                    row = row.add(this.tbody.children().eq(rowIndex));\n                    var td = row.find('>td:not(.k-group-cell):not(.k-hierarchy-cell)').eq(currentIndex);\n                    this._setCurrent(td);\n                }\n                if (this._current) {\n                    focusTable(this._current.closest('table')[0], true);\n                }\n            },\n            _restoreSelection: function () {\n                var that = this, allRows = that.items(), selectedRows;\n                selectedRows = grep(allRows, function (row) {\n                    var dataItemKey = that.dataItem(row)[that.dataSource.options.schema.model.id];\n                    if (that._selectedIds[dataItemKey]) {\n                        return row;\n                    }\n                });\n                that.select(selectedRows);\n            },\n            _angularItems: function (cmd) {\n                kendo.ui.DataBoundWidget.fn._angularItems.call(this, cmd);\n                if (cmd === 'cleanup') {\n                    this._cleanupDetailItems();\n                }\n                this._angularGroupItems(cmd);\n                this._angularGroupFooterItems(cmd);\n            },\n            _cleanupDetailItems: function () {\n                var that = this;\n                if (that._hasDetails()) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.tbody.children('.k-detail-row') };\n                    });\n                    that.tbody.find('.k-detail-cell').empty();\n                }\n            },\n            _angularGroupItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.lockedTable.find('tbody');\n                }\n                if (that._group) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.children('.k-grouping-row'),\n                            data: $.map(groupRows(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _angularGroupFooterItems: function (cmd) {\n                var that = this, container = that.tbody;\n                if (that.lockedContent) {\n                    container = that.element;\n                }\n                if (that._group && that.groupFooterTemplate) {\n                    that.angular(cmd, function () {\n                        return {\n                            elements: container.find('.k-group-footer'),\n                            data: $.map(groupFooters(that.dataSource.view()), function (dataItem) {\n                                return { dataItem: dataItem };\n                            })\n                        };\n                    });\n                }\n            },\n            _renderContent: function (data, colspan, groups) {\n                var that = this, idx, length, html = '', isLocked = that.lockedContent != null, endlessAppend = null, scrollable = that.options.scrollable, templates = {\n                        rowTemplate: that.rowTemplate,\n                        altRowTemplate: that.altRowTemplate,\n                        groupFooterTemplate: that.groupFooterTemplate\n                    };\n                if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                    that._skipRerenderItemsCount = 0;\n                    if (that.content) {\n                        that.content[0].scrollTop = 0;\n                    }\n                }\n                endlessAppend = that._skipRerenderItemsCount > 0;\n                colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n                if (groups > 0) {\n                    colspan = isLocked ? colspan - groups : colspan;\n                    if (that.detailTemplate) {\n                        colspan++;\n                    }\n                    if (that.groupFooterTemplate) {\n                        that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                    }\n                    for (idx = 0, length = data.length; idx < length; idx++) {\n                        html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked);\n                    }\n                } else {\n                    html += that._rowsHtml(data, templates);\n                }\n                if (endlessAppend) {\n                    that.tbody.append(html);\n                    setTimeout(function () {\n                        if (that._groupToCollapse) {\n                            that.collapseGroup(that._groupToCollapse);\n                            that._groupToCollapse = null;\n                        }\n                    });\n                    that._endlessFetchInProgress = null;\n                } else {\n                    that.tbody = appendContent(that.tbody, that.table, html, this.options.$angular);\n                }\n            },\n            _renderLockedContent: function (data, colspan, groups) {\n                var html = '', idx, length, templates = {\n                        rowTemplate: this.lockedRowTemplate,\n                        altRowTemplate: this.lockedAltRowTemplate,\n                        groupFooterTemplate: this.lockedGroupFooterTemplate\n                    };\n                if (this.lockedContent) {\n                    var table = this.lockedTable;\n                    if (groups > 0) {\n                        colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                        for (idx = 0, length = data.length; idx < length; idx++) {\n                            html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates);\n                        }\n                    } else {\n                        html = this._rowsHtml(data, templates);\n                    }\n                    appendContent(table.children('tbody'), table, html, this.options.$angular);\n                    this._syncLockedContentHeight();\n                }\n            },\n            _togglePagerVisibility: function () {\n                if (this.options.pageable.alwaysVisible === false) {\n                    this.wrapper.find('.k-grid-pager').toggle(this.dataSource.total() >= this.dataSource.pageSize());\n                }\n            },\n            _adjustRowsHeight: function (table1, table2) {\n                var rows = table1[0].rows, length = rows.length, idx, rows2 = table2[0].rows, containers = table1.add(table2), containersLength = containers.length, heights = [];\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    if (rows[idx].style.height) {\n                        rows[idx].style.height = rows2[idx].style.height = '';\n                    }\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (!rows2[idx]) {\n                        break;\n                    }\n                    var offsetHeight1 = rows[idx].offsetHeight;\n                    var offsetHeight2 = rows2[idx].offsetHeight;\n                    var height = 0;\n                    if (offsetHeight1 > offsetHeight2) {\n                        height = offsetHeight1;\n                    } else if (offsetHeight1 < offsetHeight2) {\n                        height = offsetHeight2;\n                    }\n                    heights.push(height);\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = 'none';\n                }\n                for (idx = 0; idx < length; idx++) {\n                    if (heights[idx]) {\n                        rows[idx].style.height = rows2[idx].style.height = heights[idx] + 1 + 'px';\n                    }\n                }\n                for (idx = 0; idx < containersLength; idx++) {\n                    containers[idx].style.display = '';\n                }\n            }\n        });\n        if (kendo.ExcelMixin) {\n            kendo.ExcelMixin.extend(Grid.prototype);\n        }\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Grid.prototype);\n            Grid.prototype._drawPDF_autoPageBreak = function (progress) {\n                var grid = this;\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                var origBody = grid.wrapper.find('table[role=\"grid\"] > tbody');\n                var cont = $('<div>').css({\n                    position: 'absolute',\n                    left: -10000,\n                    top: -10000\n                });\n                var clone = grid.wrapper.clone().css({\n                    height: 'auto',\n                    width: 'auto'\n                }).appendTo(cont);\n                clone.find('.k-grid-content').css({\n                    height: 'auto',\n                    width: 'auto',\n                    overflow: 'visible'\n                });\n                clone.find('table[role=\"grid\"], .k-grid-footer table').css({\n                    height: 'auto',\n                    width: '100%',\n                    overflow: 'visible'\n                });\n                clone.find('.k-grid-pager, .k-grid-toolbar, .k-grouping-header').remove();\n                clone.find('.k-grid-header, .k-grid-footer').css({ paddingRight: 0 });\n                this._initPDFProgress(progress);\n                var body = clone.find('table[role=\"grid\"] > tbody').empty();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.one('change', draw);\n                        dataSource.page(startingPage);\n                    } else {\n                        grid.refresh();\n                        draw();\n                    }\n                }\n                function draw() {\n                    cont.appendTo(document.body);\n                    var options = $.extend({}, grid.options.pdf, {\n                        _destructive: true,\n                        progress: function (p) {\n                            progress.notify({\n                                page: p.page,\n                                pageNumber: p.pageNum,\n                                progress: 0.5 + p.pageNum / p.totalPages / 2,\n                                totalPages: p.totalPages\n                            });\n                        }\n                    });\n                    kendo.drawing.drawDOM(clone, options).always(function () {\n                        cont.remove();\n                    }).then(function (group) {\n                        result.resolve(group);\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                function renderPage() {\n                    var pageNum = dataSource.page();\n                    var totalPages = allPages ? dataSource.totalPages() : 1;\n                    body.append(origBody.find('tr'));\n                    if (pageNum < totalPages) {\n                        dataSource.page(pageNum + 1);\n                    } else {\n                        dataSource.unbind('change', renderPage);\n                        resolve();\n                    }\n                }\n                if (allPages) {\n                    dataSource.bind('change', renderPage);\n                    dataSource.page(1);\n                } else {\n                    renderPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._drawPDF = function (progress) {\n                var grid = this;\n                if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != 'auto') {\n                    return grid._drawPDF_autoPageBreak(progress);\n                }\n                var result = new $.Deferred();\n                var dataSource = grid.dataSource;\n                var allPages = grid.options.pdf.allPages;\n                this._initPDFProgress(progress);\n                var doc = new kendo.drawing.Group();\n                var startingPage = dataSource.page();\n                function resolve() {\n                    if (allPages && startingPage !== undefined) {\n                        dataSource.unbind('change', exportPage);\n                        dataSource.one('change', function () {\n                            result.resolve(doc);\n                        });\n                        dataSource.page(startingPage);\n                    } else {\n                        result.resolve(doc);\n                    }\n                }\n                function exportPage() {\n                    grid._drawPDFShadow({ width: grid.wrapper.width() }, { avoidLinks: grid.options.pdf.avoidLinks }).done(function (group) {\n                        var pageNum = dataSource.page();\n                        var totalPages = allPages ? dataSource.totalPages() : 1;\n                        var args = {\n                            page: group,\n                            pageNumber: pageNum,\n                            progress: pageNum / totalPages,\n                            totalPages: totalPages\n                        };\n                        progress.notify(args);\n                        doc.append(args.page);\n                        if (pageNum < totalPages) {\n                            dataSource.page(pageNum + 1);\n                        } else {\n                            resolve();\n                        }\n                    }).fail(function (err) {\n                        result.reject(err);\n                    });\n                }\n                if (allPages) {\n                    dataSource.bind('change', exportPage);\n                    dataSource.page(1);\n                } else {\n                    exportPage();\n                }\n                return result.promise();\n            };\n            Grid.prototype._initPDFProgress = function (deferred) {\n                var loading = $('<div class=\\'k-loading-pdf-mask\\'><div class=\\'k-loading-color\\'/></div>');\n                loading.prepend(this.wrapper.clone().css({\n                    position: 'absolute',\n                    top: 0,\n                    left: 0\n                }));\n                this.wrapper.append(loading);\n                var pb = $('<div class=\\'k-loading-pdf-progress\\'>').appendTo(loading).kendoProgressBar({\n                    type: 'chunk',\n                    chunkCount: 10,\n                    min: 0,\n                    max: 1,\n                    value: 0\n                }).data('kendoProgressBar');\n                deferred.progress(function (e) {\n                    pb.value(e.progress);\n                }).always(function () {\n                    kendo.destroy(loading);\n                    loading.remove();\n                });\n            };\n        }\n        function syncTableHeight(table1, table2) {\n            table1 = table1[0];\n            table2 = table2[0];\n            if (table1.rows.length !== table2.rows.length) {\n                var lockedHeigth = table1.offsetHeight;\n                var tableHeigth = table2.offsetHeight;\n                var row;\n                var diff;\n                if (lockedHeigth > tableHeigth) {\n                    row = table2.rows[table2.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table2.rows[table2.rows.length - 2];\n                    }\n                    diff = lockedHeigth - tableHeigth;\n                } else {\n                    row = table1.rows[table1.rows.length - 1];\n                    if (filterRowRegExp.test(row.className)) {\n                        row = table1.rows[table1.rows.length - 2];\n                    }\n                    diff = tableHeigth - lockedHeigth;\n                }\n                row.style.height = row.offsetHeight + diff + 'px';\n            }\n        }\n        function adjustRowHeight(row1, row2) {\n            var height;\n            var offsetHeight1 = row1.offsetHeight;\n            var offsetHeight2 = row2.offsetHeight;\n            if (offsetHeight1 > offsetHeight2) {\n                height = offsetHeight1 + 'px';\n            } else if (offsetHeight1 < offsetHeight2) {\n                height = offsetHeight2 + 'px';\n            }\n            if (height) {\n                row1.style.height = row2.style.height = height;\n            }\n        }\n        function getCommand(commands, name) {\n            var idx, length, command;\n            if (typeof commands === STRING && commands === name) {\n                return commands;\n            }\n            if (isPlainObject(commands) && commands.name === name) {\n                return commands;\n            }\n            if (isArray(commands)) {\n                for (idx = 0, length = commands.length; idx < length; idx++) {\n                    command = commands[idx];\n                    if (typeof command === STRING && command === name || command.name === name) {\n                        return command;\n                    }\n                }\n            }\n            return null;\n        }\n        function focusTable(table, direct) {\n            if (direct === true) {\n                table = $(table);\n                var scrollLeft = table.parent().scrollLeft();\n                kendo.focusElement(table);\n                table.parent().scrollLeft(scrollLeft);\n            } else {\n                $(table).one('focusin', function (e) {\n                    e.preventDefault();\n                }).focus();\n            }\n        }\n        function isColumnEditable(column, model) {\n            if (!column.field || column.selectable) {\n                return false;\n            }\n            if (model.editable && !model.editable(column.field)) {\n                return false;\n            }\n            if (column.editable && !column.editable(model)) {\n                return false;\n            }\n            return true;\n        }\n        function isInputElement(element) {\n            return $(element).is(':button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown');\n        }\n        function tableClick(e) {\n            var currentTarget = $(e.currentTarget), isHeader = currentTarget.is('th'), table = this.table.add(this.lockedTable), headerTable = this.thead.parent().add($('>table', this.lockedHeader)), isInput = isInputElement(e.target), target = $(e.target), currentTable = currentTarget.closest('table')[0];\n            if (kendo.support.touch) {\n                return;\n            }\n            if (isInput && currentTarget.find(kendo.roleSelector('filtercell')).length) {\n                this._setCurrent(currentTarget);\n                return;\n            }\n            if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n                return;\n            }\n            if (target.is('a.k-i-expand, a.k-i-collapse')) {\n                return;\n            }\n            if (this.options.navigatable) {\n                this._setCurrent(currentTarget);\n            }\n            if (isHeader || !isInput) {\n                setTimeout(function () {\n                    if (!(isIE8 && $(kendo._activeElement()).hasClass('k-widget'))) {\n                        if (!isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement())) {\n                            focusTable(currentTable, true);\n                        }\n                    }\n                });\n            }\n            if (isHeader) {\n                e.preventDefault();\n            }\n        }\n        function isInEdit(cell) {\n            return cell && (cell.hasClass('k-edit-cell') || cell.parent().hasClass('k-grid-edit-row'));\n        }\n        function groupRowBuilder(colspan, level, text) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + groupCells(level) + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">' + '<a class=\"k-icon k-i-collapse\" href=\"#\" tabindex=\"-1\" ' + ARIALABEL + '=\"' + COLLAPSE + '\"></a>' + text + '</p></td></tr>';\n        }\n        function groupRowLockedContentBuilder(colspan) {\n            return '<tr role=\"row\" class=\"k-grouping-row\">' + '<td colspan=\"' + colspan + '\" aria-expanded=\"true\">' + '<p class=\"k-reset\">&nbsp;</p></td></tr>';\n        }\n        ui.plugin(Grid);\n        ui.plugin(VirtualScrollable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}